"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[335],{3335:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var a=s(5043),n=s(9722),i=s(579);const r=()=>{var e,t,s,r,l,c;const[d,o]=(0,a.useState)(null),[x,m]=(0,a.useState)(!0),[h,g]=(0,a.useState)(null),[u,j]=(0,a.useState)(!1),p="".concat("https://tradesmartview.preview.emergentagent.com","/api"),b=async()=>{try{m(!0);const e=await n.A.get("".concat(p,"/auth/tradestation/status"));o(e.data),g(null)}catch(e){g("Failed to check auth status: ".concat(e.message))}finally{m(!1)}};if((0,a.useEffect)((()=>{(()=>{const e=localStorage.getItem("ts_auth_in_progress");localStorage.getItem("ts_auth_started");"true"===e&&(console.log("\ud83d\udd04 Detected return from authentication process"),localStorage.removeItem("ts_auth_in_progress"),localStorage.removeItem("ts_auth_started"),setTimeout((()=>{b()}),1e3))})(),b()}),[]),x)return(0,i.jsx)("div",{className:"bg-gray-900 p-6 rounded-lg border border-gray-700",children:(0,i.jsxs)("div",{className:"flex items-center justify-center",children:[(0,i.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full mr-3"}),(0,i.jsx)("span",{className:"text-gray-300",children:"Checking TradeStation status..."})]})});const v=null===d||void 0===d||null===(e=d.authentication)||void 0===e?void 0:e.authenticated;return(0,i.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg border border-gray-700",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsx)("h3",{className:"text-xl font-semibold text-white flex items-center",children:"\ud83d\udcca TradeStation Connection"}),(0,i.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(v?"bg-green-800 text-green-200":"bg-red-800 text-red-200"),children:v?"\u2705 Connected":"\u274c Not Connected"})]}),h&&(0,i.jsx)("div",{className:"bg-red-800 border border-red-600 text-red-200 p-3 rounded-lg mb-4",children:(0,i.jsx)("p",{className:"text-sm",children:h})}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-600",children:[(0,i.jsx)("h4",{className:"text-lg font-medium text-white mb-3",children:"Connection Status"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-400",children:"Environment:"}),(0,i.jsx)("span",{className:"text-white ml-2 font-mono",children:null===d||void 0===d||null===(t=d.authentication)||void 0===t?void 0:t.environment})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-400",children:"Has Access Token:"}),(0,i.jsx)("span",{className:"text-white ml-2",children:null!==d&&void 0!==d&&null!==(s=d.authentication)&&void 0!==s&&s.has_access_token?"\u2705 Yes":"\u274c No"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-400",children:"Has Refresh Token:"}),(0,i.jsx)("span",{className:"text-white ml-2",children:null!==d&&void 0!==d&&null!==(r=d.authentication)&&void 0!==r&&r.has_refresh_token?"\u2705 Yes":"\u274c No"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-400",children:"Token Expires:"}),(0,i.jsx)("span",{className:"text-white ml-2 font-mono text-xs",children:null!==d&&void 0!==d&&null!==(l=d.authentication)&&void 0!==l&&l.token_expires?new Date(d.authentication.token_expires).toLocaleString():"Unknown"})]})]})]}),(0,i.jsxs)("div",{className:"flex flex-wrap gap-3",children:[v?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{onClick:async()=>{try{await n.A.delete("".concat(p,"/auth/tradestation/logout")),b()}catch(e){g("Failed to logout: ".concat(e.message))}},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-all",children:"\ud83d\udeaa Disconnect"}),(null===d||void 0===d||null===(c=d.authentication)||void 0===c?void 0:c.has_refresh_token)&&(0,i.jsx)("button",{onClick:async()=>{try{await n.A.post("".concat(p,"/auth/tradestation/refresh")),b()}catch(e){g("Failed to refresh token: ".concat(e.message))}},className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-all",children:"\ud83d\udd04 Refresh Token"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{onClick:async()=>{try{j(!0),console.log("\ud83d\udd17 Initiating direct redirect authentication (no popup)");const e=(await n.A.get("".concat(p,"/auth/tradestation/login"))).data.auth_url;console.log("\ud83d\ude80 Redirecting to TradeStation:",e),localStorage.setItem("ts_auth_in_progress","true"),localStorage.setItem("ts_auth_started",Date.now().toString()),window.location.href=e}catch(e){console.error("\u274c Login initiation failed:",e),g("Failed to initiate login: ".concat(e.message)),j(!1)}},disabled:u,className:"px-6 py-3 rounded-lg font-medium transition-all flex items-center ".concat(u?"bg-gray-600 cursor-not-allowed text-gray-400":"bg-blue-600 hover:bg-blue-700 text-white"),children:u?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"animate-spin w-5 h-5 border-2 border-gray-400 border-t-transparent rounded-full mr-2"}),"Connecting..."]}):(0,i.jsx)(i.Fragment,{children:"\ud83d\udd17 Connect to TradeStation"})}),(0,i.jsx)("div",{className:"text-sm text-gray-400 flex items-center",children:"\ud83d\udca1 No popup required - direct authentication in same window"})]}),(0,i.jsx)("button",{onClick:b,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-all",children:"\ud83d\udd0d Check Status"})]}),(null===d||void 0===d?void 0:d.connection_test)&&(0,i.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-600",children:[(0,i.jsx)("h4",{className:"text-lg font-medium text-white mb-2",children:"Connection Test"}),(0,i.jsx)("div",{className:"text-sm ".concat("success"===d.connection_test.status?"text-green-400":"warning"===d.connection_test.status?"text-yellow-400":"text-red-400"),children:d.connection_test.message}),void 0!==d.connection_test.accounts_found&&(0,i.jsxs)("div",{className:"text-gray-400 text-sm mt-1",children:["Accounts found: ",d.connection_test.accounts_found]})]}),(0,i.jsxs)("div",{className:"bg-blue-900 p-4 rounded-lg border border-blue-700",children:[(0,i.jsx)("h4",{className:"text-lg font-medium text-blue-200 mb-2",children:"\ud83d\udca1 About TradeStation Integration"}),(0,i.jsxs)("div",{className:"text-blue-300 text-sm space-y-1",children:[(0,i.jsxs)("p",{children:["\u2022 ",(0,i.jsx)("strong",{children:"Real-time data:"})," Get live market quotes and prices"]}),(0,i.jsxs)("p",{children:["\u2022 ",(0,i.jsx)("strong",{children:"Professional charts:"})," Display accurate candlestick data"]}),(0,i.jsxs)("p",{children:["\u2022 ",(0,i.jsx)("strong",{children:"Account integration:"})," View your portfolio and balances"]}),(0,i.jsxs)("p",{children:["\u2022 ",(0,i.jsx)("strong",{children:"Trading capabilities:"})," Place and manage orders (future)"]})]})]})]})]})},l=()=>(0,i.jsx)("div",{className:"min-h-screen bg-gray-900 p-6",children:(0,i.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"\u2699\ufe0f FlowMind Analytics Settings"}),(0,i.jsx)("p",{className:"text-gray-400",children:"Manage your platform connections and configuration"})]}),(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsx)("h2",{className:"text-2xl font-semibold text-white mb-4",children:"\ud83d\udd10 API Connections"}),(0,i.jsx)(r,{})]}),(0,i.jsxs)("div",{className:"space-y-8",children:[(0,i.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg border border-gray-700",children:[(0,i.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"\ud83c\udfa8 Theme Settings"}),(0,i.jsx)("div",{className:"text-gray-400",children:(0,i.jsx)("p",{children:"Dark theme is currently active (matches trading platform standards)"})})]}),(0,i.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg border border-gray-700",children:[(0,i.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"\ud83d\udcca Chart Configuration"}),(0,i.jsxs)("div",{className:"space-y-3 text-gray-400",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("span",{children:"Chart Library:"}),(0,i.jsx)("span",{className:"text-white font-medium",children:"ApexCharts Professional"})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("span",{children:"Data Source Priority:"}),(0,i.jsx)("span",{className:"text-white font-medium",children:"TradeStation API"})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("span",{children:"Price Scale Position:"}),(0,i.jsx)("span",{className:"text-white font-medium",children:"Right Side"})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("span",{children:"Default Timeframe:"}),(0,i.jsx)("span",{className:"text-white font-medium",children:"Daily (1D)"})]})]})]}),(0,i.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg border border-gray-700",children:[(0,i.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"\ud83d\udd0c Data Sources Status"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-white font-medium",children:"TradeStation API"}),(0,i.jsx)("div",{className:"text-gray-400 text-sm",children:"Real-time market data & trading"})]}),(0,i.jsx)("div",{className:"text-yellow-400 font-medium",children:"Authentication Required"})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-white font-medium",children:"Investment Scoring Engine"}),(0,i.jsx)("div",{className:"text-gray-400 text-sm",children:"AI-powered stock analysis"})]}),(0,i.jsx)("div",{className:"text-green-400 font-medium",children:"Active"})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-white font-medium",children:"Technical Analysis Agent"}),(0,i.jsx)("div",{className:"text-gray-400 text-sm",children:"Smart Money Concepts & indicators"})]}),(0,i.jsx)("div",{className:"text-green-400 font-medium",children:"Active"})]})]})]}),(0,i.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg border border-gray-700",children:[(0,i.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"\u2139\ufe0f System Information"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-400",children:"Platform:"}),(0,i.jsx)("span",{className:"text-white ml-2",children:"FlowMind Analytics"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-400",children:"Version:"}),(0,i.jsx)("span",{className:"text-white ml-2",children:"Professional v2.0"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-400",children:"Backend:"}),(0,i.jsx)("span",{className:"text-white ml-2",children:"FastAPI Python"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-400",children:"Frontend:"}),(0,i.jsx)("span",{className:"text-white ml-2",children:"React 19 + TailwindCSS"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-400",children:"Charts:"}),(0,i.jsx)("span",{className:"text-white ml-2",children:"ApexCharts Professional"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-400",children:"Database:"}),(0,i.jsx)("span",{className:"text-white ml-2",children:"MongoDB"})]})]})]})]})]})})}}]);
//# sourceMappingURL=335.7cf548e2.chunk.js.map