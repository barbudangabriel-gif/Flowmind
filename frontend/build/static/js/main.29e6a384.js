/*! For license information please see main.29e6a384.js.LICENSE.txt */
(()=>{var e={3175:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,l=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function s(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},8210:function(e,t,n){var r;!function(){"use strict";var a,o=1e9,i={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},l=!0,s="[DecimalError] ",c=s+"Invalid argument: ",u=s+"Exponent out of range: ",d=Math.floor,f=Math.pow,p=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,h=1e7,m=9007199254740991,y=d(1286742750677284.5),g={};function v(e,t){var n,r,a,o,i,s,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),l?E(t,f):t;if(c=e.d,u=t.d,i=e.e,a=t.e,c=c.slice(),o=i-a){for(o<0?(r=c,o=-o,s=u.length):(r=u,a=i,s=c.length),o>(s=(i=Math.ceil(f/7))>s?i+1:s+1)&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((s=c.length)-(o=u.length)<0&&(o=s,r=u,u=c,c=r),n=0;o;)n=(c[--o]=c[o]+u[o]+n)/h|0,c[o]%=h;for(n&&(c.unshift(n),++a),s=c.length;0==c[--s];)c.pop();return t.d=c,t.e=a,l?E(t,f):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function x(e){var t,n,r,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)(n=7-(r=e[t]+"").length)&&(o+=k(n)),o+=r;(n=7-(r=(i=e[t])+"").length)&&(o+=k(n))}else if(0===i)return"0";for(;i%10===0;)i/=10;return o+i}g.absoluteValue=g.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},g.comparedTo=g.cmp=function(e){var t,n,r,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(a=e.d.length)?r:a;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===a?0:r>a^o.s<0?1:-1},g.decimalPlaces=g.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},g.dividedBy=g.div=function(e){return w(this,new this.constructor(e))},g.dividedToIntegerBy=g.idiv=function(e){var t=this.constructor;return E(w(this,new t(e),0,1),t.precision)},g.equals=g.eq=function(e){return!this.cmp(e)},g.exponent=function(){return N(this)},g.greaterThan=g.gt=function(e){return this.cmp(e)>0},g.greaterThanOrEqualTo=g.gte=function(e){return this.cmp(e)>=0},g.isInteger=g.isint=function(){return this.e>this.d.length-2},g.isNegative=g.isneg=function(){return this.s<0},g.isPositive=g.ispos=function(){return this.s>0},g.isZero=function(){return 0===this.s},g.lessThan=g.lt=function(e){return this.cmp(e)<0},g.lessThanOrEqualTo=g.lte=function(e){return this.cmp(e)<1},g.logarithm=g.log=function(e){var t,n=this,r=n.constructor,o=r.precision,i=o+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(a))throw Error(s+"NaN");if(n.s<1)throw Error(s+(n.s?"NaN":"-Infinity"));return n.eq(a)?new r(0):(l=!1,t=w(O(n,i),O(e,i),i),l=!0,E(t,o))},g.minus=g.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?P(t,e):v(t,(e.s=-e.s,e))},g.modulo=g.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(!(e=new r(e)).s)throw Error(s+"NaN");return n.s?(l=!1,t=w(n,e,0,1).times(e),l=!0,n.minus(t)):E(new r(n),a)},g.naturalExponential=g.exp=function(){return j(this)},g.naturalLogarithm=g.ln=function(){return O(this)},g.negated=g.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},g.plus=g.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):P(t,(e.s=-e.s,e))},g.precision=g.sd=function(e){var t,n,r,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=N(a)+1,n=7*(r=a.d.length-1)+1,r=a.d[r]){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},g.squareRoot=g.sqrt=function(){var e,t,n,r,a,o,i,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(s+"NaN")}for(e=N(c),l=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=x(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(a.toString()),a=i=(n=u.precision)+3;;)if(r=(o=r).plus(w(c,o,i+2)).times(.5),x(o.d).slice(0,i)===(t=x(r.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&"4999"==t){if(E(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if("9999"!=t)break;i+=4}return l=!0,E(r,n)},g.times=g.mul=function(e){var t,n,r,a,o,i,s,c,u,d=this,f=d.constructor,p=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,(c=p.length)<(u=m.length)&&(o=p,p=m,m=o,i=c,c=u,u=i),o=[],r=i=c+u;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,a=c+r;a>r;)s=o[a]+m[r]*p[a-r-1]+t,o[a--]=s%h|0,t=s/h|0;o[a]=(o[a]+t)%h|0}for(;!o[--i];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,l?E(e,f.precision):e},g.toDecimalPlaces=g.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,o),void 0===t?t=r.rounding:b(t,0,8),E(n,e+N(n)+1,t))},g.toExponential=function(e,t){var n,r=this,a=r.constructor;return void 0===e?n=_(r,!0):(b(e,0,o),void 0===t?t=a.rounding:b(t,0,8),n=_(r=E(new a(r),e+1,t),!0,e+1)),n},g.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return void 0===e?_(a):(b(e,0,o),void 0===t?t=i.rounding:b(t,0,8),n=_((r=E(new i(a),e+N(a)+1,t)).abs(),!1,e+N(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)},g.toInteger=g.toint=function(){var e=this,t=e.constructor;return E(new t(e),N(e)+1,t.rounding)},g.toNumber=function(){return+this},g.toPower=g.pow=function(e){var t,n,r,o,i,c,u=this,f=u.constructor,p=+(e=new f(e));if(!e.s)return new f(a);if(!(u=new f(u)).s){if(e.s<1)throw Error(s+"Infinity");return u}if(u.eq(a))return u;if(r=f.precision,e.eq(a))return E(u,r);if(c=(t=e.e)>=(n=e.d.length-1),i=u.s,c){if((n=p<0?-p:p)<=m){for(o=new f(a),t=Math.ceil(r/7+4),l=!1;n%2&&T((o=o.times(u)).d,t),0!==(n=d(n/2));)T((u=u.times(u)).d,t);return l=!0,e.s<0?new f(a).div(o):E(o,r)}}else if(i<0)throw Error(s+"NaN");return i=i<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,l=!1,o=e.times(O(u,r+12)),l=!0,(o=j(o)).s=i,o},g.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return void 0===e?r=_(a,(n=N(a))<=i.toExpNeg||n>=i.toExpPos):(b(e,1,o),void 0===t?t=i.rounding:b(t,0,8),r=_(a=E(new i(a),e,t),e<=(n=N(a))||n<=i.toExpNeg,e)),r},g.toSignificantDigits=g.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,o),void 0===t?t=n.rounding:b(t,0,8)),E(new n(this),e,t)},g.toString=g.valueOf=g.val=g.toJSON=function(){var e=this,t=N(e),n=e.constructor;return _(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+r,e[a]=n%h|0,r=n/h|0;return r&&e.unshift(r),e}function t(e,t,n,r){var a,o;if(n!=r)o=n>r?1:-1;else for(a=o=0;a<n;a++)if(e[a]!=t[a]){o=e[a]>t[a]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*h+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,a,o,i){var l,c,u,d,f,p,m,y,g,v,b,x,w,j,S,k,O,A,P=r.constructor,_=r.s==a.s?1:-1,T=r.d,C=a.d;if(!r.s)return new P(r);if(!a.s)throw Error(s+"Division by zero");for(c=r.e-a.e,O=C.length,S=T.length,y=(m=new P(_)).d=[],u=0;C[u]==(T[u]||0);)++u;if(C[u]>(T[u]||0)&&--c,(x=null==o?o=P.precision:i?o+(N(r)-N(a))+1:o)<0)return new P(0);if(x=x/7+2|0,u=0,1==O)for(d=0,C=C[0],x++;(u<S||d)&&x--;u++)w=d*h+(T[u]||0),y[u]=w/C|0,d=w%C|0;else{for((d=h/(C[0]+1)|0)>1&&(C=e(C,d),T=e(T,d),O=C.length,S=T.length),j=O,v=(g=T.slice(0,O)).length;v<O;)g[v++]=0;(A=C.slice()).unshift(0),k=C[0],C[1]>=h/2&&++k;do{d=0,(l=t(C,g,O,v))<0?(b=g[0],O!=v&&(b=b*h+(g[1]||0)),(d=b/k|0)>1?(d>=h&&(d=h-1),1==(l=t(f=e(C,d),g,p=f.length,v=g.length))&&(d--,n(f,O<p?A:C,p))):(0==d&&(l=d=1),f=C.slice()),(p=f.length)<v&&f.unshift(0),n(g,f,v),-1==l&&(l=t(C,g,O,v=g.length))<1&&(d++,n(g,O<v?A:C,v)),v=g.length):0===l&&(d++,g=[0]),y[u++]=d,l&&g[0]?g[v++]=T[j]||0:(g=[T[j]],v=1)}while((j++<S||void 0!==g[0])&&x--)}return y[0]||y.shift(),m.e=c,E(m,i?o+N(m)+1:o)}}();function j(e,t){var n,r,o,i,s,c=0,d=0,p=e.constructor,h=p.precision;if(N(e)>16)throw Error(u+N(e));if(!e.s)return new p(a);for(null==t?(l=!1,s=h):s=t,i=new p(.03125);e.abs().gte(.1);)e=e.times(i),d+=5;for(s+=Math.log(f(2,d))/Math.LN10*2+5|0,n=r=o=new p(a),p.precision=s;;){if(r=E(r.times(e),s),n=n.times(++c),x((i=o.plus(w(r,n,s))).d).slice(0,s)===x(o.d).slice(0,s)){for(;d--;)o=E(o.times(o),s);return p.precision=h,null==t?(l=!0,E(o,h)):o}o=i}}function N(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function S(e,t,n){if(t>e.LN10.sd())throw l=!0,n&&(e.precision=n),Error(s+"LN10 precision limit exceeded");return E(new e(e.LN10),t)}function k(e){for(var t="";e--;)t+="0";return t}function O(e,t){var n,r,o,i,c,u,d,f,p,h=1,m=e,y=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(s+(m.s?"NaN":"-Infinity"));if(m.eq(a))return new g(0);if(null==t?(l=!1,f=v):f=t,m.eq(10))return null==t&&(l=!0),S(g,f);if(f+=10,g.precision=f,r=(n=x(y)).charAt(0),i=N(m),!(Math.abs(i)<15e14))return d=S(g,f+2,v).times(i+""),m=O(new g(r+"."+n.slice(1)),f-10).plus(d),g.precision=v,null==t?(l=!0,E(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=x((m=m.times(e)).d)).charAt(0),h++;for(i=N(m),r>1?(m=new g("0."+n),i++):m=new g(r+"."+n.slice(1)),u=c=m=w(m.minus(a),m.plus(a),f),p=E(m.times(m),f),o=3;;){if(c=E(c.times(p),f),x((d=u.plus(w(c,new g(o),f))).d).slice(0,f)===x(u.d).slice(0,f))return u=u.times(2),0!==i&&(u=u.plus(S(g,f+2,v).times(i+""))),u=w(u,new g(h),f),g.precision=v,null==t?(l=!0,E(u,v)):u;u=d,o+=2}}function A(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(r,a)){if(a-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=7;r<a;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),l&&(e.e>y||e.e<-y))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function E(e,t,n){var r,a,o,i,s,c,p,m,g=e.d;for(i=1,o=g[0];o>=10;o/=10)i++;if((r=t-i)<0)r+=7,a=t,p=g[m=0];else{if((m=Math.ceil((r+1)/7))>=(o=g.length))return e;for(p=o=g[m],i=1;o>=10;o/=10)i++;a=(r%=7)-7+i}if(void 0!==n&&(s=p/(o=f(10,i-a-1))%10|0,c=t<0||void 0!==g[m+1]||p%o,c=n<4?(s||c)&&(0==n||n==(e.s<0?3:2)):s>5||5==s&&(4==n||c||6==n&&(r>0?a>0?p/f(10,i-a):0:g[m-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return c?(o=N(e),g.length=1,t=t-o-1,g[0]=f(10,(7-t%7)%7),e.e=d(-t/7)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(0==r?(g.length=m,o=1,m--):(g.length=m+1,o=f(10,7-r),g[m]=a>0?(p/f(10,i-a)%f(10,a)|0)*o:0),c)for(;;){if(0==m){(g[0]+=o)==h&&(g[0]=1,++e.e);break}if(g[m]+=o,g[m]!=h)break;g[m--]=0,o=1}for(r=g.length;0===g[--r];)g.pop();if(l&&(e.e>y||e.e<-y))throw Error(u+N(e));return e}function P(e,t){var n,r,a,o,i,s,c,u,d,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),l?E(t,m):t;if(c=e.d,f=t.d,r=t.e,u=e.e,c=c.slice(),i=u-r){for((d=i<0)?(n=c,i=-i,s=f.length):(n=f,r=u,s=c.length),i>(a=Math.max(Math.ceil(m/7),s)+2)&&(i=a,n.length=1),n.reverse(),a=i;a--;)n.push(0);n.reverse()}else{for((d=(a=c.length)<(s=f.length))&&(s=a),a=0;a<s;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}i=0}for(d&&(n=c,c=f,f=n,t.s=-t.s),s=c.length,a=f.length-s;a>0;--a)c[s++]=0;for(a=f.length;a>i;){if(c[--a]<f[a]){for(o=a;o&&0===c[--o];)c[o]=h-1;--c[o],c[a]+=h}c[a]-=f[a]}for(;0===c[--s];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,l?E(t,m):t):new p(0)}function _(e,t,n){var r,a=N(e),o=x(e.d),i=o.length;return t?(n&&(r=n-i)>0?o=o.charAt(0)+"."+o.slice(1)+k(r):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+k(-a-1)+o,n&&(r=n-i)>0&&(o+=k(r))):a>=i?(o+=k(a+1-i),n&&(r=n-a-1)>0&&(o=o+"."+k(r))):((r=a+1)<i&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-i)>0&&(a+1===i&&(o+="."),o+=k(r))),e.s<0?"-"+o:o}function T(e,t){if(e.length>t)return e.length=t,!0}function C(e){if(!e||"object"!==typeof e)throw Error(s+"Object expected");var t,n,r,a=["precision",1,o,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(r=e[n=a[t]])){if(!(d(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}i=function e(t){var n,r,a;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):A(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!p.test(e))throw Error(c+e);A(t,e)}if(o.prototype=g,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=C,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)t.hasOwnProperty(r=a[n++])||(t[r]=this[r]);return o.config(t),o}(i),i.default=i.Decimal=i,a=new i(1),void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,i){if("function"!==typeof r)throw new TypeError("The listener must be a function");var l=new a(r,o||e,i),s=n?n+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],l]:e._events[s].push(l):(e._events[s]=l,e._eventsCount++),e}function i(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function l(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),l.prototype.eventNames=function(){var e,r,a=[];if(0===this._eventsCount)return a;for(r in e=this._events)t.call(e,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},l.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,o=r.length,i=new Array(o);a<o;a++)i[a]=r[a].fn;return i},l.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},l.prototype.emit=function(e,t,r,a,o,i){var l=n?n+e:e;if(!this._events[l])return!1;var s,c,u=this._events[l],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,a),!0;case 5:return u.fn.call(u.context,t,r,a,o),!0;case 6:return u.fn.call(u.context,t,r,a,o,i),!0}for(c=1,s=new Array(d-1);c<d;c++)s[c-1]=arguments[c];u.fn.apply(u.context,s)}else{var f,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,a);break;default:if(!s)for(f=1,s=new Array(d-1);f<d;f++)s[f-1]=arguments[f];u[c].fn.apply(u[c].context,s)}}return!0},l.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},l.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},l.prototype.removeListener=function(e,t,r,a){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return i(this,o),this;var l=this._events[o];if(l.fn)l.fn!==t||a&&!l.once||r&&l.context!==r||i(this,o);else{for(var s=0,c=[],u=l.length;s<u;s++)(l[s].fn!==t||a&&!l[s].once||r&&l[s].context!==r)&&c.push(l[s]);c.length?this._events[o]=1===c.length?c[0]:c:i(this,o)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&i(this,t)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},8724:(e,t,n)=>{var r=n(7615),a=n(5051),o=n(2154),i=n(8734),l=n(2662);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=a,s.prototype.get=o,s.prototype.has=i,s.prototype.set=l,e.exports=s},7160:(e,t,n)=>{var r=n(7563),a=n(9935),o=n(4190),i=n(1946),l=n(1714);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=a,s.prototype.get=o,s.prototype.has=i,s.prototype.set=l,e.exports=s},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},4816:(e,t,n)=>{var r=n(7251),a=n(7159),o=n(438),i=n(9394),l=n(6874);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=a,s.prototype.get=o,s.prototype.has=i,s.prototype.set=l,e.exports=s},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},8902:(e,t,n)=>{var r=n(4816),a=n(6179),o=n(6704);function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}i.prototype.add=i.prototype.push=a,i.prototype.has=o,e.exports=i},5538:(e,t,n)=>{var r=n(7160),a=n(4545),o=n(793),i=n(7760),l=n(3892),s=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=a,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=l,c.prototype.set=s,e.exports=c},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},5295:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}},3204:(e,t,n)=>{var r=n(3343),a=n(2777),o=n(4052),i=n(4543),l=n(9194),s=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&a(e),d=!n&&!u&&i(e),f=!n&&!u&&!d&&s(e),p=n||u||d||f,h=p?r(e.length,String):[],m=h.length;for(var y in e)!t&&!c.call(e,y)||p&&("length"==y||d&&("offset"==y||"parent"==y)||f&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||l(y,m))||h.push(y);return h}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},5967:e=>{e.exports=function(e){return e.split("")}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},5652:(e,t,n)=>{var r=n(4664),a=n(6516)(r);e.exports=a},4746:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=!0;return r(e,(function(e,r,a){return n=!!t(e,r,a)})),n}},9742:(e,t,n)=>{var r=n(9841);e.exports=function(e,t,n){for(var a=-1,o=e.length;++a<o;){var i=e[a],l=t(i);if(null!=l&&(void 0===s?l===l&&!r(l):n(l,s)))var s=l,c=i}return c}},5816:e=>{e.exports=function(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return-1}},755:(e,t,n)=>{var r=n(8895),a=n(7116);e.exports=function e(t,n,o,i,l){var s=-1,c=t.length;for(o||(o=a),l||(l=[]);++s<c;){var u=t[s];n>0&&o(u)?n>1?e(u,n-1,o,i,l):r(l,u):i||(l[l.length]=u)}return l}},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4664:(e,t,n)=>{var r=n(4258),a=n(8673);e.exports=function(e,t){return e&&r(e,t,a)}},2969:(e,t,n)=>{var r=n(5324),a=n(914);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[a(t[n++])];return n&&n==o?e:void 0}},4262:(e,t,n)=>{var r=n(8895),a=n(4052);e.exports=function(e,t,n){var o=t(e);return a(e)?o:r(o,n(e))}},6913:(e,t,n)=>{var r=n(9812),a=n(4552),o=n(6095),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):o(e)}},7498:e=>{e.exports=function(e,t){return e>t}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},8468:(e,t,n)=>{var r=n(5816),a=n(644),o=n(4020);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,a,n)}},5193:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},6989:(e,t,n)=>{var r=n(6399),a=n(2761);e.exports=function e(t,n,o,i,l){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!==t&&n!==n:r(t,n,o,i,e,l))}},6399:(e,t,n)=>{var r=n(5538),a=n(3668),o=n(9987),i=n(5752),l=n(6924),s=n(4052),c=n(4543),u=n(1268),d="[object Arguments]",f="[object Array]",p="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,y,g){var v=s(e),b=s(t),x=v?f:l(e),w=b?f:l(t),j=(x=x==d?p:x)==p,N=(w=w==d?p:w)==p,S=x==w;if(S&&c(e)){if(!c(t))return!1;v=!0,j=!1}if(S&&!j)return g||(g=new r),v||u(e)?a(e,t,n,m,y,g):o(e,t,x,n,m,y,g);if(!(1&n)){var k=j&&h.call(e,"__wrapped__"),O=N&&h.call(t,"__wrapped__");if(k||O){var A=k?e.value():e,E=O?t.value():t;return g||(g=new r),y(A,E,n,m,g)}}return!!S&&(g||(g=new r),i(e,t,n,m,y,g))}},6532:(e,t,n)=>{var r=n(5538),a=n(6989);e.exports=function(e,t,n,o){var i=n.length,l=i,s=!o;if(null==e)return!l;for(e=Object(e);i--;){var c=n[i];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<l;){var u=(c=n[i])[0],d=e[u],f=c[1];if(s&&c[2]){if(void 0===d&&!(u in e))return!1}else{var p=new r;if(o)var h=o(d,f,u,e,t,p);if(!(void 0===h?a(f,d,3,o,p):h))return!1}}return!0}},644:e=>{e.exports=function(e){return e!==e}},6954:(e,t,n)=>{var r=n(1629),a=n(7857),o=n(6686),i=n(6996),l=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,u=s.toString,d=c.hasOwnProperty,f=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||a(e))&&(r(e)?f:l).test(i(e))}},5428:(e,t,n)=>{var r=n(6913),a=n(6173),o=n(2761),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&a(e.length)&&!!i[r(e)]}},9096:(e,t,n)=>{var r=n(9256),a=n(5029),o=n(3279),i=n(4052),l=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?i(e)?a(e[0],e[1]):r(e):l(e)}},3713:(e,t,n)=>{var r=n(6140),a=n(1143),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},61:e=>{e.exports=function(e,t){return e<t}},8883:(e,t,n)=>{var r=n(5652),a=n(6571);e.exports=function(e,t){var n=-1,o=a(e)?Array(e.length):[];return r(e,(function(e,r,a){o[++n]=t(e,r,a)})),o}},9256:(e,t,n)=>{var r=n(6532),a=n(3781),o=n(1310);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},5029:(e,t,n)=>{var r=n(6989),a=n(3097),o=n(3366),i=n(2597),l=n(9417),s=n(1310),c=n(914);e.exports=function(e,t){return i(e)&&l(t)?s(c(e),t):function(n){var i=a(n,e);return void 0===i&&i===t?o(n,e):r(t,i,3)}}},2536:(e,t,n)=>{var r=n(149),a=n(2969),o=n(9096),i=n(8883),l=n(320),s=n(7574),c=n(5893),u=n(3279),d=n(4052);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return d(e)?function(t){return a(t,1===e.length?e[0]:e)}:e})):[u];var f=-1;t=r(t,s(o));var p=i(e,(function(e,n,a){return{criteria:r(t,(function(t){return t(e)})),index:++f,value:e}}));return l(p,(function(e,t){return c(e,t,n)}))}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,a,o){for(var i=-1,l=n(t((r-e)/(a||1)),0),s=Array(l);l--;)s[o?l:++i]=e,e+=a;return s}},5647:(e,t,n)=>{var r=n(3279),a=n(5636),o=n(6350);e.exports=function(e,t){return o(a(e,t,r),e+"")}},8325:(e,t,n)=>{var r=n(2541),a=n(5654),o=n(3279),i=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=i},3871:e=>{e.exports=function(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(a);++r<a;)o[r]=e[r+t];return o}},2165:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n;return r(e,(function(e,r,a){return!(n=t(e,r,a))})),!!n}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},8541:(e,t,n)=>{var r=n(9812),a=n(149),o=n(4052),i=n(9841),l=r?r.prototype:void 0,s=l?l.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return a(t,e)+"";if(i(t))return s?s.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},1141:(e,t,n)=>{var r=n(143),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},4416:(e,t,n)=>{var r=n(8902),a=n(5866),o=n(1558),i=n(8114),l=n(8182),s=n(2074);e.exports=function(e,t,n){var c=-1,u=a,d=e.length,f=!0,p=[],h=p;if(n)f=!1,u=o;else if(d>=200){var m=t?null:l(e);if(m)return s(m);f=!1,u=i,h=new r}else h=t?[]:p;e:for(;++c<d;){var y=e[c],g=t?t(y):y;if(y=n||0!==y?y:0,f&&g===g){for(var v=h.length;v--;)if(h[v]===g)continue e;t&&h.push(g),p.push(y)}else u(h,g,n)||(h!==p&&h.push(g),p.push(y))}return p}},8114:e=>{e.exports=function(e,t){return e.has(t)}},5324:(e,t,n)=>{var r=n(4052),a=n(2597),o=n(4079),i=n(1069);e.exports=function(e,t){return r(e)?e:a(e,t)?[e]:o(i(e))}},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var a=e.length;return n=void 0===n?a:n,!t&&n>=a?e:r(e,t,n)}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,a=null===e,o=e===e,i=r(e),l=void 0!==t,s=null===t,c=t===t,u=r(t);if(!s&&!u&&!i&&e>t||i&&l&&c&&!s&&!u||a&&l&&c||!n&&c||!o)return 1;if(!a&&!i&&!u&&e<t||u&&n&&o&&!a&&!i||s&&n&&o||!l&&o||!c)return-1}return 0}},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var a=-1,o=e.criteria,i=t.criteria,l=o.length,s=n.length;++a<l;){var c=r(o[a],i[a]);if(c)return a>=s?c:c*("desc"==n[a]?-1:1)}return e.index-t.index}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,a){if(null==n)return n;if(!r(n))return e(n,a);for(var o=n.length,i=t?o:-1,l=Object(n);(t?i--:++i<o)&&!1!==a(l[i],i,l););return n}}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var a=-1,o=Object(t),i=r(t),l=i.length;l--;){var s=i[e?l:++a];if(!1===n(o[s],s,o))break}return t}}},7676:(e,t,n)=>{var r=n(8189),a=n(6311),o=n(9115),i=n(1069);e.exports=function(e){return function(t){t=i(t);var n=a(t)?o(t):void 0,l=n?n[0]:t.charAt(0),s=n?r(n,1).join(""):t.slice(1);return l[e]()+s}}},9995:(e,t,n)=>{var r=n(9096),a=n(6571),o=n(8673);e.exports=function(e){return function(t,n,i){var l=Object(t);if(!a(t)){var s=r(n,3);t=o(t),n=function(e){return s(l[e],e,l)}}var c=e(t,n,i);return c>-1?l[s?t[c]:c]:void 0}}},3331:(e,t,n)=>{var r=n(9676),a=n(929),o=n(7303);e.exports=function(e){return function(t,n,i){return i&&"number"!=typeof i&&a(t,n,i)&&(n=i=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),i=void 0===i?t<n?1:-1:o(i),r(t,n,i,e)}}},8182:(e,t,n)=>{var r=n(2070),a=n(5713),o=n(2074),i=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:a;e.exports=i},5654:(e,t,n)=>{var r=n(7937),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},3668:(e,t,n)=>{var r=n(8902),a=n(2587),o=n(8114);e.exports=function(e,t,n,i,l,s){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var f=s.get(e),p=s.get(t);if(f&&p)return f==t&&p==e;var h=-1,m=!0,y=2&n?new r:void 0;for(s.set(e,t),s.set(t,e);++h<u;){var g=e[h],v=t[h];if(i)var b=c?i(v,g,h,t,e,s):i(g,v,h,e,t,s);if(void 0!==b){if(b)continue;m=!1;break}if(y){if(!a(t,(function(e,t){if(!o(y,t)&&(g===e||l(g,e,n,i,s)))return y.push(t)}))){m=!1;break}}else if(g!==v&&!l(g,v,n,i,s)){m=!1;break}}return s.delete(e),s.delete(t),m}},9987:(e,t,n)=>{var r=n(9812),a=n(2929),o=n(3211),i=n(3668),l=n(4160),s=n(2074),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=l;case"[object Set]":var h=1&r;if(p||(p=s),e.size!=t.size&&!h)return!1;var m=f.get(e);if(m)return m==t;r|=2,f.set(e,t);var y=i(p(e),p(t),r,c,d,f);return f.delete(e),y;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},5752:(e,t,n)=>{var r=n(9395),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,i,l){var s=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!s)return!1;for(var d=u;d--;){var f=c[d];if(!(s?f in t:a.call(t,f)))return!1}var p=l.get(e),h=l.get(t);if(p&&h)return p==t&&h==e;var m=!0;l.set(e,t),l.set(t,e);for(var y=s;++d<u;){var g=e[f=c[d]],v=t[f];if(o)var b=s?o(v,g,f,t,e,l):o(g,v,f,e,t,l);if(!(void 0===b?g===v||i(g,v,n,o,l):b)){m=!1;break}y||(y="constructor"==f)}if(m&&!y){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(m=!1)}return l.delete(e),l.delete(t),m}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},9395:(e,t,n)=>{var r=n(4262),a=n(9621),o=n(8673);e.exports=function(e){return r(e,o,a)}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},3781:(e,t,n)=>{var r=n(9417),a=n(8673);e.exports=function(e){for(var t=a(e),n=t.length;n--;){var o=t[n],i=e[o];t[n]=[o,i,r(i)]}return t}},7937:(e,t,n)=>{var r=n(6954),a=n(4657);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},4552:(e,t,n)=>{var r=n(9812),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,l=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(s){}var a=i.call(e);return r&&(t?e[l]=n:delete e[l]),a}},9621:(e,t,n)=>{var r=n(7529),a=n(7828),o=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,l=i?function(e){return null==e?[]:(e=Object(e),r(i(e),(function(t){return o.call(e,t)})))}:a;e.exports=l},6924:(e,t,n)=>{var r=n(7685),a=n(5204),o=n(5387),i=n(2070),l=n(6600),s=n(6913),c=n(6996),u="[object Map]",d="[object Promise]",f="[object Set]",p="[object WeakMap]",h="[object DataView]",m=c(r),y=c(a),g=c(o),v=c(i),b=c(l),x=s;(r&&x(new r(new ArrayBuffer(1)))!=h||a&&x(new a)!=u||o&&x(o.resolve())!=d||i&&x(new i)!=f||l&&x(new l)!=p)&&(x=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return h;case y:return u;case g:return d;case v:return f;case b:return p}return t}),e.exports=x},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},9057:(e,t,n)=>{var r=n(5324),a=n(2777),o=n(4052),i=n(9194),l=n(6173),s=n(914);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var f=s(t[c]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&l(u)&&i(f,u)&&(o(e)||a(e))}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},2154:(e,t,n)=>{var r=n(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},8734:(e,t,n)=>{var r=n(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},7116:(e,t,n)=>{var r=n(9812),a=n(2777),o=n(4052),i=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||a(e)||!!(i&&e&&e[i])}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},929:(e,t,n)=>{var r=n(3211),a=n(6571),o=n(9194),i=n(6686);e.exports=function(e,t,n){if(!i(n))return!1;var l=typeof t;return!!("number"==l?a(n)&&o(t,n.length):"string"==l&&t in n)&&r(n[t],e)}},2597:(e,t,n)=>{var r=n(4052),a=n(9841),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||(i.test(e)||!o.test(e)||null!=t&&e in Object(t))}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},7857:(e,t,n)=>{var r=n(3440),a=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},9935:(e,t,n)=>{var r=n(1340),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},7251:(e,t,n)=>{var r=n(8724),a=n(7160),o=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||a),string:new r}}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,i=o&&o.exports===a&&r.process,l=function(){try{var e=o&&o.require&&o.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=l},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},5636:(e,t,n)=>{var r=n(1170),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var o=arguments,i=-1,l=a(o.length-t,0),s=Array(l);++i<l;)s[i]=o[t+i];i=-1;for(var c=Array(t+1);++i<t;)c[i]=o[i];return c[t]=n(s),r(e,this,c)}}},6552:(e,t,n)=>{var r=n(7105),a="object"==typeof self&&self&&self.Object===Object&&self,o=r||a||Function("return this")();e.exports=o},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},6350:(e,t,n)=>{var r=n(8325),a=n(6578)(r);e.exports=a},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var a=t(),o=16-(a-r);if(r=a,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},6788:(e,t,n)=>{var r=n(7160),a=n(5204),o=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!a||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(i)}return n.set(e,t),this.size=n.size,this}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}},9115:(e,t,n)=>{var r=n(5967),a=n(6311),o=n(715);e.exports=function(e){return a(e)?o(e):r(e)}},4079:(e,t,n)=>{var r=n(8259),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,i=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,(function(e,n,r,a){t.push(r?a.replace(o,"$1"):n||e)})),t}));e.exports=i},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",o="[^"+t+"]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",l="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+r+"|"+a+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+s+("(?:\\u200d(?:"+[o,i,l].join("|")+")"+c+s+")*"),d="(?:"+[o+r+"?",r,i,l,n].join("|")+")",f=RegExp(a+"(?="+a+")|"+d+u,"g");e.exports=function(e){return e.match(f)||[]}},2541:e=>{e.exports=function(e){return function(){return e}}},3950:(e,t,n)=>{var r=n(6686),a=n(4757),o=n(801),i=Math.max,l=Math.min;e.exports=function(e,t,n){var s,c,u,d,f,p,h=0,m=!1,y=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=s,r=c;return s=c=void 0,h=t,d=e.apply(r,n)}function b(e){var n=e-p;return void 0===p||n>=t||n<0||y&&e-h>=u}function x(){var e=a();if(b(e))return w(e);f=setTimeout(x,function(e){var n=t-(e-p);return y?l(n,u-(e-h)):n}(e))}function w(e){return f=void 0,g&&s?v(e):(s=c=void 0,d)}function j(){var e=a(),n=b(e);if(s=arguments,c=this,p=e,n){if(void 0===f)return function(e){return h=e,f=setTimeout(x,t),m?v(e):d}(p);if(y)return clearTimeout(f),f=setTimeout(x,t),v(p)}return void 0===f&&(f=setTimeout(x,t)),d}return t=o(t)||0,r(n)&&(m=!!n.leading,u=(y="maxWait"in n)?i(o(n.maxWait)||0,t):u,g="trailing"in n?!!n.trailing:g),j.cancel=function(){void 0!==f&&clearTimeout(f),h=0,s=p=c=f=void 0},j.flush=function(){return void 0===f?d:w(a())},j}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},7002:(e,t,n)=>{var r=n(5295),a=n(4746),o=n(9096),i=n(4052),l=n(929);e.exports=function(e,t,n){var s=i(e)?r:a;return n&&l(e,t,n)&&(t=void 0),s(e,o(t,3))}},8990:(e,t,n)=>{var r=n(9995)(n(2520));e.exports=r},2520:(e,t,n)=>{var r=n(5816),a=n(9096),o=n(9140),i=Math.max;e.exports=function(e,t,n){var l=null==e?0:e.length;if(!l)return-1;var s=null==n?0:o(n);return s<0&&(s=i(l+s,0)),r(e,a(t,3),s)}},3538:(e,t,n)=>{var r=n(755),a=n(3411);e.exports=function(e,t){return r(a(e,t),1)}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var a=null==e?void 0:r(e,t);return void 0===a?n:a}},3366:(e,t,n)=>{var r=n(7894),a=n(9057);e.exports=function(e,t){return null!=e&&a(e,t,r)}},3279:e=>{e.exports=function(e){return e}},2777:(e,t,n)=>{var r=n(5193),a=n(2761),o=Object.prototype,i=o.hasOwnProperty,l=o.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(e){return a(e)&&i.call(e,"callee")&&!l.call(e,"callee")};e.exports=s},4052:e=>{var t=Array.isArray;e.exports=t},6571:(e,t,n)=>{var r=n(1629),a=n(6173);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},6361:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return!0===e||!1===e||a(e)&&"[object Boolean]"==r(e)}},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),a=n(14),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,l=i&&i.exports===o?r.Buffer:void 0,s=(l?l.isBuffer:void 0)||a;e.exports=s},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},1629:(e,t,n)=>{var r=n(6913),a=n(6686);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},5268:(e,t,n)=>{var r=n(9160);e.exports=function(e){return r(e)&&e!=+e}},9686:e=>{e.exports=function(e){return null==e}},9160:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return"number"==typeof e||a(e)&&"[object Number]"==r(e)}},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2322:(e,t,n)=>{var r=n(6913),a=n(5990),o=n(2761),i=Function.prototype,l=Object.prototype,s=i.toString,c=l.hasOwnProperty,u=s.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=a(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==u}},620:(e,t,n)=>{var r=n(6913),a=n(4052),o=n(2761);e.exports=function(e){return"string"==typeof e||!a(e)&&o(e)&&"[object String]"==r(e)}},9841:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},1268:(e,t,n)=>{var r=n(5428),a=n(7574),o=n(6832),i=o&&o.isTypedArray,l=i?a(i):r;e.exports=l},8673:(e,t,n)=>{var r=n(3204),a=n(3713),o=n(6571);e.exports=function(e){return o(e)?r(e):a(e)}},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},3411:(e,t,n)=>{var r=n(149),a=n(9096),o=n(8883),i=n(4052);e.exports=function(e,t){return(i(e)?r:o)(e,a(t,3))}},1733:(e,t,n)=>{var r=n(1775),a=n(4664),o=n(9096);e.exports=function(e,t){var n={};return t=o(t,3),a(e,(function(e,a,o){r(n,a,t(e,a,o))})),n}},539:(e,t,n)=>{var r=n(9742),a=n(7498),o=n(3279);e.exports=function(e){return e&&e.length?r(e,o,a):void 0}},5797:(e,t,n)=>{var r=n(4816);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var i=e.apply(this,r);return n.cache=o.set(a,i)||o,i};return n.cache=new(a.Cache||r),n}a.Cache=r,e.exports=a},6745:(e,t,n)=>{var r=n(9742),a=n(61),o=n(3279);e.exports=function(e){return e&&e.length?r(e,o,a):void 0}},5713:e=>{e.exports=function(){}},4757:(e,t,n)=>{var r=n(6552);e.exports=function(){return r.Date.now()}},3932:(e,t,n)=>{var r=n(396),a=n(2866),o=n(2597),i=n(914);e.exports=function(e){return o(e)?r(i(e)):a(e)}},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},4597:(e,t,n)=>{var r=n(2587),a=n(9096),o=n(2165),i=n(4052),l=n(929);e.exports=function(e,t,n){var s=i(e)?r:o;return n&&l(e,t,n)&&(t=void 0),s(e,a(t,3))}},7424:(e,t,n)=>{var r=n(755),a=n(2536),o=n(5647),i=n(929),l=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&i(e,t[0],t[1])?t=[]:n>2&&i(t[0],t[1],t[2])&&(t=[t[0]]),a(e,r(t,1),[])}));e.exports=l},7828:e=>{e.exports=function(){return[]}},14:e=>{e.exports=function(){return!1}},9889:(e,t,n)=>{var r=n(3950),a=n(6686);e.exports=function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),r(e,t,{leading:o,maxWait:t,trailing:i})}},7303:(e,t,n)=>{var r=n(801),a=1/0;e.exports=function(e){return e?(e=r(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},801:(e,t,n)=>{var r=n(1141),a=n(6686),o=n(9841),i=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=l.test(e);return n||s.test(e)?c(e.slice(2),n?2:8):i.test(e)?NaN:+e}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},977:(e,t,n)=>{var r=n(9096),a=n(4416);e.exports=function(e,t){return e&&e.length?a(e,r(t,2)):[]}},643:(e,t,n)=>{var r=n(7676)("toUpperCase");e.exports=r},7784:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(2555),a=n(3986),o=n(5043);const i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t)).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const s=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],c=(0,o.forwardRef)(((e,t)=>{let{color:n="currentColor",size:c=24,strokeWidth:u=2,absoluteStrokeWidth:d,className:f="",children:p,iconNode:h}=e,m=(0,a.A)(e,s);return(0,o.createElement)("svg",(0,r.A)((0,r.A)({ref:t},l),{},{width:c,height:c,stroke:n,strokeWidth:d?24*Number(u)/Number(c):u,className:i("lucide",f)},m),[...h.map((e=>{let[t,n]=e;return(0,o.createElement)(t,n)})),...Array.isArray(p)?p:[p]])})),u=["className"],d=(e,t)=>{const n=(0,o.forwardRef)(((n,l)=>{let{className:s}=n,d=(0,a.A)(n,u);return(0,o.createElement)(c,(0,r.A)({ref:l,iconNode:t,className:i("lucide-".concat((f=e,f.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),s)},d));var f}));return n.displayName="".concat(e),n}},5347:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(7784).A)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},7033:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(7784).A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},3033:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(7784).A)("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]])},2382:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(7784).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},2054:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(7784).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6245:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(7784).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},516:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(7784).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},9292:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(7784).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},2489:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(7784).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},3782:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(7784).A)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},4919:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(7784).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},73:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(7784).A)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},1497:(e,t,n)=>{"use strict";var r=n(3218);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},5173:(e,t,n)=>{e.exports=n(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},7004:(e,t,n)=>{"use strict";var r=n(8853),a=n(5043),o=n(7950);function i(e){var t="https://trade-insights-27.preview.emergentagent.com","/api"),Yw=e=>{let{componentName:t}=e;return(0,Uw.jsxs)("div",{className:"flex flex-col justify-center items-center h-64 space-y-4",children:[(0,Uw.jsxs)("div",{className:"relative",children:[(0,Uw.jsx)("div",{className:"w-16 h-16 border-4 border-blue-200 rounded-full animate-spin"}),(0,Uw.jsx)("div",{className:"absolute top-0 left-0 w-16 h-16 border-4 border-blue-500 rounded-full border-t-transparent animate-spin"}),(0,Uw.jsx)("div",{className:"absolute top-2 left-2 w-12 h-12 border-4 border-blue-300 rounded-full border-t-transparent animate-spin animation-delay-150"})]}),(0,Uw.jsxs)("div",{className:"text-center",children:[(0,Uw.jsxs)("span",{className:"text-gray-700 font-medium text-lg",children:["Loading ",t,"..."]}),(0,Uw.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Preparing advanced features"})]}),(0,Uw.jsxs)("div",{className:"flex space-x-1",children:[(0,Uw.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),(0,Uw.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce animation-delay-150"}),(0,Uw.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce animation-delay-300"})]})]})},Qw=e=>{let{activeTab:n,setActiveTab:r}=e;const[a,o]=(0,t.useState)(!1),[i,l]=(0,t.useState)(!1),[s,c]=(0,t.useState)(new Set(["TradeStation \ud83c\udfdb\ufe0f"])),{isDarkMode:u,toggleDarkMode:d}=Gw();(0,t.useEffect)((()=>{const e=()=>{const e=window.innerWidth<768;l(e),e&&o(!0)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const f=[{title:"Overview",items:[{id:"dashboard",label:"Dashboard",icon:sw,color:"from-blue-500 to-cyan-500",shortLabel:"Dash"}]},{title:"Analysis & Trading",items:[{id:"investments",label:"Investment Scoring",icon:cw.A,color:"from-amber-500 to-orange-500",badge:"\ud83c\udfaf",shortLabel:"Score"},{id:"screener",label:"Advanced Screener",icon:uw,color:"from-violet-500 to-purple-500",shortLabel:"Screen"},{id:"simple-screener",label:"Stock Search",icon:dw.A,color:"from-pink-500 to-rose-500",shortLabel:"Search"},{id:"technical",label:"Technical Analysis",icon:fw.A,color:"from-indigo-500 to-purple-500",shortLabel:"Tech"}]},{title:"Unusual Whales \ud83d\udc0b",items:[{id:"options-flow",label:"Options Flow",icon:pw,color:"from-cyan-500 to-blue-600",badge:"\ud83d\udcc8",shortLabel:"Flow"},{id:"dark-pool",label:"Dark Pool",icon:hw,color:"from-gray-600 to-slate-700",badge:"\ud83c\udf0a",shortLabel:"Dark"},{id:"congressional",label:"Congressional Trades",icon:mw,color:"from-red-500 to-pink-600",badge:"\ud83c\udfdb\ufe0f",shortLabel:"Congress"},{id:"trading-strategies",label:"Trading Strategies",icon:yw,color:"from-green-500 to-emerald-600",badge:"\ud83c\udfaf",shortLabel:"Strategies"}]},{title:"TradeStation \ud83c\udfdb\ufe0f",items:[{id:"ts-auth",label:"Authentication",icon:gw,color:"from-blue-500 to-indigo-600",badge:"\ud83d\udd10",shortLabel:"Auth"},{id:"ts-portfolio",label:"Live Portfolio",icon:vw,color:"from-emerald-500 to-green-600",badge:"\ud83d\udcca",shortLabel:"Live"},{id:"ts-balance",label:"Account Balance",icon:bw,color:"from-green-500 to-emerald-600",badge:"\ud83d\udcb0",shortLabel:"Balance"},{id:"ts-trading",label:"Live Trading",icon:xw.A,color:"from-red-500 to-pink-600",badge:"\u26a1",shortLabel:"Trade"},{id:"ts-orders",label:"Order Management",icon:ww,color:"from-purple-500 to-violet-600",badge:"\ud83d\udccb",shortLabel:"Orders"}]},{title:"Automated Trading \ud83e\udd16",items:[{id:"auto-trading",label:"Auto Options Trading",icon:jw,color:"from-purple-500 to-indigo-600",badge:"\ud83e\udd16",shortLabel:"Auto"},{id:"trading-history",label:"Trading History",icon:ww,color:"from-blue-500 to-cyan-600",badge:"\ud83d\udcca",shortLabel:"History"},{id:"performance",label:"Performance Analytics",icon:fw.A,color:"from-green-500 to-teal-600",badge:"\ud83d\udcc8",shortLabel:"Analytics"}]},{title:"Tools & Alerts",items:[{id:"watchlist",label:"Watchlist",icon:Nw,color:"from-yellow-500 to-amber-500",shortLabel:"Watch"},{id:"news",label:"Market News",icon:Sw,color:"from-slate-500 to-gray-500",shortLabel:"News"}]}];return(0,Uw.jsxs)(Uw.Fragment,{children:[i&&!a&&(0,Uw.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>o(!0)}),(0,Uw.jsx)("div",{className:"".concat(a?"w-16":"w-64"," bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white h-screen fixed left-0 top-0 overflow-y-auto shadow-xl border-r border-slate-700 z-50 transition-all duration-300 custom-scrollbar"),children:(0,Uw.jsxs)("div",{className:"p-4",children:[(0,Uw.jsx)("button",{onClick:()=>o(!a),className:"absolute top-4 -right-3 bg-slate-700 hover:bg-slate-600 rounded-full p-2 shadow-lg transition-colors duration-200 z-60",children:(0,Uw.jsx)("svg",{className:"w-4 h-4 transform transition-transform duration-200 ".concat(a?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Uw.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,Uw.jsxs)("div",{className:"mb-6",children:[(0,Uw.jsx)("div",{className:"flex items-center ".concat("justify-center"," mb-3"),children:a?(0,Uw.jsx)("div",{className:"flex items-center justify-center flex-shrink-0",children:(0,Uw.jsx)("img",{src:"/assets/logos/flowmind_transparent_glyph.svg",alt:"FlowMind",className:"w-16 h-16"})}):(0,Uw.jsx)("div",{className:"flex items-center justify-center w-full px-2",children:(0,Uw.jsx)("img",{src:"/assets/logos/flowmind_horizontal_transparent.svg",alt:"FlowMind Analytics",className:"h-16 w-full max-w-[280px] object-contain"})})}),!a&&(0,Uw.jsx)("p",{className:"text-xs text-slate-400 text-center mt-3",children:"Where Data Flows, Intelligence Grows"})]}),(0,Uw.jsx)("nav",{className:"space-y-6",children:f.map(((e,l)=>{const p="TradeStation \ud83c\udfdb\ufe0f"===e.title,h=s.has(e.title);return(0,Uw.jsxs)("div",{children:[!a&&(0,Uw.jsx)("div",{className:"flex items-center justify-between mb-3 px-3",children:(0,Uw.jsx)("h3",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:p?(0,Uw.jsxs)("button",{onClick:()=>(e=>{const t=new Set(s);t.has(e)?t.delete(e):t.add(e),c(t)})(e.title),className:"flex items-center gap-2 hover:text-slate-200 transition-colors",children:[(0,Uw.jsx)("span",{children:"TradeStation"}),(0,Uw.jsx)("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),(0,Uw.jsx)(kw.A,{className:"w-3 h-3 transition-transform duration-200 ".concat(h?"rotate-180":"")})]}):e.title})}),(!p||h)&&(0,Uw.jsx)("div",{className:"space-y-1",children:e.items.map(((l,s)=>{const c=l.icon,p=n===l.id,h=(f.length,e.items.length,"news"===l.id);return(0,Uw.jsxs)(t.Fragment,{children:[(0,Uw.jsxs)("div",{className:"relative group",children:[(0,Uw.jsxs)("button",{onClick:()=>{r(l.id),i&&o(!0)},className:"w-full group flex items-center ".concat(a?"justify-center px-2":"space-x-3 px-3"," py-3 rounded-xl transition-all duration-200 relative ").concat(p?"bg-gradient-to-r "+l.color+" text-white shadow-lg transform scale-105":"text-slate-300 hover:text-white hover:bg-slate-700/50 hover:transform hover:scale-102"),children:[p&&!a&&(0,Uw.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-white rounded-r-full opacity-80"}),(0,Uw.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg transition-all duration-200 ".concat(p?"bg-white/20":"bg-slate-600/30 group-hover:bg-slate-600/50"),children:(0,Uw.jsx)(c,{size:18,className:p?"text-white":"text-slate-300 group-hover:text-white"})}),!a&&(0,Uw.jsx)("div",{className:"flex-1 text-left",children:(0,Uw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Uw.jsx)("span",{className:"font-medium text-sm",children:l.label}),l.badge&&(0,Uw.jsx)("span",{className:"text-xs opacity-70",children:l.badge})]})}),!p&&!a&&(0,Uw.jsx)("div",{className:"w-0 h-0 opacity-0 group-hover:w-1 group-hover:h-8 group-hover:opacity-50 bg-gradient-to-r from-blue-400 to-cyan-400 rounded-full transition-all duration-300"})]}),a&&(0,Uw.jsxs)("div",{className:"absolute left-16 top-1/2 transform -translate-y-1/2 bg-slate-800 text-white px-2 py-1 rounded text-xs whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-50 shadow-lg",children:[l.label,(0,Uw.jsx)("div",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-1 w-2 h-2 bg-slate-800 rotate-45"})]})]}),h&&!a&&(0,Uw.jsx)("div",{className:"mt-3",children:(0,Uw.jsxs)("button",{onClick:d,className:"w-full flex items-center justify-between bg-slate-800/50 hover:bg-slate-700/50 rounded-xl p-3 border border-slate-600/30 transition-all duration-200 group",children:[(0,Uw.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Uw.jsx)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center transition-all duration-200 ".concat(u?"bg-indigo-500/20 text-indigo-400":"bg-amber-500/20 text-amber-400"),children:u?(0,Uw.jsx)(Ow,{size:16}):(0,Uw.jsx)(Aw,{size:16})}),(0,Uw.jsx)("span",{className:"text-sm text-slate-300 group-hover:text-white",children:u?"Dark Mode":"Light Mode"})]}),(0,Uw.jsx)("div",{className:"w-12 h-6 rounded-full p-1 transition-all duration-200 ".concat(u?"bg-indigo-600":"bg-slate-600"),children:(0,Uw.jsx)("div",{className:"w-4 h-4 rounded-full bg-white transition-all duration-200 transform ".concat(u?"translate-x-6":"translate-x-0")})})]})}),h&&a&&(0,Uw.jsx)("div",{className:"mt-2 flex justify-center",children:(0,Uw.jsx)("button",{onClick:d,className:"w-10 h-10 rounded-xl flex items-center justify-center border transition-all duration-200 ".concat(u?"bg-indigo-500/20 border-indigo-500/30 text-indigo-400 hover:bg-indigo-500/30":"bg-amber-500/20 border-amber-500/30 text-amber-400 hover:bg-amber-500/30"),title:u?"Switch to Light Mode":"Switch to Dark Mode",children:u?(0,Uw.jsx)(Ow,{size:16}):(0,Uw.jsx)(Aw,{size:16})})})]},l.id)}))})]},l)}))}),!a&&(0,Uw.jsx)("div",{className:"absolute bottom-4 left-4 right-4 space-y-3",children:(0,Uw.jsx)("div",{className:"bg-slate-800/50 rounded-xl p-3 border border-slate-600/30",children:(0,Uw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Uw.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Uw.jsx)("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),(0,Uw.jsx)("span",{className:"text-xs text-slate-400",children:"System Active"})]}),(0,Uw.jsx)("span",{className:"text-xs text-slate-500",children:"v2.1.0"})]})})})]})})]})},Jw=t.memo((()=>{const[e,n]=(0,t.useState)(null),[r,o]=(0,t.useState)(null),[i,l]=(0,t.useState)(!0),[s,c]=(0,t.useState)(!1),u=(0,t.useCallback)((async()=>{if(!s){c(!0);try{const e=await pt.A.get("".concat(Xw,"/market/overview"));n(e.data);const t=await pt.A.get("".concat(Xw,"/market/top-movers"));o(t.data)}catch(e){console.error("Error fetching market data:",e)}finally{l(!1),c(!1)}}}),[s]);(0,t.useEffect)((()=>{u()}),[u]);const d=(0,t.useCallback)((e=>e>=1e9?(e/1e9).toFixed(2)+"B":e>=1e6?(e/1e6).toFixed(2)+"M":e>=1e3?(e/1e3).toFixed(2)+"K":(null===e||void 0===e?void 0:e.toFixed(2))||"0.00"),[]),f=(0,t.useMemo)((()=>{var t;return(null===e||void 0===e||null===(t=e.indices)||void 0===t?void 0:t.map(((e,t)=>(0,a.A)((0,a.A)({},e),{},{id:"index-".concat(t),formattedPrice:d(e.price)}))))||[]}),[null===e||void 0===e?void 0:e.indices,d]),p=(0,t.useMemo)((()=>{var e,t;return{gainers:(null===r||void 0===r||null===(e=r.gainers)||void 0===e?void 0:e.slice(0,5).map(((e,t)=>(0,a.A)((0,a.A)({},e),{},{id:"gainer-".concat(t),rank:t+1}))))||[],losers:(null===r||void 0===r||null===(t=r.losers)||void 0===t?void 0:t.slice(0,5).map(((e,t)=>(0,a.A)((0,a.A)({},e),{},{id:"loser-".concat(t),rank:t+1}))))||[]}}),[r]);return i?(0,Uw.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Uw.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,Uw.jsxs)("div",{className:"relative",children:[(0,Uw.jsx)("div",{className:"w-16 h-16 border-4 border-blue-200 rounded-full animate-spin"}),(0,Uw.jsx)("div",{className:"absolute top-0 left-0 w-16 h-16 border-4 border-blue-500 rounded-full border-t-transparent animate-spin"}),(0,Uw.jsx)("div",{className:"absolute top-2 left-2 w-12 h-12 border-4 border-blue-300 rounded-full border-t-transparent animate-spin animation-delay-150"})]}),(0,Uw.jsxs)("div",{className:"text-center",children:[(0,Uw.jsx)("span",{className:"text-gray-700 font-medium text-lg",children:"Loading market data..."}),(0,Uw.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Getting real-time stock prices and market indices"})]}),(0,Uw.jsxs)("div",{className:"flex space-x-1",children:[(0,Uw.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),(0,Uw.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce animation-delay-150"}),(0,Uw.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce animation-delay-300"})]})]})}):(0,Uw.jsxs)("div",{className:"space-y-8",children:[(0,Uw.jsx)("div",{className:"bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-700 rounded-2xl p-4 md:p-6 text-white shadow-xl",children:(0,Uw.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[(0,Uw.jsxs)("div",{className:"mb-4 md:mb-0",children:[(0,Uw.jsx)("h2",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Market Dashboard"}),(0,Uw.jsx)("p",{className:"text-blue-100 text-sm md:text-lg",children:"Real-time market overview and top movers"})]}),(0,Uw.jsxs)("div",{className:"text-left md:text-right",children:[(0,Uw.jsx)("div",{className:"text-sm text-blue-200 mb-1",children:"Last Updated"}),(0,Uw.jsx)("div",{className:"text-blue-100 font-medium mb-2",children:(new Date).toLocaleTimeString()}),(0,Uw.jsxs)("button",{onClick:u,disabled:s,className:"px-3 md:px-4 py-2 rounded-lg transition-colors duration-200 flex items-center space-x-2 ".concat(s?"bg-white/10 cursor-not-allowed":"bg-white/20 hover:bg-white/30"),children:[(0,Uw.jsx)(Ew.A,{size:16,className:s?"animate-spin":""}),(0,Uw.jsx)("span",{children:s?"Refreshing...":"Refresh"})]})]})]})}),(0,Uw.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:f.map((e=>(0,Uw.jsx)(Zw,{index:e},e.id)))}),(0,Uw.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 md:gap-8",children:[(0,Uw.jsx)(ej,{title:"Top Gainers",stocks:p.gainers,type:"gainers"}),(0,Uw.jsx)(ej,{title:"Top Losers",stocks:p.losers,type:"losers"})]})]})})),Zw=t.memo((e=>{var t,n,r;let{index:a}=e;return(0,Uw.jsxs)("div",{className:"group relative",children:[(0,Uw.jsx)("div",{className:"absolute inset-0 rounded-xl opacity-10 ".concat(a.change>=0?"bg-gradient-to-br from-emerald-400 to-green-500":"bg-gradient-to-br from-red-400 to-red-500")}),(0,Uw.jsxs)("div",{className:"relative bg-white/80 backdrop-blur-sm p-4 md:p-6 rounded-xl shadow-lg card-hover border border-gray-100",children:[(0,Uw.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("div",{className:"flex items-center space-x-2 mb-2",children:(0,Uw.jsx)("span",{className:"text-xs md:text-sm font-bold text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:a.symbol})}),(0,Uw.jsxs)("p",{className:"text-xl md:text-2xl font-bold text-gray-800",children:["$",null===(t=a.price)||void 0===t?void 0:t.toFixed(2)]})]}),(0,Uw.jsx)("div",{className:"p-2 md:p-3 rounded-xl ".concat(a.change>=0?"bg-gradient-to-r from-emerald-500 to-green-500":"bg-gradient-to-r from-red-500 to-red-600"," text-white"),children:a.change>=0?(0,Uw.jsx)(Pw.A,{size:20}):(0,Uw.jsx)(_w.A,{size:20})})]}),(0,Uw.jsxs)("div",{className:"flex items-center space-x-2 text-base md:text-lg font-semibold ".concat(a.change>=0?"text-emerald-600":"text-red-600"),children:[(0,Uw.jsxs)("span",{children:[a.change>=0?"+":"",null===(n=a.change)||void 0===n?void 0:n.toFixed(2)]}),(0,Uw.jsxs)("span",{children:["(",null===(r=a.change_percent)||void 0===r?void 0:r.toFixed(2),"%)"]})]}),(0,Uw.jsx)("div",{className:"mt-3",children:(0,Uw.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Uw.jsx)("div",{className:"h-2 rounded-full transition-all duration-500 ".concat(a.change>=0?"bg-gradient-to-r from-emerald-400 to-green-500":"bg-gradient-to-r from-red-400 to-red-500"),style:{width:"".concat(Math.min(100,10*Math.abs(a.change_percent)),"%")}})})})]})]})})),ej=t.memo((e=>{let{title:t,stocks:n,type:r}=e;return(0,Uw.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm p-4 md:p-6 rounded-2xl shadow-lg border border-gray-100 card-hover",children:[(0,Uw.jsxs)("div",{className:"flex items-center space-x-3 mb-4 md:mb-6",children:[(0,Uw.jsx)("div",{className:"p-2 md:p-3 rounded-xl text-white animate-pulse-soft ".concat("gainers"===r?"bg-gradient-to-r from-emerald-500 to-green-500":"bg-gradient-to-r from-red-500 to-red-600"),children:"gainers"===r?(0,Uw.jsx)(Pw.A,{size:20}):(0,Uw.jsx)(_w.A,{size:20})}),(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("h3",{className:"text-lg md:text-xl font-bold text-gray-800",children:t}),(0,Uw.jsx)("p",{className:"text-gray-600 text-sm",children:"gainers"===r?"Best performing stocks today":"Worst performing stocks today"})]})]}),(0,Uw.jsx)("div",{className:"space-y-3",children:n.map((e=>(0,Uw.jsx)(tj,{stock:e,type:r},e.id)))})]})})),tj=t.memo((e=>{var t,n,r;let{stock:a,type:o}=e;return(0,Uw.jsx)("div",{className:"group p-3 md:p-4 rounded-xl transition-all duration-200 border border-transparent hover:border-".concat("gainers"===o?"emerald":"red","-200 hover:bg-gradient-to-r ").concat("gainers"===o?"hover:from-emerald-50 hover:to-green-50":"hover:from-red-50 hover:to-red-50"),children:(0,Uw.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Uw.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Uw.jsx)("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center ".concat("gainers"===o?"bg-gradient-to-r from-emerald-100 to-green-100":"bg-gradient-to-r from-red-100 to-red-100"),children:(0,Uw.jsx)("span",{className:"font-bold text-sm md:text-base ".concat("gainers"===o?"text-emerald-600":"text-red-600"),children:a.rank})}),(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("span",{className:"font-bold text-gray-800 text-sm md:text-base",children:a.symbol}),(0,Uw.jsxs)("p",{className:"text-xs md:text-sm text-gray-600",children:["$",null===(t=a.price)||void 0===t?void 0:t.toFixed(2)]})]})]}),(0,Uw.jsxs)("div",{className:"text-right",children:[(0,Uw.jsxs)("div",{className:"flex items-center space-x-1 font-bold text-sm md:text-base ".concat("gainers"===o?"text-emerald-600":"text-red-600"),children:["gainers"===o?(0,Uw.jsx)(Pw.A,{size:14}):(0,Uw.jsx)(_w.A,{size:14}),(0,Uw.jsxs)("span",{children:["gainers"===o?"+":"",null===(n=a.change_percent)||void 0===n?void 0:n.toFixed(2),"%"]})]}),(0,Uw.jsxs)("p",{className:"text-xs md:text-sm text-gray-600",children:["gainers"===o?"+":"","$",null===(r=a.change)||void 0===r?void 0:r.toFixed(2)]})]})]})})})),nj=()=>{var e;const[n,r]=(0,t.useState)([]),[a,o]=(0,t.useState)(null),[i,l]=(0,t.useState)(null),[s,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(null),[f,p]=(0,t.useState)("positions"),[h,m]=(0,t.useState)("all"),[y,g]=(0,t.useState)(new Set),{isDarkMode:v}=Gw();(0,t.useEffect)((()=>{b()}),[]),(0,t.useEffect)((()=>{a&&x(a)}),[a]);const b=async()=>{try{var e,t;c(!0);const n=await pt.A.get("".concat(Xw,"/tradestation/accounts"));(null===(e=n.data)||void 0===e||null===(t=e.accounts)||void 0===t?void 0:t.length)>0&&(r(n.data.accounts),o(n.data.accounts[0].AccountID))}catch(n){d("Failed to load accounts: ".concat(n.message))}finally{c(!1)}},x=async e=>{if(e)try{c(!0);const t=await fetch("".concat(Xw,"/tradestation/accounts/").concat(e,"/positions-simple"));if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));const n=await t.json();if(!n.data)throw new Error("Invalid data structure received");l(n.data),d(null)}catch(t){d("Failed to load portfolio data: ".concat(t.message))}finally{c(!1)}},w=e=>{const t={};return e.forEach((e=>{const n=(e=>{const t=e.match(/^([A-Z]+)/);return t?t[1]:e})(e.symbol);t[n]||(t[n]={baseSymbol:n,positions:[],hasMultiplePositions:!1}),t[n].positions.push(e)})),Object.keys(t).forEach((e=>{t[e].hasMultiplePositions=t[e].positions.length>1})),t},j=e=>e?"all"===h?e:"stocks"===h?e.filter((e=>"STOCK"===e.asset_type)):"options"===h?e.filter((e=>"STOCKOPTION"===e.asset_type)):e:[],N=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),S=e=>e>0?"text-green-400":e<0?"text-red-400":"text-gray-400",k=(()=>{if(null===i||void 0===i||!i.positions)return[];const e=w(j(i.positions));return Object.entries(e).map((e=>{let[t,n]=e;return{symbol:t,value:n.positions.reduce(((e,t)=>e+Math.abs(t.market_value)),0),count:n.positions.length}})).sort(((e,t)=>t.value-e.value)).slice(0,10)})(),O=[{id:"positions",label:"Positions",icon:fw.A},{id:"performance",label:"Performance",icon:Pw.A},{id:"allocation",label:"Allocation",icon:Tw.A},{id:"risk",label:"Risk Analysis",icon:Cw.A}],A=()=>{if(null===i||void 0===i||!i.positions)return(0,Uw.jsx)("div",{children:"No positions data"});const e=j(i.positions),t=w(e),n=[];return Object.entries(t).forEach((e=>{let[t,r]=e;const a=y.has(t),{positions:o,hasMultiplePositions:i}=r;if(i){const e=o.reduce(((e,t)=>e+t.market_value),0),r=o.reduce(((e,t)=>e+t.unrealized_pnl),0);n.push((0,Uw.jsxs)("tr",{className:"bg-gradient-to-r from-blue-900 to-blue-800 hover:from-blue-850 hover:to-blue-750 transition-all duration-200 border-b-2 border-blue-600",children:[(0,Uw.jsx)("td",{className:"px-3 py-2 border-r border-gray-600 w-32 min-w-32",children:(0,Uw.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Uw.jsx)("button",{className:"text-gray-300 hover:text-white transition-colors flex-shrink-0",onClick:()=>(e=>{const t=new Set(y);t.has(e)?t.delete(e):t.add(e),g(t)})(t),children:(0,Uw.jsx)("div",{className:"ts-double-arrow ".concat(a?"expanded":"")})}),(0,Uw.jsxs)("div",{className:"flex flex-col min-w-0 flex-1",children:[(0,Uw.jsx)("span",{className:"font-bold text-white text-base truncate",children:t}),(0,Uw.jsxs)("span",{className:"text-xs text-blue-200 truncate",children:[o.length," positions"]})]})]})}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-left border-r border-gray-600 w-48 min-w-48",children:(0,Uw.jsxs)("div",{className:"text-sm text-blue-100 truncate",children:["GROUP: ",t]})}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-center border-r border-gray-600 w-24 min-w-24",children:(0,Uw.jsx)("div",{className:"text-sm font-medium text-blue-100",children:o.length})}),(0,Uw.jsxs)("td",{className:"px-3 py-2 text-right font-bold border-r border-gray-600 w-28 min-w-28 ".concat(S(r)," truncate"),children:[r>0?"+":"",N(r)]}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-right font-bold border-r border-gray-600 w-32 min-w-32 text-blue-100 truncate",children:N(e)})]},"ticker-".concat(t))),a&&o.forEach(((e,r)=>{n.push((0,Uw.jsxs)("tr",{className:"bg-gradient-to-r from-gray-750 to-gray-800 hover:from-gray-700 hover:to-gray-750 transition-all duration-200 border-b border-gray-600 border-l-4 border-l-cyan-400",children:[(0,Uw.jsx)("td",{className:"px-3 py-2 border-r border-gray-600 w-32 min-w-32",children:(0,Uw.jsx)("div",{className:"flex items-center gap-1 pl-8",children:(0,Uw.jsxs)("div",{className:"flex flex-col min-w-0 flex-1",children:[(0,Uw.jsx)("span",{className:"font-semibold text-cyan-300 text-sm truncate",children:e.symbol}),(0,Uw.jsx)("span",{className:"text-xs text-gray-500 uppercase truncate",children:e.asset_type||"POS"})]})})}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-left border-r border-gray-600 w-48 min-w-48",children:(0,Uw.jsx)("div",{className:"text-sm text-gray-300 truncate",children:e.description||"".concat(e.symbol," Position")})}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-center border-r border-gray-600 w-24 min-w-24",children:(0,Uw.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Uw.jsx)("span",{className:"text-xs font-medium px-1 py-0.5 rounded ".concat(e.quantity>0?"bg-green-700 text-green-200":"bg-red-700 text-red-200"),children:e.quantity>0?"LONG":"SHORT"}),(0,Uw.jsx)("span",{className:"text-sm font-medium text-gray-200",children:Math.abs(e.quantity)})]})}),(0,Uw.jsxs)("td",{className:"px-3 py-2 text-right font-semibold border-r border-gray-600 w-28 min-w-28 ".concat(S(e.unrealized_pnl)," truncate"),children:[e.unrealized_pnl>0?"+":"",N(e.unrealized_pnl)]}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-right font-semibold border-r border-gray-600 w-32 min-w-32 text-gray-200 truncate",children:N(e.market_value)})]},"".concat(t,"-pos-").concat(r)))}))}else{const e=o[0];n.push((0,Uw.jsxs)("tr",{className:"bg-gradient-to-r from-gray-800 to-gray-900 hover:from-gray-750 hover:to-gray-850 transition-all duration-200 border-b border-gray-600",children:[(0,Uw.jsx)("td",{className:"px-3 py-2 border-r border-gray-600 w-32 min-w-32",children:(0,Uw.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Uw.jsx)("div",{className:"w-4 h-4 flex-shrink-0"}),(0,Uw.jsxs)("div",{className:"flex flex-col min-w-0 flex-1",children:[(0,Uw.jsx)("span",{className:"font-semibold text-blue-300 text-sm truncate",children:e.symbol}),(0,Uw.jsx)("span",{className:"text-xs text-gray-400 uppercase truncate",children:e.asset_type||"SINGLE"})]})]})}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-left border-r border-gray-600 w-48 min-w-48",children:(0,Uw.jsx)("div",{className:"text-sm text-gray-300 truncate",children:e.description||"".concat(e.symbol," Position")})}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-center border-r border-gray-600 w-24 min-w-24",children:(0,Uw.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Uw.jsx)("span",{className:"text-xs font-medium px-1 py-0.5 rounded ".concat(e.quantity>0?"bg-green-700 text-green-200":"bg-red-700 text-red-200"),children:e.quantity>0?"LONG":"SHORT"}),(0,Uw.jsx)("span",{className:"text-sm font-medium text-gray-200",children:Math.abs(e.quantity)})]})}),(0,Uw.jsxs)("td",{className:"px-3 py-2 text-right font-semibold border-r border-gray-600 w-28 min-w-28 ".concat(S(e.unrealized_pnl)," truncate"),children:[e.unrealized_pnl>0?"+":"",N(e.unrealized_pnl)]}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-right font-semibold border-r border-gray-600 w-32 min-w-32 text-gray-200 truncate",children:N(e.market_value)})]},"single-".concat(t)))}})),(0,Uw.jsxs)("div",{className:"overflow-hidden",children:[(0,Uw.jsx)("div",{className:"mb-4 flex flex-wrap gap-2",children:["all","stocks","options"].map((e=>(0,Uw.jsx)("button",{onClick:()=>m(e),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat(h===e?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:e.charAt(0).toUpperCase()+e.slice(1)},e)))}),(0,Uw.jsx)("div",{className:"overflow-x-auto",children:(0,Uw.jsxs)("table",{className:"w-full",children:[(0,Uw.jsx)("thead",{className:"bg-gray-900 text-gray-300",children:(0,Uw.jsxs)("tr",{children:[(0,Uw.jsx)("th",{className:"px-3 py-2 text-left",children:"Symbol"}),(0,Uw.jsx)("th",{className:"px-3 py-2 text-left",children:"Description"}),(0,Uw.jsx)("th",{className:"px-3 py-2 text-center",children:"Quantity"}),(0,Uw.jsx)("th",{className:"px-3 py-2 text-right",children:"P&L"}),(0,Uw.jsx)("th",{className:"px-3 py-2 text-right",children:"Market Value"})]})}),(0,Uw.jsx)("tbody",{children:n})]})})]})},E=()=>(0,Uw.jsxs)("div",{className:"text-center py-8",children:[(0,Uw.jsx)(Pw.A,{size:48,className:"mx-auto text-gray-400 mb-4"}),(0,Uw.jsx)("p",{className:"text-gray-500",children:"Performance analytics coming soon..."})]}),P=()=>(0,Uw.jsx)("div",{className:"space-y-6",children:(0,Uw.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm p-6 rounded-xl shadow-lg",children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Portfolio Allocation"}),k.length>0?(0,Uw.jsx)("div",{className:"space-y-2",children:k.map(((e,t)=>(0,Uw.jsxs)("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded",children:[(0,Uw.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Uw.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:Vw[t%Vw.length]}}),(0,Uw.jsx)("span",{className:"font-medium",children:e.symbol})]}),(0,Uw.jsxs)("div",{className:"text-right",children:[(0,Uw.jsx)("div",{className:"font-semibold",children:N(e.value)}),(0,Uw.jsxs)("div",{className:"text-sm text-gray-500",children:[e.count," positions"]})]})]},e.symbol)))}):(0,Uw.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No allocation data available"})]})}),_=()=>(0,Uw.jsxs)("div",{className:"text-center py-8",children:[(0,Uw.jsx)(Cw.A,{size:48,className:"mx-auto text-gray-400 mb-4"}),(0,Uw.jsx)("p",{className:"text-gray-500",children:"Risk analysis coming soon..."})]});return s?(0,Uw.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Uw.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):(0,Uw.jsxs)("div",{className:"space-y-6",children:[(0,Uw.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 rounded-xl text-white",children:(0,Uw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("h1",{className:"text-2xl font-bold",children:"Enhanced Portfolio"}),(0,Uw.jsx)("p",{className:"text-blue-100",children:"Real-time TradeStation integration"})]}),(0,Uw.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Uw.jsxs)("select",{value:a||"",onChange:e=>o(e.target.value),className:"bg-white/20 border border-white/30 rounded-lg px-3 py-2 text-white placeholder-white/70",children:[(0,Uw.jsx)("option",{value:"",children:"Select Account"}),n.map((e=>(0,Uw.jsxs)("option",{value:e.AccountID,className:"text-gray-900",children:[e.DisplayName," (",e.AccountID,")"]},e.AccountID)))]}),u&&(0,Uw.jsx)("button",{onClick:()=>a&&x(a),className:"bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors",children:"Refresh"})]})]})}),(null===i||void 0===i?void 0:i.portfolio_metrics)&&(0,Uw.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Uw.jsx)("div",{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 p-6 rounded-xl text-white shadow-lg",children:(0,Uw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("p",{className:"text-emerald-100 text-sm",children:"Total Value"}),(0,Uw.jsx)("p",{className:"text-2xl font-bold",children:N(i.portfolio_metrics.total_market_value)})]}),(0,Uw.jsx)(bw,{size:32,className:"text-emerald-200"})]})}),(0,Uw.jsx)("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 p-6 rounded-xl text-white shadow-lg",children:(0,Uw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("p",{className:"text-blue-100 text-sm",children:"Positions"}),(0,Uw.jsx)("p",{className:"text-2xl font-bold",children:i.portfolio_metrics.position_count||(null===(e=i.positions)||void 0===e?void 0:e.length)||0})]}),(0,Uw.jsx)(vw,{size:32,className:"text-blue-200"})]})}),(0,Uw.jsx)("div",{className:"bg-gradient-to-br ".concat(i.portfolio_metrics.total_unrealized_pnl>=0?"from-green-500 to-green-600":"from-red-500 to-red-600"," p-6 rounded-xl text-white shadow-lg"),children:(0,Uw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("p",{className:"text-white/80 text-sm",children:"P&L"}),(0,Uw.jsxs)("p",{className:"text-2xl font-bold",children:[i.portfolio_metrics.total_unrealized_pnl>0?"+":"",N(i.portfolio_metrics.total_unrealized_pnl)]})]}),(0,Uw.jsx)(Pw.A,{size:32,className:"text-white/80"})]})}),(0,Uw.jsx)("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 p-6 rounded-xl text-white shadow-lg",children:(0,Uw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("p",{className:"text-purple-100 text-sm",children:"Daily P&L"}),(0,Uw.jsxs)("p",{className:"text-2xl font-bold",children:[i.portfolio_metrics.total_daily_pnl>0?"+":"",N(i.portfolio_metrics.total_daily_pnl)]})]}),(0,Uw.jsx)(pw,{size:32,className:"text-purple-200"})]})})]}),u&&(0,Uw.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:(0,Uw.jsxs)("div",{className:"flex items-center",children:[(0,Uw.jsx)(Mw,{className:"h-4 w-4 mr-2"}),(0,Uw.jsx)("span",{children:u})]})}),(0,Uw.jsx)("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-1 shadow-lg",children:(0,Uw.jsx)("div",{className:"flex space-x-1",children:O.map((e=>(0,Uw.jsxs)("button",{onClick:()=>p(e.id),className:"flex items-center space-x-2 px-4 py-2 rounded-lg transition-all ".concat(f===e.id?"bg-blue-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-100"),children:[(0,Uw.jsx)(e.icon,{size:16}),(0,Uw.jsx)("span",{className:"font-medium",children:e.label})]},e.id)))})}),(0,Uw.jsx)("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg overflow-hidden",children:(0,Uw.jsx)("div",{className:"p-6",children:(()=>{switch(f){case"positions":default:return A();case"performance":return E();case"allocation":return P();case"risk":return _()}})()})})]})},rj=()=>{var e,n,r,a,o;const[i,l]=(0,t.useState)(""),[s,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(!1),[f,p]=(0,t.useState)(null);return(0,Uw.jsxs)("div",{className:"space-y-6",children:[(0,Uw.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Stock Search"}),(0,Uw.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i.trim()&&(async e=>{if(e){d(!0);try{const[t,n]=await Promise.all([pt.A.get("".concat(Xw,"/stocks/").concat(e,"/enhanced")),pt.A.get("".concat(Xw,"/stocks/").concat(e,"/history?period=1mo"))]);console.log("Stock search response:",t.data),c(t.data),p(n.data)}catch(t){console.error("Error fetching stock data:",t);try{const t=await pt.A.get("".concat(Xw,"/stocks/").concat(e));console.log("Fallback stock response:",t.data),c(t.data)}catch(n){console.error("Fallback also failed:",n),c(null)}p(null)}finally{d(!1)}}})(i.trim().toUpperCase())},className:"flex space-x-4",children:[(0,Uw.jsx)("input",{type:"text",value:i,onChange:e=>l(e.target.value),placeholder:"Enter stock symbol (e.g., AAPL)",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,Uw.jsxs)("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[(0,Uw.jsx)(dw.A,{size:20}),(0,Uw.jsx)("span",{children:"Search"})]})]}),u&&(0,Uw.jsx)("div",{className:"flex justify-center py-8",children:(0,Uw.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),s&&(0,Uw.jsxs)("div",{className:"space-y-4 w-full max-w-none",children:[(0,Uw.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,Uw.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("h3",{className:"text-2xl font-bold",children:s.symbol}),(0,Uw.jsxs)("p",{className:"text-3xl font-bold text-gray-800",children:["$",null===(e=s.price)||void 0===e?void 0:e.toFixed(2)]}),(0,Uw.jsxs)("div",{className:"flex items-center space-x-2 ".concat(s.change>=0?"text-green-600":"text-red-600"),children:[s.change>=0?(0,Uw.jsx)(Pw.A,{size:20}):(0,Uw.jsx)(_w.A,{size:20}),(0,Uw.jsxs)("span",{className:"text-lg",children:[null===(n=s.change)||void 0===n?void 0:n.toFixed(2)," (",null===(r=s.change_percent)||void 0===r?void 0:r.toFixed(2),"%)"]})]})]}),(0,Uw.jsxs)("div",{className:"text-right space-y-2",children:[(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("span",{className:"text-sm text-gray-600",children:"Volume: "}),(0,Uw.jsx)("span",{className:"font-medium",children:null===(a=s.volume)||void 0===a?void 0:a.toLocaleString()})]}),s.market_cap&&(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("span",{className:"text-sm text-gray-600",children:"Market Cap: "}),(0,Uw.jsxs)("span",{className:"font-medium",children:["$",(s.market_cap/1e9).toFixed(2),"B"]})]}),s.pe_ratio&&(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("span",{className:"text-sm text-gray-600",children:"P/E Ratio: "}),(0,Uw.jsx)("span",{className:"font-medium",children:null===(o=s.pe_ratio)||void 0===o?void 0:o.toFixed(2)})]})]})]})}),f&&(0,Uw.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Price Chart (1 Month)"}),(0,Uw.jsx)(Sn,{width:"100%",height:400,children:(0,Uw.jsxs)(Ux,{data:f,children:[(0,Uw.jsx)(ow,{strokeDasharray:"3 3"}),(0,Uw.jsx)(Px,{dataKey:"date"}),(0,Uw.jsx)(Bx,{}),(0,Uw.jsx)(Or,{formatter:(e,t)=>["$".concat(e.toFixed(2)),t],labelFormatter:e=>"Date: ".concat(e)}),(0,Uw.jsx)(to,{}),(0,Uw.jsx)(Kb,{type:"monotone",dataKey:"close",stroke:"#2563eb",strokeWidth:2,dot:!1})]})})]})]})]})},aj=()=>{var e,n,r,a,o,i,l,s,c,u,d,f,p,h,m,y,g,v,b,x,w,j,N,S,k,O,A,E,P,_,T,C,M,D,L,R,I,z,F,B,U,q,W,H,V,$,G,K,X,Y,Q;const[J,Z]=(0,t.useState)("AAPL"),[ee,te]=(0,t.useState)(null),[ne,re]=(0,t.useState)(!1),[ae,oe]=(0,t.useState)("overview"),ie=async()=>{if(J){re(!0);try{const e=await pt.A.get("".concat(Xw,"/investments/smart-money/").concat(J,"?timeframe=3mo"));console.log("Smart Money Analysis Response:",e.data),te(e.data)}catch(e){console.error("Error fetching smart money analysis:",e),te(null)}finally{re(!1)}}};(0,t.useEffect)((()=>{ie()}),[]);const le=e=>{if(!e||"string"!==typeof e)return"text-gray-600 bg-gray-50";switch(e.toLowerCase()){case"bullish":return"text-green-600 bg-green-50";case"bearish":return"text-red-600 bg-red-50";case"buy":return"text-green-700 bg-green-100";case"sell":return"text-red-700 bg-red-100";default:return"text-gray-600 bg-gray-50"}},se=e=>{var t,n;let{orderBlock:r}=e;if(!r||"object"!==typeof r)return(0,Uw.jsx)("div",{className:"p-3 text-gray-500",children:"Invalid order block data"});const a=r.type||"unknown",o=r.strength||"weak";return(0,Uw.jsxs)("div",{className:"p-3 rounded-lg border-l-4 ".concat("bullish"===a?"border-green-500 bg-green-50":"border-red-500 bg-red-50"),children:[(0,Uw.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Uw.jsxs)("span",{className:"font-semibold ".concat("bullish"===a?"text-green-700":"text-red-700"),children:[a.toUpperCase()," Order Block"]}),(0,Uw.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat("strong"===o?"bg-purple-100 text-purple-700":"medium"===o?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"),children:o})]}),(0,Uw.jsxs)("div",{className:"text-sm space-y-1",children:[(0,Uw.jsxs)("div",{children:["High: ",(0,Uw.jsxs)("span",{className:"font-medium",children:["$",(null===(t=r.high)||void 0===t?void 0:t.toFixed(2))||"N/A"]})]}),(0,Uw.jsxs)("div",{children:["Low: ",(0,Uw.jsxs)("span",{className:"font-medium",children:["$",(null===(n=r.low)||void 0===n?void 0:n.toFixed(2))||"N/A"]})]}),(0,Uw.jsxs)("div",{children:["Status: ",(0,Uw.jsx)("span",{className:"font-medium ".concat(r.tested?"text-red-600":"text-green-600"),children:r.tested?"Tested":"Untested"})]})]})]})},ce=e=>{var t,n,r,a;let{fvg:o}=e;if(!o||"object"!==typeof o)return(0,Uw.jsx)("div",{className:"p-3 text-gray-500",children:"Invalid FVG data"});const i=o.type||"unknown";return(0,Uw.jsxs)("div",{className:"p-3 rounded-lg border-l-4 ".concat("bullish"===i?"border-blue-500 bg-blue-50":"border-orange-500 bg-orange-50"),children:[(0,Uw.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Uw.jsxs)("span",{className:"font-semibold ".concat("bullish"===i?"text-blue-700":"text-orange-700"),children:[i.toUpperCase()," FVG"]}),(0,Uw.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat(o.filled?"bg-gray-100 text-gray-700":"bg-yellow-100 text-yellow-700"),children:o.filled?"Filled":"Open"})]}),(0,Uw.jsxs)("div",{className:"text-sm space-y-1",children:[(0,Uw.jsxs)("div",{children:["Gap High: ",(0,Uw.jsxs)("span",{className:"font-medium",children:["$",(null===(t=o.gap_high)||void 0===t?void 0:t.toFixed(2))||"N/A"]})]}),(0,Uw.jsxs)("div",{children:["Gap Low: ",(0,Uw.jsxs)("span",{className:"font-medium",children:["$",(null===(n=o.gap_low)||void 0===n?void 0:n.toFixed(2))||"N/A"]})]}),(0,Uw.jsxs)("div",{children:["Size: ",(0,Uw.jsxs)("span",{className:"font-medium",children:["$",(null===(r=o.gap_size)||void 0===r?void 0:r.toFixed(2))||"N/A"]})]}),!o.filled&&o.fill_percentage>0&&(0,Uw.jsxs)("div",{children:["Filled: ",(0,Uw.jsxs)("span",{className:"font-medium",children:[(null===(a=o.fill_percentage)||void 0===a?void 0:a.toFixed(1))||"0","%"]})]})]})]})},ue=e=>{var t,n;let{sweep:r}=e;if(!r||"object"!==typeof r)return(0,Uw.jsx)("div",{className:"p-3 text-gray-500",children:"Invalid sweep data"});const a=r.type||"unknown",o=r.significance||"minor";return(0,Uw.jsxs)("div",{className:"p-3 rounded-lg border-l-4 ".concat("high_sweep"===a?"border-purple-500 bg-purple-50":"border-indigo-500 bg-indigo-50"),children:[(0,Uw.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Uw.jsx)("span",{className:"font-semibold ".concat("high_sweep"===a?"text-purple-700":"text-indigo-700"),children:"high_sweep"===a?"High Sweep":"Low Sweep"}),(0,Uw.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat("major"===o?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"),children:o})]}),(0,Uw.jsxs)("div",{className:"text-sm space-y-1",children:[(0,Uw.jsxs)("div",{children:["Price: ",(0,Uw.jsxs)("span",{className:"font-medium",children:["$",(null===(t=r.price)||void 0===t?void 0:t.toFixed(2))||"N/A"]})]}),(0,Uw.jsxs)("div",{children:["Volume: ",(0,Uw.jsx)("span",{className:"font-medium",children:(null===(n=r.volume)||void 0===n?void 0:n.toLocaleString())||"N/A"})]}),(0,Uw.jsxs)("div",{children:["Time: ",(0,Uw.jsx)("span",{className:"font-medium",children:r.time?new Date(r.time).toLocaleDateString():"N/A"})]})]})]})};return(0,Uw.jsxs)("div",{className:"space-y-6",children:[(0,Uw.jsx)("div",{className:"flex justify-between items-center",children:(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83c\udfaf Smart Money & Price Action Analysis"}),(0,Uw.jsx)("p",{className:"text-gray-600",children:"Advanced institutional trading concepts and price action patterns"})]})}),(0,Uw.jsxs)("form",{onSubmit:e=>{e.preventDefault(),ie()},className:"flex space-x-4",children:[(0,Uw.jsx)("input",{type:"text",value:J,onChange:e=>Z(e.target.value.toUpperCase()),placeholder:"Enter stock symbol (e.g., AAPL)",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,Uw.jsxs)("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[(0,Uw.jsx)(pw,{size:20}),(0,Uw.jsx)("span",{children:"Analyze Smart Money"})]})]}),ne&&(0,Uw.jsx)("div",{className:"flex justify-center py-8",children:(0,Uw.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),ee&&(0,Uw.jsxs)("div",{className:"space-y-6",children:[(0,Uw.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border border-blue-200",children:(0,Uw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Uw.jsxs)("div",{children:[(0,Uw.jsxs)("h3",{className:"text-xl font-bold text-gray-800",children:[ee.symbol," Smart Money Analysis"]}),(0,Uw.jsx)("p",{className:"text-gray-600 mt-1",children:null===(e=ee.smart_money_verdict)||void 0===e?void 0:e.key_insight})]}),(0,Uw.jsxs)("div",{className:"text-right",children:[(0,Uw.jsx)("div",{className:"text-2xl font-bold px-4 py-2 rounded-lg ".concat((e=>{switch(e){case"BULLISH":return"text-green-700 bg-green-100";case"BEARISH":return"text-red-700 bg-red-100";default:return"text-gray-700 bg-gray-100"}})(null===(n=ee.smart_money_verdict)||void 0===n?void 0:n.verdict)),children:null===(r=ee.smart_money_verdict)||void 0===r?void 0:r.verdict}),(0,Uw.jsxs)("div",{className:"text-sm text-gray-500 mt-1",children:[null===(a=ee.smart_money_verdict)||void 0===a?void 0:a.confidence,"% Confidence"]})]})]})}),(0,Uw.jsx)("div",{className:"bg-white p-1 rounded-lg shadow-sm",children:(0,Uw.jsx)("div",{className:"flex space-x-1",children:[{id:"overview",label:"Overview",icon:yw},{id:"order-blocks",label:"Order Blocks",icon:cw.A},{id:"fvg",label:"Fair Value Gaps",icon:fw.A},{id:"liquidity",label:"Liquidity Sweeps",icon:Pw.A},{id:"structure",label:"Market Structure",icon:pw},{id:"price-action",label:"Price Action",icon:Tw.A}].map((e=>{const t=e.icon;return(0,Uw.jsxs)("button",{onClick:()=>oe(e.id),className:"flex items-center space-x-2 px-3 py-2 rounded-md transition-colors text-sm ".concat(ae===e.id?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"),children:[(0,Uw.jsx)(t,{size:16}),(0,Uw.jsx)("span",{children:e.label})]},e.id)}))})}),"overview"===ae&&(0,Uw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,Uw.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,Uw.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[(0,Uw.jsx)(yw,{className:"mr-2",size:20}),"Premium/Discount"]}),(0,Uw.jsxs)("div",{className:"text-center",children:[(0,Uw.jsx)("div",{className:"text-2xl font-bold mb-2 ".concat("premium"===(null===(o=ee.premium_discount)||void 0===o?void 0:o.current_zone)?"text-red-600":"discount"===(null===(i=ee.premium_discount)||void 0===i?void 0:i.current_zone)?"text-green-600":"text-blue-600"),children:null===(l=ee.premium_discount)||void 0===l||null===(s=l.current_zone)||void 0===s?void 0:s.toUpperCase()}),(0,Uw.jsxs)("div",{className:"text-sm text-gray-600",children:[null===(c=ee.premium_discount)||void 0===c||null===(u=c.premium_percentage)||void 0===u?void 0:u.toFixed(1),"% of Range"]}),(0,Uw.jsxs)("div",{className:"mt-3 space-y-1 text-xs",children:[(0,Uw.jsxs)("div",{children:["High: $",null===(d=ee.premium_discount)||void 0===d||null===(f=d.range_high)||void 0===f?void 0:f.toFixed(2)]}),(0,Uw.jsxs)("div",{children:["Low: $",null===(p=ee.premium_discount)||void 0===p||null===(h=p.range_low)||void 0===h?void 0:h.toFixed(2)]}),(0,Uw.jsxs)("div",{children:["Equilibrium: $",null===(m=ee.premium_discount)||void 0===m||null===(y=m.equilibrium)||void 0===y?void 0:y.toFixed(2)]})]})]})]}),(0,Uw.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,Uw.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[(0,Uw.jsx)(pw,{className:"mr-2",size:20}),"Market Structure"]}),(0,Uw.jsxs)("div",{className:"text-center",children:[(0,Uw.jsx)("div",{className:"text-2xl font-bold mb-2 ".concat("bullish"===(null===(g=ee.market_structure)||void 0===g?void 0:g.current_trend)?"text-green-600":"bearish"===(null===(v=ee.market_structure)||void 0===v?void 0:v.current_trend)?"text-red-600":"text-gray-600"),children:null===(b=ee.market_structure)||void 0===b||null===(x=b.current_trend)||void 0===x?void 0:x.toUpperCase()}),(0,Uw.jsxs)("div",{className:"text-sm text-gray-600",children:[(null===(w=ee.market_structure)||void 0===w||null===(j=w.structure_points)||void 0===j?void 0:j.length)||0," Structure Points"]}),(0,Uw.jsxs)("div",{className:"mt-3 text-xs",children:["BOS Events: ",(null===(N=ee.market_structure)||void 0===N||null===(S=N.break_of_structure)||void 0===S?void 0:S.length)||0]})]})]}),(0,Uw.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,Uw.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[(0,Uw.jsx)(Pw.A,{className:"mr-2",size:20}),"Active Signals"]}),(0,Uw.jsx)("div",{className:"space-y-2",children:(null===(k=ee.trading_signals)||void 0===k?void 0:k.slice(0,3).map(((e,t)=>{var n,r;if(!e||"object"!==typeof e)return null;const a=e.type||"UNKNOWN";return(0,Uw.jsxs)("div",{className:"px-3 py-2 rounded text-sm ".concat(le(a)),children:[(0,Uw.jsx)("div",{className:"font-medium",children:a.toUpperCase()}),(0,Uw.jsx)("div",{className:"text-xs mt-1",children:e.reason||"No reason provided"}),(0,Uw.jsxs)("div",{className:"text-xs mt-1",children:["Entry: $",(null===(n=e.entry)||void 0===n?void 0:n.toFixed(2))||"N/A"," | Target: $",(null===(r=e.target)||void 0===r?void 0:r.toFixed(2))||"N/A"]})]},t)})).filter(Boolean))||(0,Uw.jsx)("div",{className:"text-gray-500 text-sm",children:"No active signals"})})]})]}),"order-blocks"===ae&&(0,Uw.jsxs)("div",{className:"space-y-4",children:[(0,Uw.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Order Blocks Analysis"}),(0,Uw.jsx)("p",{className:"text-blue-600 text-sm",children:"Order blocks represent areas where institutions placed significant orders. Untested blocks often act as strong support/resistance."})]}),(0,Uw.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(null===(O=ee.order_blocks)||void 0===O?void 0:O.length)>0?ee.order_blocks.map(((e,t)=>(0,Uw.jsx)(se,{orderBlock:e},t))):(0,Uw.jsx)("div",{className:"col-span-full text-center text-gray-500",children:"No order blocks detected in current timeframe"})})]}),"fvg"===ae&&(0,Uw.jsxs)("div",{className:"space-y-4",children:[(0,Uw.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Fair Value Gaps (FVG)"}),(0,Uw.jsx)("p",{className:"text-blue-600 text-sm",children:"Fair Value Gaps are price imbalances that often get filled. They represent areas where price moved too quickly."})]}),(0,Uw.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(null===(A=ee.fair_value_gaps)||void 0===A?void 0:A.length)>0?ee.fair_value_gaps.map(((e,t)=>(0,Uw.jsx)(ce,{fvg:e},t))):(0,Uw.jsx)("div",{className:"col-span-full text-center text-gray-500",children:"No unfilled fair value gaps detected"})})]}),"liquidity"===ae&&(0,Uw.jsxs)("div",{className:"space-y-4",children:[(0,Uw.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold text-purple-800 mb-2",children:"Liquidity Sweeps"}),(0,Uw.jsx)("p",{className:"text-purple-600 text-sm",children:"Liquidity sweeps occur when price briefly moves beyond key levels to grab retail liquidity before reversing."})]}),(0,Uw.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(null===(E=ee.liquidity_sweeps)||void 0===E?void 0:E.length)>0?ee.liquidity_sweeps.map(((e,t)=>(0,Uw.jsx)(ue,{sweep:e},t))):(0,Uw.jsx)("div",{className:"col-span-full text-center text-gray-500",children:"No recent liquidity sweeps detected"})})]}),"structure"===ae&&(0,Uw.jsxs)("div",{className:"space-y-4",children:[(0,Uw.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"Market Structure Analysis"}),(0,Uw.jsx)("p",{className:"text-green-600 text-sm",children:"Market structure shows the pattern of higher highs/lows (bullish) or lower highs/lows (bearish)."})]}),(0,Uw.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Uw.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,Uw.jsx)("h4",{className:"font-semibold mb-4",children:"Current Structure"}),(0,Uw.jsxs)("div",{className:"space-y-3",children:[(0,Uw.jsxs)("div",{className:"p-3 rounded text-center ".concat("bullish"===(null===(P=ee.market_structure)||void 0===P?void 0:P.current_trend)?"bg-green-100 text-green-700":"bearish"===(null===(_=ee.market_structure)||void 0===_?void 0:_.current_trend)?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"),children:[(0,Uw.jsx)("div",{className:"font-bold text-lg",children:null===(T=ee.market_structure)||void 0===T||null===(C=T.current_trend)||void 0===C?void 0:C.toUpperCase()}),(0,Uw.jsx)("div",{className:"text-sm",children:"Market Trend"})]}),(0,Uw.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,Uw.jsxs)("div",{className:"bg-gray-50 p-2 rounded text-center",children:[(0,Uw.jsx)("div",{className:"font-medium",children:(null===(M=ee.market_structure)||void 0===M||null===(D=M.structure_points)||void 0===D?void 0:D.length)||0}),(0,Uw.jsx)("div",{className:"text-gray-600",children:"Structure Points"})]}),(0,Uw.jsxs)("div",{className:"bg-gray-50 p-2 rounded text-center",children:[(0,Uw.jsx)("div",{className:"font-medium",children:(null===(L=ee.market_structure)||void 0===L||null===(R=L.break_of_structure)||void 0===R?void 0:R.length)||0}),(0,Uw.jsx)("div",{className:"text-gray-600",children:"BOS Events"})]})]})]})]}),(0,Uw.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,Uw.jsx)("h4",{className:"font-semibold mb-4",children:"Recent Break of Structure"}),(0,Uw.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:(null===(I=ee.market_structure)||void 0===I||null===(z=I.break_of_structure)||void 0===z?void 0:z.length)>0?ee.market_structure.break_of_structure.map(((e,t)=>{var n,r;return(0,Uw.jsxs)("div",{className:"p-2 rounded text-sm ".concat("bullish_bos"===e.type?"bg-green-50 text-green-700":"bg-red-50 text-red-700"),children:[(0,Uw.jsx)("div",{className:"font-medium",children:e.type.replace("_"," ").toUpperCase()}),(0,Uw.jsxs)("div",{className:"text-xs",children:["Price: $",null===(n=e.price)||void 0===n?void 0:n.toFixed(2)," | Level: $",null===(r=e.level_broken)||void 0===r?void 0:r.toFixed(2)]}),(0,Uw.jsx)("div",{className:"text-xs",children:new Date(e.time).toLocaleDateString()})]},t)})):(0,Uw.jsx)("div",{className:"text-gray-500 text-center",children:"No recent BOS events"})})]})]})]}),"price-action"===ae&&(0,Uw.jsxs)("div",{className:"space-y-6",children:[(0,Uw.jsxs)("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold text-indigo-800 mb-2",children:"Price Action Analysis"}),(0,Uw.jsx)("p",{className:"text-indigo-600 text-sm",children:"Comprehensive price action including support/resistance, candlestick patterns, and volume analysis."})]}),(0,Uw.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Uw.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,Uw.jsxs)("h4",{className:"font-semibold mb-4 flex items-center",children:[(0,Uw.jsx)(yw,{className:"mr-2",size:16}),"Key Levels"]}),(0,Uw.jsxs)("div",{className:"space-y-3",children:[(null===(F=ee.key_levels)||void 0===F||null===(B=F.support_resistance)||void 0===B?void 0:B.nearest_resistance)&&(0,Uw.jsxs)("div",{className:"flex justify-between items-center p-2 bg-red-50 rounded",children:[(0,Uw.jsx)("span",{className:"text-sm text-red-700",children:"Nearest Resistance"}),(0,Uw.jsxs)("span",{className:"font-medium text-red-800",children:["$",ee.key_levels.support_resistance.nearest_resistance.toFixed(2)]})]}),(null===(U=ee.key_levels)||void 0===U||null===(q=U.support_resistance)||void 0===q?void 0:q.nearest_support)&&(0,Uw.jsxs)("div",{className:"flex justify-between items-center p-2 bg-green-50 rounded",children:[(0,Uw.jsx)("span",{className:"text-sm text-green-700",children:"Nearest Support"}),(0,Uw.jsxs)("span",{className:"font-medium text-green-800",children:["$",ee.key_levels.support_resistance.nearest_support.toFixed(2)]})]})]})]}),(0,Uw.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,Uw.jsxs)("h4",{className:"font-semibold mb-4 flex items-center",children:[(0,Uw.jsx)(fw.A,{className:"mr-2",size:16}),"Recent Patterns"]}),(0,Uw.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:(null===(W=ee.patterns)||void 0===W||null===(H=W.candlestick_patterns)||void 0===H?void 0:H.slice(0,5).map(((e,t)=>(0,Uw.jsxs)("div",{className:"p-2 rounded text-sm ".concat(le(e.signal)),children:[(0,Uw.jsx)("div",{className:"font-medium",children:e.name}),(0,Uw.jsxs)("div",{className:"text-xs",children:[e.signal.toUpperCase()," | ",e.reliability," reliability"]}),(0,Uw.jsx)("div",{className:"text-xs",children:new Date(e.time).toLocaleDateString()})]},t))))||(0,Uw.jsx)("div",{className:"text-gray-500 text-center",children:"No recent patterns"})})]}),(0,Uw.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md lg:col-span-2",children:[(0,Uw.jsxs)("h4",{className:"font-semibold mb-4 flex items-center",children:[(0,Uw.jsx)(pw,{className:"mr-2",size:16}),"Volume Analysis"]}),(0,Uw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Uw.jsxs)("div",{className:"bg-gray-50 p-3 rounded text-center",children:[(0,Uw.jsxs)("div",{className:"font-bold text-lg",children:[null===(V=ee.volume_analysis)||void 0===V||null===($=V.current_volume_ratio)||void 0===$?void 0:$.toFixed(2),"x"]}),(0,Uw.jsx)("div",{className:"text-sm text-gray-600",children:"Current Volume Ratio"})]}),(0,Uw.jsxs)("div",{className:"bg-gray-50 p-3 rounded text-center",children:[(0,Uw.jsxs)("div",{className:"font-bold text-lg",children:["$",null===(G=ee.volume_analysis)||void 0===G||null===(K=G.point_of_control)||void 0===K||null===(X=K.price)||void 0===X?void 0:X.toFixed(2)]}),(0,Uw.jsx)("div",{className:"text-sm text-gray-600",children:"Point of Control"})]}),(0,Uw.jsxs)("div",{className:"bg-gray-50 p-3 rounded text-center",children:[(0,Uw.jsx)("div",{className:"font-bold text-lg",children:(null===(Y=ee.volume_analysis)||void 0===Y||null===(Q=Y.high_volume_bars)||void 0===Q?void 0:Q.length)||0}),(0,Uw.jsx)("div",{className:"text-sm text-gray-600",children:"High Volume Bars"})]})]})]})]})]})]}),!ee&&!ne&&(0,Uw.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[(0,Uw.jsx)(pw,{className:"mx-auto mb-4 text-gray-400",size:48}),(0,Uw.jsx)("p",{className:"text-gray-600",children:'Enter a stock symbol and click "Analyze Smart Money" to view comprehensive Smart Money Concepts and Price Action analysis.'})]})]})},oj=()=>{const[e,n]=(0,t.useState)([]),[r,o]=(0,t.useState)(!1),[i,l]=(0,t.useState)({symbol:"",target_price:"",notes:""});(0,t.useEffect)((()=>{s()}),[]);const s=async()=>{try{const e=await pt.A.get("".concat(Xw,"/watchlist"));n(e.data)}catch(e){console.error("Error fetching watchlist:",e)}};return(0,Uw.jsxs)("div",{className:"space-y-6",children:[(0,Uw.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Uw.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Watchlist"}),(0,Uw.jsxs)("button",{onClick:()=>o(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[(0,Uw.jsx)(Dw,{size:20}),(0,Uw.jsx)("span",{children:"Add Stock"})]})]}),(0,Uw.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,Uw.jsx)("div",{className:"overflow-x-auto",children:(0,Uw.jsxs)("table",{className:"w-full",children:[(0,Uw.jsx)("thead",{className:"bg-gray-50",children:(0,Uw.jsxs)("tr",{children:[(0,Uw.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Symbol"}),(0,Uw.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Target Price"}),(0,Uw.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Notes"}),(0,Uw.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Added"}),(0,Uw.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,Uw.jsx)("tbody",{className:"divide-y divide-gray-200",children:e.map((e=>(0,Uw.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Uw.jsx)("td",{className:"px-6 py-4 font-medium text-gray-900",children:e.symbol}),(0,Uw.jsx)("td",{className:"px-6 py-4 text-gray-600",children:e.target_price?"$".concat(e.target_price.toFixed(2)):"N/A"}),(0,Uw.jsx)("td",{className:"px-6 py-4 text-gray-600",children:e.notes||"N/A"}),(0,Uw.jsx)("td",{className:"px-6 py-4 text-gray-600",children:new Date(e.added_date).toLocaleDateString()}),(0,Uw.jsx)("td",{className:"px-6 py-4",children:(0,Uw.jsx)("button",{onClick:()=>(async e=>{try{await pt.A.delete("".concat(Xw,"/watchlist/").concat(e)),s()}catch(t){console.error("Error deleting watchlist item:",t)}})(e.id),className:"text-red-600 hover:text-red-900",children:(0,Uw.jsx)(Lw,{size:16})})})]},e.id)))})]})})}),r&&(0,Uw.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Uw.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Add to Watchlist"}),(0,Uw.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await pt.A.post("".concat(Xw,"/watchlist"),(0,a.A)((0,a.A)({},i),{},{target_price:i.target_price?parseFloat(i.target_price):null})),l({symbol:"",target_price:"",notes:""}),o(!1),s()}catch(t){console.error("Error adding watchlist item:",t)}},className:"space-y-4",children:[(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Symbol"}),(0,Uw.jsx)("input",{type:"text",value:i.symbol,onChange:e=>l((0,a.A)((0,a.A)({},i),{},{symbol:e.target.value.toUpperCase()})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"AAPL",required:!0})]}),(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Target Price (optional)"}),(0,Uw.jsx)("input",{type:"number",step:"0.01",value:i.target_price,onChange:e=>l((0,a.A)((0,a.A)({},i),{},{target_price:e.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Notes (optional)"}),(0,Uw.jsx)("textarea",{value:i.notes,onChange:e=>l((0,a.A)((0,a.A)({},i),{},{notes:e.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:3})]}),(0,Uw.jsxs)("div",{className:"flex space-x-4",children:[(0,Uw.jsx)("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700",children:"Add to Watchlist"}),(0,Uw.jsx)("button",{type:"button",onClick:()=>o(!1),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400",children:"Cancel"})]})]})]})})]})},ij=()=>{const[e,n]=(0,t.useState)([]),[r,o]=(0,t.useState)(null),[i,l]=(0,t.useState)(!0),[s,c]=(0,t.useState)(null),[u,d]=(0,t.useState)({minimum_premium:2e5,minimum_volume_oi_ratio:1,limit:50}),{isDarkMode:f}=Gw(),[p,h]=(0,t.useState)(!0),[m,y]=(0,t.useState)(null),[g,v]=(0,t.useState)(1),[b,x]=(0,t.useState)(!1),w=async function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?l(!0):x(!0),c(null);try{const e=await pt.A.get("".concat(Xw,"/unusual-whales/options/flow-alerts"),{params:(0,a.A)((0,a.A)({},u),{},{include_analysis:!0})});"success"===e.data.status&&(n(e.data.data.alerts||[]),o(e.data.analysis||null),y(new Date),v(1))}catch(e){console.error("Error fetching options flow:",e),c(e.message)}finally{l(!1),x(!1)}};(0,t.useEffect)((()=>{if(p&&!i){const e=setInterval((()=>{v((e=>e<=1?(w(!1),1):e-1))}),1e3);return()=>clearInterval(e)}}),[p,i,u]),(0,t.useEffect)((()=>{w()}),[]);const j=()=>{w()};return i?(0,Uw.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Uw.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):(0,Uw.jsxs)("div",{className:"space-y-6 ".concat(f?"text-white":"text-gray-800"),children:[(0,Uw.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Uw.jsxs)("div",{className:"flex flex-col",children:[(0,Uw.jsx)("h2",{className:"text-2xl md:text-3xl font-bold",children:"\u26a1 Real-Time Options Flow"}),(0,Uw.jsxs)("div",{className:"flex items-center space-x-4 mt-1",children:[(0,Uw.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"\ud83d\udd34 LIVE \u2022 1s updates"}),(0,Uw.jsx)("span",{className:"text-sm text-gray-500",children:"Unusual Whales API \xeen timp real"}),m&&(0,Uw.jsxs)("span",{className:"text-xs text-gray-400 flex items-center space-x-1",children:[(0,Uw.jsx)("span",{children:"\u2022"}),(0,Uw.jsxs)("span",{children:["Ultima actualizare: ",(e=>e?e.toLocaleTimeString("ro-RO",{hour:"2-digit",minute:"2-digit",second:"2-digit"}):"Niciodat\u0103")(m)]})]}),p&&(0,Uw.jsxs)("span",{className:"text-xs text-green-600 flex items-center space-x-1",children:[(0,Uw.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,Uw.jsx)("span",{children:"Flow live activ"})]})]})]}),(0,Uw.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Uw.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Uw.jsxs)("button",{onClick:()=>{h(!p),p||v(1)},className:"flex items-center space-x-2 px-3 py-2 rounded-lg transition-colors ".concat(p?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[(0,Uw.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(p?"bg-green-500 animate-pulse":"bg-gray-400")}),(0,Uw.jsx)("span",{className:"text-sm font-medium",children:p?"Auto ON":"Auto OFF"})]}),p&&(0,Uw.jsxs)("span",{className:"text-sm text-green-600 font-medium",children:["Actualizare \xeen ",g,"s"]})]}),(0,Uw.jsxs)("button",{onClick:j,disabled:i||b,className:"flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ".concat(i||b?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"),children:[(0,Uw.jsx)(Ew.A,{className:"w-4 h-4 ".concat(i||b?"animate-spin":"")}),(0,Uw.jsx)("span",{children:i?"Loading...":b?"Refreshing...":"Refresh"})]})]})]}),(0,Uw.jsxs)("div",{className:"".concat(f?"bg-slate-800":"bg-white"," p-4 rounded-lg shadow-md"),children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Filters"}),(0,Uw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Min Premium ($)"}),(0,Uw.jsx)("input",{type:"number",value:u.minimum_premium,onChange:e=>d((0,a.A)((0,a.A)({},u),{},{minimum_premium:parseInt(e.target.value)})),className:"w-full px-3 py-2 border rounded-md ".concat(f?"bg-slate-700 border-slate-600":"bg-white border-gray-300")})]}),(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Min Volume/OI Ratio"}),(0,Uw.jsx)("input",{type:"number",step:"0.1",value:u.minimum_volume_oi_ratio,onChange:e=>d((0,a.A)((0,a.A)({},u),{},{minimum_volume_oi_ratio:parseFloat(e.target.value)})),className:"w-full px-3 py-2 border rounded-md ".concat(f?"bg-slate-700 border-slate-600":"bg-white border-gray-300")})]}),(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Limit"}),(0,Uw.jsxs)("select",{value:u.limit,onChange:e=>d((0,a.A)((0,a.A)({},u),{},{limit:parseInt(e.target.value)})),className:"w-full px-3 py-2 border rounded-md ".concat(f?"bg-slate-700 border-slate-600":"bg-white border-gray-300"),children:[(0,Uw.jsx)("option",{value:25,children:"25"}),(0,Uw.jsx)("option",{value:50,children:"50"}),(0,Uw.jsx)("option",{value:100,children:"100"})]})]})]}),(0,Uw.jsx)("button",{onClick:()=>{w()},className:"mt-4 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Apply Filters"})]}),s&&(0,Uw.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,Uw.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Uw.jsx)("div",{className:"w-4 h-4 bg-red-500 rounded-full"}),(0,Uw.jsx)("span",{className:"text-red-700 font-medium",children:"Error loading options flow data"})]}),(0,Uw.jsx)("p",{className:"text-red-600 text-sm mt-1",children:s}),(0,Uw.jsx)("button",{onClick:j,className:"mt-2 text-red-600 hover:text-red-800 text-sm underline",children:"Try again"})]}),r&&r.summary&&(0,Uw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Uw.jsxs)("div",{className:"".concat(f?"bg-slate-800":"bg-white"," p-4 rounded-lg shadow-md"),children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold",children:"Total Alerts"}),(0,Uw.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:r.summary.total_alerts})]}),(0,Uw.jsxs)("div",{className:"".concat(f?"bg-slate-800":"bg-white"," p-4 rounded-lg shadow-md"),children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold",children:"Total Premium"}),(0,Uw.jsx)("p",{className:"text-2xl font-bold text-green-600",children:r.summary.total_premium>0?"$".concat((r.summary.total_premium/1e6).toFixed(1),"M"):"N/A"})]}),(0,Uw.jsxs)("div",{className:"".concat(f?"bg-slate-800":"bg-white"," p-4 rounded-lg shadow-md"),children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold",children:"Bullish/Bearish"}),(0,Uw.jsxs)("p",{className:"text-xl font-bold",children:[(0,Uw.jsx)("span",{className:"text-green-600",children:r.summary.bullish_count}),"/",(0,Uw.jsx)("span",{className:"text-red-600",children:r.summary.bearish_count})]})]}),(0,Uw.jsxs)("div",{className:"".concat(f?"bg-slate-800":"bg-white"," p-4 rounded-lg shadow-md"),children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold",children:"Opening Trades"}),(0,Uw.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:r.summary.opening_trades})]})]}),(0,Uw.jsxs)("div",{className:"".concat(f?"bg-slate-800":"bg-white"," rounded-lg shadow-md overflow-hidden"),children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold p-4 border-b border-gray-200",children:"Recent Flow Alerts"}),(0,Uw.jsx)("div",{className:"overflow-x-auto",children:(0,Uw.jsxs)("table",{className:"w-full",children:[(0,Uw.jsx)("thead",{className:"".concat(f?"bg-slate-700":"bg-gray-50"),children:(0,Uw.jsxs)("tr",{children:[(0,Uw.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),(0,Uw.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Symbol"}),(0,Uw.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Strategy"}),(0,Uw.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expiration"}),(0,Uw.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Premium"}),(0,Uw.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"})]})}),(0,Uw.jsx)("tbody",{children:e.slice(0,20).map(((e,t)=>{const n=new Date(e.timestamp||Date.now()).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0}),r="".concat(e.action," ").concat(e.volume," ").concat("call"===e.option_type?"Call":"Put").concat(e.is_opener?" To Open":" To Close"),a=new Date(e.expiration).toLocaleDateString("en-US",{month:"short",day:"numeric"});return(0,Uw.jsxs)("tr",{className:"border-b ".concat(f?"border-slate-600":"border-gray-100"," hover:").concat(f?"bg-slate-700":"bg-gray-50"),children:[(0,Uw.jsx)("td",{className:"px-4 py-3 text-sm text-gray-500",children:n}),(0,Uw.jsx)("td",{className:"px-4 py-3 font-semibold text-blue-600",children:e.symbol}),(0,Uw.jsx)("td",{className:"px-4 py-3",children:(0,Uw.jsx)("span",{className:"".concat("BUY"===e.action?"text-green-600":"text-red-600"," font-medium"),children:r})}),(0,Uw.jsx)("td",{className:"px-4 py-3",children:a}),(0,Uw.jsx)("td",{className:"px-4 py-3 font-bold",children:e.premium&&e.premium>0?"$".concat((e.premium/1e3).toFixed(0),"k"):(0,Uw.jsx)("span",{className:"text-gray-400",children:"N/A"})}),(0,Uw.jsx)("td",{className:"px-4 py-3",children:(0,Uw.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat(e.has_sweep?"bg-red-100 text-red-800":"whale"===e.trade_size?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"),children:e.has_sweep?"SWEEP":"whale"===e.trade_size?"BLOCK":"SPLIT"})})]},t)}))})]})})]}),r&&r.signals&&r.signals.length>0&&(0,Uw.jsxs)("div",{className:"".concat(f?"bg-slate-800":"bg-white"," p-6 rounded-lg shadow-md"),children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Trading Signals"}),(0,Uw.jsx)("div",{className:"space-y-3",children:r.signals.map(((e,t)=>(0,Uw.jsxs)("div",{className:"p-3 rounded-lg ".concat(f?"bg-slate-700":"bg-blue-50"," border-l-4 border-blue-500"),children:[(0,Uw.jsx)("h4",{className:"font-semibold",children:e.type}),(0,Uw.jsx)("p",{className:"text-sm",children:e.description}),(0,Uw.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Confidence: ",(100*e.confidence).toFixed(0),"%"]})]},t)))})]}),(0,Uw.jsx)("div",{className:"".concat(f?"bg-slate-800 border-slate-600":"bg-blue-50 border-blue-200"," border rounded-lg p-4"),children:(0,Uw.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Uw.jsx)("div",{className:"".concat(f?"text-blue-400":"text-blue-500"),children:"\u2139\ufe0f"}),(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("h4",{className:"font-semibold ".concat(f?"text-blue-300":"text-blue-800"),children:"Despre datele Options Flow"}),(0,Uw.jsxs)("p",{className:"text-sm mt-1 ".concat(f?"text-slate-300":"text-blue-700"),children:[(0,Uw.jsx)("strong",{children:"\u2705 REZOLVAT:"})," Endpoint-ul corect pentru Options Flow este `/api/option-trades/flow-alerts`. Datele afi\u0219ate sunt 100% reale de la Unusual Whales API cu planul dvs. Basic ($150/lun\u0103). Includ premii reale, DTE, tipuri de tranzac\u021bii (BUY/SELL), \u0219i detalii complete despre alert rules \u0219i sectors."]})]})]})})]})},lj=()=>{const[e,n]=(0,t.useState)([]),[r,o]=(0,t.useState)(null),[i,l]=(0,t.useState)(!0),[s,c]=(0,t.useState)({minimum_volume:1e5,minimum_dark_percentage:.01,limit:50}),{isDarkMode:u}=Gw();(0,t.useEffect)((()=>{d()}),[]);const d=async()=>{l(!0);try{const e=await pt.A.get("".concat(Xw,"/unusual-whales/dark-pool/recent"),{params:(0,a.A)((0,a.A)({},s),{},{include_analysis:!0})});"success"===e.data.status&&(n(e.data.data.trades||[]),o(e.data.analysis||null))}catch(e){console.error("Error fetching dark pool data:",e)}finally{l(!1)}},f=e=>{switch(e){case"very_high":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return i?(0,Uw.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Uw.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):(0,Uw.jsxs)("div",{className:"space-y-6 ".concat(u?"text-white":"text-gray-800"),children:[(0,Uw.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Uw.jsx)("h2",{className:"text-2xl md:text-3xl font-bold",children:"\ud83c\udf0a Dark Pool Analysis"}),(0,Uw.jsxs)("button",{onClick:d,className:"flex items-center space-x-2 bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors",children:[(0,Uw.jsx)(Ew.A,{className:"w-4 h-4"}),(0,Uw.jsx)("span",{children:"Refresh"})]})]}),r&&r.summary&&(0,Uw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Uw.jsxs)("div",{className:"".concat(u?"bg-slate-800":"bg-white"," p-4 rounded-lg shadow-md"),children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold",children:"Total Trades"}),(0,Uw.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:r.summary.total_trades})]}),(0,Uw.jsxs)("div",{className:"".concat(u?"bg-slate-800":"bg-white"," p-4 rounded-lg shadow-md"),children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold",children:"Dark Volume"}),(0,Uw.jsxs)("p",{className:"text-2xl font-bold text-gray-600",children:[(r.summary.total_dark_volume/1e6).toFixed(1),"M"]})]}),(0,Uw.jsxs)("div",{className:"".concat(u?"bg-slate-800":"bg-white"," p-4 rounded-lg shadow-md"),children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold",children:"Avg Dark %"}),(0,Uw.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:[r.summary.avg_dark_percentage,"%"]})]}),(0,Uw.jsxs)("div",{className:"".concat(u?"bg-slate-800":"bg-white"," p-4 rounded-lg shadow-md"),children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold",children:"Institutional"}),(0,Uw.jsx)("p",{className:"text-2xl font-bold text-green-600",children:r.summary.institutional_signals})]})]}),(0,Uw.jsxs)("div",{className:"".concat(u?"bg-slate-800":"bg-white"," rounded-lg shadow-md overflow-hidden"),children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold p-4 border-b border-gray-200",children:"Recent Dark Pool Activity"}),(0,Uw.jsx)("div",{className:"overflow-x-auto",children:(0,Uw.jsxs)("table",{className:"w-full",children:[(0,Uw.jsx)("thead",{className:"".concat(u?"bg-slate-700":"bg-gray-50"),children:(0,Uw.jsxs)("tr",{children:[(0,Uw.jsx)("th",{className:"px-4 py-3 text-left",children:"Ticker"}),(0,Uw.jsx)("th",{className:"px-4 py-3 text-left",children:"Price"}),(0,Uw.jsx)("th",{className:"px-4 py-3 text-left",children:"Dark Volume"}),(0,Uw.jsx)("th",{className:"px-4 py-3 text-left",children:"Dark %"}),(0,Uw.jsx)("th",{className:"px-4 py-3 text-left",children:"Dollar Volume"}),(0,Uw.jsx)("th",{className:"px-4 py-3 text-left",children:"Significance"}),(0,Uw.jsx)("th",{className:"px-4 py-3 text-left",children:"Institutional"})]})}),(0,Uw.jsx)("tbody",{children:e.slice(0,20).map(((e,t)=>{var n,r;return(0,Uw.jsxs)("tr",{className:"border-b ".concat(u?"border-slate-600":"border-gray-100"," hover:").concat(u?"bg-slate-700":"bg-gray-50"),children:[(0,Uw.jsx)("td",{className:"px-4 py-3 font-semibold",children:e.ticker}),(0,Uw.jsxs)("td",{className:"px-4 py-3",children:["$",null===(n=e.price)||void 0===n?void 0:n.toFixed(2)]}),(0,Uw.jsx)("td",{className:"px-4 py-3",children:null===(r=e.dark_volume)||void 0===r?void 0:r.toLocaleString()}),(0,Uw.jsxs)("td",{className:"px-4 py-3 font-medium",children:[e.dark_percentage,"%"]}),(0,Uw.jsxs)("td",{className:"px-4 py-3",children:["$",(e.dollar_volume/1e6).toFixed(1),"M"]}),(0,Uw.jsx)("td",{className:"px-4 py-3",children:(0,Uw.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(f(e.significance)),children:e.significance})}),(0,Uw.jsx)("td",{className:"px-4 py-3",children:e.institutional_signal?(0,Uw.jsx)("span",{className:"text-green-600",children:"\u2713"}):(0,Uw.jsx)("span",{className:"text-gray-400",children:"-"})})]},t)}))})]})})]})]})},sj=()=>{const[e,n]=(0,t.useState)([]),[r,o]=(0,t.useState)(null),[i,l]=(0,t.useState)(!0),[s,c]=(0,t.useState)({days_back:30,minimum_amount:15e3,party_filter:"",transaction_type:""}),{isDarkMode:u}=Gw();(0,t.useEffect)((()=>{d()}),[]);const d=async()=>{l(!0);try{const e=await pt.A.get("".concat(Xw,"/unusual-whales/congressional/trades"),{params:(0,a.A)((0,a.A)({},s),{},{include_analysis:!0})});"success"===e.data.status&&(n(e.data.data.trades||[]),o(e.data.analysis||null))}catch(e){console.error("Error fetching congressional data:",e)}finally{l(!1)}},f=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"democrat":return"bg-blue-100 text-blue-800";case"republican":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return i?(0,Uw.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Uw.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):(0,Uw.jsxs)("div",{className:"space-y-6 ".concat(u?"text-white":"text-gray-800"),children:[(0,Uw.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Uw.jsx)("h2",{className:"text-2xl md:text-3xl font-bold",children:"\ud83c\udfdb\ufe0f Congressional Trades"}),(0,Uw.jsxs)("button",{onClick:d,className:"flex items-center space-x-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors",children:[(0,Uw.jsx)(Ew.A,{className:"w-4 h-4"}),(0,Uw.jsx)("span",{children:"Refresh"})]})]}),r&&r.summary&&(0,Uw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Uw.jsxs)("div",{className:"".concat(u?"bg-slate-800":"bg-white"," p-4 rounded-lg shadow-md"),children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold",children:"Total Trades"}),(0,Uw.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:r.summary.total_trades})]}),(0,Uw.jsxs)("div",{className:"".concat(u?"bg-slate-800":"bg-white"," p-4 rounded-lg shadow-md"),children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold",children:"Total Amount"}),(0,Uw.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["$",(r.summary.total_amount/1e6).toFixed(1),"M"]})]}),(0,Uw.jsxs)("div",{className:"".concat(u?"bg-slate-800":"bg-white"," p-4 rounded-lg shadow-md"),children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold",children:"Representatives"}),(0,Uw.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:r.summary.unique_representatives})]}),(0,Uw.jsxs)("div",{className:"".concat(u?"bg-slate-800":"bg-white"," p-4 rounded-lg shadow-md"),children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold",children:"Recent (7d)"}),(0,Uw.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:r.summary.recent_trades})]})]}),(0,Uw.jsxs)("div",{className:"".concat(u?"bg-slate-800":"bg-white"," rounded-lg shadow-md overflow-hidden"),children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold p-4 border-b border-gray-200",children:"Recent Congressional Activity"}),(0,Uw.jsx)("div",{className:"overflow-x-auto",children:(0,Uw.jsxs)("table",{className:"w-full",children:[(0,Uw.jsx)("thead",{className:"".concat(u?"bg-slate-700":"bg-gray-50"),children:(0,Uw.jsxs)("tr",{children:[(0,Uw.jsx)("th",{className:"px-4 py-3 text-left",children:"Representative"}),(0,Uw.jsx)("th",{className:"px-4 py-3 text-left",children:"Party"}),(0,Uw.jsx)("th",{className:"px-4 py-3 text-left",children:"Ticker"}),(0,Uw.jsx)("th",{className:"px-4 py-3 text-left",children:"Type"}),(0,Uw.jsx)("th",{className:"px-4 py-3 text-left",children:"Amount"}),(0,Uw.jsx)("th",{className:"px-4 py-3 text-left",children:"Date"}),(0,Uw.jsx)("th",{className:"px-4 py-3 text-left",children:"Sector"})]})}),(0,Uw.jsx)("tbody",{children:e.slice(0,20).map(((e,t)=>{var n,r;return(0,Uw.jsxs)("tr",{className:"border-b ".concat(u?"border-slate-600":"border-gray-100"," hover:").concat(u?"bg-slate-700":"bg-gray-50"),children:[(0,Uw.jsx)("td",{className:"px-4 py-3 font-medium",children:e.representative}),(0,Uw.jsx)("td",{className:"px-4 py-3",children:(0,Uw.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(f(e.party)),children:e.party})}),(0,Uw.jsx)("td",{className:"px-4 py-3 font-semibold",children:e.ticker}),(0,Uw.jsx)("td",{className:"px-4 py-3 font-medium ".concat((r=e.transaction_type,"Purchase"===r?"text-green-600":"text-red-600")),children:e.transaction_type}),(0,Uw.jsxs)("td",{className:"px-4 py-3",children:["$",null===(n=e.transaction_amount)||void 0===n?void 0:n.toLocaleString()]}),(0,Uw.jsx)("td",{className:"px-4 py-3 text-sm",children:e.transaction_date}),(0,Uw.jsx)("td",{className:"px-4 py-3 text-sm",children:e.sector})]},t)}))})]})})]})]})},cj=()=>{const[e,n]=(0,t.useState)([]),[r,a]=(0,t.useState)(!0),[o,i]=(0,t.useState)(!1),[l,s]=(0,t.useState)(null),[c,u]=(0,t.useState)({enabled:!1,budget:1e4,maxDailyLoss:500,maxPositionSize:1e3,riskPerTrade:2,strategies:["long_call","long_put","bull_call_spread"]}),[d,f]=(0,t.useState)([]),[p,h]=(0,t.useState)([]),[m,y]=(0,t.useState)({totalValue:1e4,totalPnL:0,todayPnL:0,winRate:0,totalTrades:0,activePositions:0}),{isDarkMode:g}=Gw();(0,t.useEffect)((()=>{if(!window.Plotly){const e=document.createElement("script");e.src="https://cdn.plot.ly/plotly-latest.min.js",e.async=!0,document.head.appendChild(e),e.onload=()=>{console.log("Plotly loaded successfully")}}}),[]),(0,t.useEffect)((()=>{v()}),[]);const v=async()=>{a(!0);try{const e=await pt.A.get("".concat(Xw,"/unusual-whales/trading-strategies"));"success"===e.data.status&&(n(e.data.trading_strategies||[]),setTimeout((()=>{b(e.data.trading_strategies||[])}),500))}catch(e){console.error("Error fetching trading strategies:",e)}finally{a(!1)}},b=e=>{e.forEach(((e,t)=>{if(e.chart&&e.chart.plotly_chart&&window.Plotly)try{const n=JSON.parse(e.chart.plotly_chart),r=document.getElementById("strategy-chart-".concat(t));if(r&&n){const e={displayModeBar:!1,responsive:!0,displaylogo:!1};n.layout&&(n.layout.paper_bgcolor=g?"#1e293b":"#ffffff",n.layout.plot_bgcolor=g?"#1e293b":"#ffffff",n.layout.font={color:g?"#ffffff":"#000000"}),window.Plotly.newPlot(r,n.data,n.layout,e)}}catch(n){console.error("Error rendering chart:",n)}}))},x=e=>{switch(e){case"vertical_spread":return"bg-purple-100 text-purple-800";case"directional":return"bg-blue-100 text-blue-800";case"volatility":return"bg-pink-100 text-pink-800";case"income":return"bg-green-100 text-green-800";case"policy_play":return"bg-red-100 text-red-800";case"income_generation":return"bg-teal-100 text-teal-800";default:return"bg-gray-100 text-gray-800"}},w=e=>{switch(e){case"vertical_spread":return"\ud83d\udcca";case"directional":return"\ud83d\udcc8";case"volatility":return"\u26a1";case"iron_condor":return"\ud83e\udd85";case"income":return"\ud83d\udcb0";default:return"\ud83d\udcc9"}};return r?(0,Uw.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Uw.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):(0,Uw.jsxs)("div",{className:"space-y-6 ".concat(g?"text-white":"text-gray-800"),children:[(0,Uw.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Uw.jsx)("h2",{className:"text-2xl md:text-3xl font-bold",children:"\ud83c\udfaf AI Trading Strategies"}),(0,Uw.jsxs)("button",{onClick:v,className:"flex items-center space-x-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors",children:[(0,Uw.jsx)(Ew.A,{className:"w-4 h-4"}),(0,Uw.jsx)("span",{children:"Refresh"})]})]}),(0,Uw.jsxs)("div",{className:"".concat(g?"bg-slate-800":"bg-white"," p-4 rounded-lg shadow-md"),children:[(0,Uw.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,Uw.jsx)(yw,{className:"w-5 h-5 text-green-500"}),(0,Uw.jsx)("h3",{className:"text-lg font-semibold",children:"TradeStation Ready Strategies with Interactive Charts"})]}),(0,Uw.jsx)("p",{className:"text-sm ".concat(g?"text-gray-300":"text-gray-600"),children:"These strategies include visual P&L diagrams and are designed for direct execution on TradeStation."})]}),(0,Uw.jsx)("div",{className:"space-y-6",children:e.map(((e,t)=>{var n,r;return(0,Uw.jsxs)("div",{className:"".concat(g?"bg-slate-800":"bg-white"," p-6 rounded-lg shadow-md border-l-4 ").concat(e.confidence>=.7?"border-green-500":e.confidence>=.5?"border-yellow-500":"border-red-500"),children:[(0,Uw.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Uw.jsxs)("div",{children:[(0,Uw.jsxs)("h3",{className:"text-xl font-bold flex items-center space-x-2",children:[(0,Uw.jsx)("span",{children:w(null===(n=e.chart)||void 0===n?void 0:n.chart_type)}),(0,Uw.jsx)("span",{children:e.strategy_name})]}),(0,Uw.jsx)("p",{className:"text-lg font-semibold text-blue-600",children:e.ticker})]}),(0,Uw.jsxs)("div",{className:"text-right",children:[(0,Uw.jsxs)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat((r=e.confidence,r>=.7?"bg-green-100 text-green-800":r>=.5?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800")),children:[(100*e.confidence).toFixed(0),"% Confidence"]}),(0,Uw.jsx)("br",{}),(0,Uw.jsx)("span",{className:"mt-2 inline-block px-3 py-1 rounded-full text-sm font-medium ".concat(x(e.strategy_type)),children:e.strategy_type})]})]}),e.chart&&e.chart.plotly_chart&&(0,Uw.jsxs)("div",{className:"mb-6 ".concat(g?"bg-slate-700":"bg-gray-50"," p-4 rounded-lg"),children:[(0,Uw.jsxs)("h4",{className:"font-semibold mb-3 flex items-center space-x-2",children:[(0,Uw.jsx)(fw.A,{className:"w-4 h-4"}),(0,Uw.jsx)("span",{children:"Profit/Loss Diagram"})]}),(0,Uw.jsx)("div",{id:"strategy-chart-".concat(t),className:"w-full",style:{height:"400px"}}),(0,Uw.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4",children:[e.chart.max_profit&&(0,Uw.jsxs)("div",{className:"".concat(g?"bg-slate-600":"bg-green-50"," p-2 rounded text-center"),children:[(0,Uw.jsx)("p",{className:"text-xs text-green-600 font-medium",children:"Max Profit"}),(0,Uw.jsxs)("p",{className:"text-sm font-bold",children:["$",e.chart.max_profit.toFixed(0)]})]}),e.chart.max_loss&&(0,Uw.jsxs)("div",{className:"".concat(g?"bg-slate-600":"bg-red-50"," p-2 rounded text-center"),children:[(0,Uw.jsx)("p",{className:"text-xs text-red-600 font-medium",children:"Max Loss"}),(0,Uw.jsxs)("p",{className:"text-sm font-bold",children:["$",e.chart.max_loss.toFixed(0)]})]}),e.chart.breakeven&&(0,Uw.jsxs)("div",{className:"".concat(g?"bg-slate-600":"bg-yellow-50"," p-2 rounded text-center"),children:[(0,Uw.jsx)("p",{className:"text-xs text-yellow-600 font-medium",children:"Breakeven"}),(0,Uw.jsxs)("p",{className:"text-sm font-bold",children:["$",e.chart.breakeven.toFixed(2)]})]}),e.chart.breakeven_points&&e.chart.breakeven_points.length>1&&(0,Uw.jsxs)("div",{className:"".concat(g?"bg-slate-600":"bg-yellow-50"," p-2 rounded text-center"),children:[(0,Uw.jsx)("p",{className:"text-xs text-yellow-600 font-medium",children:"Breakevens"}),(0,Uw.jsx)("p",{className:"text-sm font-bold",children:e.chart.breakeven_points.length})]})]})]}),(0,Uw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("h4",{className:"font-semibold mb-2",children:"Entry Logic"}),(0,Uw.jsxs)("div",{className:"".concat(g?"bg-slate-700":"bg-gray-50"," p-3 rounded text-sm"),children:[(0,Uw.jsx)("p",{children:e.entry_logic.condition}),e.entry_logic.premium_threshold&&(0,Uw.jsxs)("p",{className:"mt-1",children:["Premium: $",(e.entry_logic.premium_threshold/1e3).toFixed(0),"K"]}),e.entry_logic.sentiment&&(0,Uw.jsxs)("p",{className:"mt-1",children:["Sentiment: ",(0,Uw.jsx)("span",{className:"capitalize",children:e.entry_logic.sentiment})]}),e.entry_logic.underlying_price&&(0,Uw.jsxs)("p",{className:"mt-1",children:["Underlying: $",e.entry_logic.underlying_price.toFixed(2)]})]})]}),(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("h4",{className:"font-semibold mb-2",children:"TradeStation Execution"}),(0,Uw.jsxs)("div",{className:"".concat(g?"bg-slate-700":"bg-gray-50"," p-3 rounded text-sm"),children:[(0,Uw.jsxs)("p",{children:[(0,Uw.jsx)("strong",{children:"Strategy:"})," ",e.tradestation_execution.strategy_type||e.tradestation_execution.instrument_type]}),e.tradestation_execution.legs&&e.tradestation_execution.legs.length>0&&(0,Uw.jsxs)("div",{className:"mt-2",children:[(0,Uw.jsx)("strong",{children:"Legs:"}),e.tradestation_execution.legs.map(((e,t)=>(0,Uw.jsxs)("div",{className:"ml-2 text-xs",children:[e.action," ",e.option_type," @ $",e.strike," (",e.quantity,"x)"]},t)))]}),(0,Uw.jsxs)("p",{children:[(0,Uw.jsx)("strong",{children:"Max Risk:"})," ",e.tradestation_execution.max_risk]}),(0,Uw.jsxs)("p",{children:[(0,Uw.jsx)("strong",{children:"Max Profit:"})," ",e.tradestation_execution.max_profit]})]})]}),(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("h4",{className:"font-semibold mb-2",children:"Risk Management"}),(0,Uw.jsxs)("div",{className:"".concat(g?"bg-slate-700":"bg-gray-50"," p-3 rounded text-sm"),children:[(0,Uw.jsxs)("p",{children:[(0,Uw.jsx)("strong",{children:"Max Position:"})," ",e.risk_management.max_position_size]}),(0,Uw.jsxs)("p",{children:[(0,Uw.jsx)("strong",{children:"Stop Loss:"})," ",e.risk_management.stop_loss_percentage,"%"]}),e.risk_management.trailing_stop&&(0,Uw.jsxs)("p",{children:[(0,Uw.jsx)("strong",{children:"Trailing Stop:"})," Enabled"]}),e.risk_management.time_stop&&(0,Uw.jsxs)("p",{children:[(0,Uw.jsx)("strong",{children:"Time Stop:"})," ",e.risk_management.time_stop]})]})]}),(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("h4",{className:"font-semibold mb-2",children:"Timeframe & Details"}),(0,Uw.jsxs)("div",{className:"".concat(g?"bg-slate-700":"bg-gray-50"," p-3 rounded text-sm"),children:[(0,Uw.jsxs)("p",{children:[(0,Uw.jsx)("strong",{children:"Timeframe:"})," ",e.timeframe]}),e.entry_logic.dte&&(0,Uw.jsxs)("p",{children:[(0,Uw.jsx)("strong",{children:"DTE:"})," ",e.entry_logic.dte]}),e.entry_logic.sector&&(0,Uw.jsxs)("p",{children:[(0,Uw.jsx)("strong",{children:"Sector:"})," ",e.entry_logic.sector]}),e.entry_logic.volume&&(0,Uw.jsxs)("p",{children:[(0,Uw.jsx)("strong",{children:"Volume:"})," ",e.entry_logic.volume.toLocaleString()]})]})]})]}),(0,Uw.jsx)("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded",children:(0,Uw.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,Uw.jsx)("strong",{children:"Disclaimer:"})," Strategy generated from unusual market activity patterns. Charts show theoretical P&L at expiration. Always perform your own due diligence and risk assessment before executing trades."]})}),(0,Uw.jsx)("div",{className:"mt-4 flex justify-center",children:(0,Uw.jsxs)("button",{onClick:()=>(e=>{s(e),i(!0)})(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold flex items-center space-x-2 transition-colors",children:[(0,Uw.jsx)(Pw.A,{className:"w-5 h-5"}),(0,Uw.jsx)("span",{children:"Execute Strategy"})]})})]},t)}))}),0===e.length&&(0,Uw.jsxs)("div",{className:"".concat(g?"bg-slate-800":"bg-white"," p-6 rounded-lg shadow-md text-center"),children:[(0,Uw.jsx)(yw,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Uw.jsx)("p",{className:"text-gray-600",children:"No trading strategies available at the moment."}),(0,Uw.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Strategies are generated based on unusual market activity."})]}),o&&l&&(0,Uw.jsx)(uj,{strategy:l,isOpen:o,onClose:()=>{i(!1),s(null)},isDarkMode:g})]})},uj=e=>{var n,r,a,o,i,l,s,c;let{strategy:u,isOpen:d,onClose:f,isDarkMode:p}=e;const[h,m]=(0,t.useState)("expirations"),[y,g]=(0,t.useState)(""),[v,b]=(0,t.useState)(""),[x,w]=(0,t.useState)(1),[j,N]=(0,t.useState)([]),[S,k]=(0,t.useState)(null),[O,A]=(0,t.useState)(!1);(0,t.useEffect)((()=>{d&&u&&(E(),P())}),[d,u]);const E=async()=>{A(!0);try{var e;const t={symbol:u.ticker,price:(null===(e=u.entry_logic)||void 0===e?void 0:e.underlying_price)||100,change:.35,changePercent:1.12,company:T(u.ticker),earnings:"63d"};k(t)}catch(t){console.error("Error fetching underlying data:",t)}finally{A(!1)}},P=()=>{var e;const t=(null===(e=u.entry_logic)||void 0===e?void 0:e.underlying_price)||100,n=[{date:"Aug 15",dte:2,type:"Standard"},{date:"Aug 22",dte:9,type:"Weeklys"},{date:"Aug 29",dte:16,type:"EoM"},{date:"Sep 5",dte:23,type:"Weeklys"},{date:"Sep 12",dte:30,type:"Weeklys"}].map((e=>({expiration:e.date,dte:e.dte,type:e.type,strikes:_(t,e.dte)})));N(n)},_=(e,t)=>{const n=[],r=e>100?5:2.5;for(let a=-10;a<=10;a++){const t=e+a*r,o={strike:t.toFixed(2),type:"call",bid:(Math.max(0,e-t)+2*Math.random()).toFixed(2),ask:(Math.max(0,e-t)+.5+2*Math.random()).toFixed(2),last:(Math.max(0,e-t)+.25+2*Math.random()).toFixed(2),volume:Math.floor(500*Math.random()),oi:Math.floor(2e3*Math.random()),iv:(50+20*Math.random()).toFixed(1)},i={strike:t.toFixed(2),type:"put",bid:(Math.max(0,t-e)+2*Math.random()).toFixed(2),ask:(Math.max(0,t-e)+.5+2*Math.random()).toFixed(2),last:(Math.max(0,t-e)+.25+2*Math.random()).toFixed(2),volume:Math.floor(300*Math.random()),oi:Math.floor(1500*Math.random()),iv:(50+15*Math.random()).toFixed(1)};n.push({strike:t,call:o,put:i})}return n},T=e=>({AAPL:"Apple Inc",MSFT:"Microsoft Corp",GOOGL:"Alphabet Inc",TSLA:"Tesla Inc",NVDA:"NVIDIA Corp",META:"Meta Platforms",AMZN:"Amazon.com Inc"}[e]||"".concat(e," Corp"));return d?(0,Uw.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Uw.jsxs)("div",{className:"".concat(p?"bg-slate-800 text-white":"bg-white text-gray-900"," rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col"),children:[(0,Uw.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,Uw.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Uw.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Uw.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold",children:(null===S||void 0===S||null===(n=S.symbol)||void 0===n?void 0:n.charAt(0))||u.ticker.charAt(0)}),(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("h2",{className:"text-xl font-bold",children:(null===S||void 0===S?void 0:S.symbol)||u.ticker}),(0,Uw.jsx)("p",{className:"text-sm text-gray-500",children:null===S||void 0===S?void 0:S.company})]})]}),(0,Uw.jsxs)("div",{className:"flex items-center space-x-4 ml-6",children:[(0,Uw.jsxs)("div",{className:"text-lg font-bold ".concat((null===S||void 0===S?void 0:S.change)>=0?"text-green-600":"text-red-600"),children:["$",(null===S||void 0===S||null===(r=S.price)||void 0===r?void 0:r.toFixed(2))||"0.00"]}),(0,Uw.jsxs)("div",{className:"text-sm ".concat((null===S||void 0===S?void 0:S.change)>=0?"text-green-600":"text-red-600"),children:[(null===S||void 0===S?void 0:S.change)>=0?"+":"",(null===S||void 0===S||null===(a=S.change)||void 0===a?void 0:a.toFixed(2))||"0.00"," (",(null===S||void 0===S||null===(o=S.changePercent)||void 0===o?void 0:o.toFixed(2))||"0.00","%)"]})]})]}),(0,Uw.jsx)("button",{onClick:f,className:"text-gray-400 hover:text-gray-600",children:(0,Uw.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Uw.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Uw.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,Uw.jsx)("div",{className:"flex-1 p-6 overflow-y-auto",children:(0,Uw.jsxs)("div",{className:"space-y-4",children:[(0,Uw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold",children:"Options Chain"}),(0,Uw.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Uw.jsxs)("select",{className:"px-3 py-1 border border-gray-300 rounded text-sm",children:[(0,Uw.jsx)("option",{children:"All Strikes"}),(0,Uw.jsx)("option",{children:"ITM Only"}),(0,Uw.jsx)("option",{children:"OTM Only"})]}),(0,Uw.jsx)("button",{className:"px-3 py-1 bg-blue-600 text-white rounded text-sm",children:"Refresh"})]})]}),j.length>0&&(0,Uw.jsx)("div",{className:"space-y-4",children:j.map(((e,t)=>(0,Uw.jsxs)("div",{className:"border rounded-lg overflow-hidden",children:[(0,Uw.jsx)("div",{className:"".concat(p?"bg-slate-700":"bg-gray-50"," px-4 py-2 border-b"),children:(0,Uw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Uw.jsx)("h4",{className:"font-semibold",children:e.expiration}),(0,Uw.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,Uw.jsxs)("span",{children:[e.dte," DTE"]}),(0,Uw.jsx)("span",{children:e.type})]})]})}),(0,Uw.jsx)("div",{className:"overflow-x-auto",children:(0,Uw.jsxs)("table",{className:"w-full text-sm",children:[(0,Uw.jsx)("thead",{className:"".concat(p?"bg-slate-600":"bg-gray-100"),children:(0,Uw.jsxs)("tr",{children:[(0,Uw.jsx)("th",{className:"px-3 py-2 text-left",children:"Calls"}),(0,Uw.jsx)("th",{className:"px-3 py-2 text-center",children:"Strike"}),(0,Uw.jsx)("th",{className:"px-3 py-2 text-right",children:"Puts"}),(0,Uw.jsx)("th",{className:"px-3 py-2 text-center",children:"Action"})]})}),(0,Uw.jsx)("tbody",{className:"divide-y divide-gray-200",children:e.strikes&&e.strikes.slice(0,5).map(((t,n)=>(0,Uw.jsxs)("tr",{className:"hover:bg-blue-50",children:[(0,Uw.jsx)("td",{className:"px-3 py-2",children:(0,Uw.jsxs)("div",{className:"text-xs space-y-1",children:[(0,Uw.jsxs)("div",{children:["Bid/Ask: ",t.call.bid,"/",t.call.ask]}),(0,Uw.jsxs)("div",{children:["Vol: ",t.call.volume," | OI: ",t.call.oi]}),(0,Uw.jsxs)("div",{children:["IV: ",t.call.iv,"%"]})]})}),(0,Uw.jsxs)("td",{className:"px-3 py-2 text-center font-bold",children:["$",t.strike.toFixed(2)]}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-right",children:(0,Uw.jsxs)("div",{className:"text-xs space-y-1",children:[(0,Uw.jsxs)("div",{children:["Bid/Ask: ",t.put.bid,"/",t.put.ask]}),(0,Uw.jsxs)("div",{children:["Vol: ",t.put.volume," | OI: ",t.put.oi]}),(0,Uw.jsxs)("div",{children:["IV: ",t.put.iv,"%"]})]})}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-center",children:(0,Uw.jsx)("button",{onClick:()=>((e,t,n)=>{g(e.expiration),b(t.strike),alert("Selected: ".concat(u.ticker," ").concat(t.strike).concat(n.toUpperCase()," ").concat(e.expiration))})(e,t,"call"),className:"px-2 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-700",children:"Trade \u2192"})})]},n)))})]})})]},t)))})]})}),(0,Uw.jsx)("div",{className:"w-1/3 p-6",children:(0,Uw.jsxs)("div",{className:"space-y-4",children:[(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("h3",{className:"font-semibold mb-2",children:"Strategy Overview"}),(0,Uw.jsxs)("div",{className:"".concat(p?"bg-slate-700":"bg-gray-50"," p-3 rounded text-sm space-y-2"),children:[(0,Uw.jsxs)("p",{children:[(0,Uw.jsx)("strong",{children:"Type:"})," ",u.strategy_type]}),(0,Uw.jsxs)("p",{children:[(0,Uw.jsx)("strong",{children:"Timeframe:"})," ",u.timeframe]}),(0,Uw.jsxs)("p",{children:[(0,Uw.jsx)("strong",{children:"Confidence:"})," ",(100*u.confidence).toFixed(0),"%"]})]})]}),(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("h3",{className:"font-semibold mb-2",children:"Entry Conditions"}),(0,Uw.jsxs)("div",{className:"".concat(p?"bg-slate-700":"bg-gray-50"," p-3 rounded text-sm"),children:[(0,Uw.jsx)("p",{children:(null===(i=u.entry_logic)||void 0===i?void 0:i.condition)||"Strategy-based entry"}),(null===(l=u.entry_logic)||void 0===l?void 0:l.sentiment)&&(0,Uw.jsxs)("p",{className:"mt-1",children:["Market Bias: ",(0,Uw.jsx)("span",{className:"capitalize font-medium",children:u.entry_logic.sentiment})]})]})]}),(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("h3",{className:"font-semibold mb-2",children:"Risk Management"}),(0,Uw.jsxs)("div",{className:"".concat(p?"bg-slate-700":"bg-gray-50"," p-3 rounded text-sm space-y-1"),children:[(0,Uw.jsxs)("p",{children:[(0,Uw.jsx)("strong",{children:"Max Position:"})," ",(null===(s=u.risk_management)||void 0===s?void 0:s.max_position_size)||"2% of portfolio"]}),(0,Uw.jsxs)("p",{children:[(0,Uw.jsx)("strong",{children:"Stop Loss:"})," ",(null===(c=u.risk_management)||void 0===c?void 0:c.stop_loss_percentage)||"10","%"]}),u.chart&&(0,Uw.jsxs)(Uw.Fragment,{children:[u.chart.max_profit&&(0,Uw.jsxs)("p",{children:[(0,Uw.jsx)("strong",{children:"Max Profit:"})," $",u.chart.max_profit.toFixed(0)]}),u.chart.max_loss&&(0,Uw.jsxs)("p",{children:[(0,Uw.jsx)("strong",{children:"Max Loss:"})," $",u.chart.max_loss.toFixed(0)]})]})]})]}),(0,Uw.jsxs)("div",{className:"pt-4 border-t",children:[(0,Uw.jsx)("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg font-semibold",children:"Execute Full Strategy"}),(0,Uw.jsx)("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Based on Unusual Whales data analysis"})]})]})})]})]})}):null},dj=()=>{var e,n,r;const{isDarkMode:o}=Gw(),[i,l]=(0,t.useState)({enabled:!1,budget:1e4,maxDailyLoss:500,maxPositionSize:1e3,riskPerTrade:2,strategies:["wheel","iron_condor","volatility_play"],symbols:["SPY","QQQ","AAPL","MSFT"]}),[s,c]=(0,t.useState)({totalValue:1e4,availableCash:1e4,totalPnL:0,todayPnL:0,activePositions:0,todayTrades:0}),[u,d]=(0,t.useState)([]),[f,p]=(0,t.useState)(null),[h,m]=(0,t.useState)(!1),[y,g]=(0,t.useState)("SPY"),[v,b]=(0,t.useState)(!1),[x,w]=(0,t.useState)([{id:1,symbol:"SPY",strategy:"Wheel Strategy",entry_price:2.5,current_price:3.2,quantity:5,pnl:350,pnl_percent:28,entry_time:"2024-08-14 09:30:00",expiration:"2024-08-21",strike:645,confidence_score:.85},{id:2,symbol:"QQQ",strategy:"Iron Condor",entry_price:1.8,current_price:1.65,quantity:3,pnl:-45,pnl_percent:-8.3,entry_time:"2024-08-14 10:15:00",expiration:"2024-08-16",strike:"580/585",confidence_score:.72}]),j=async()=>{m(!0);try{const e=await pt.A.get("".concat(Xw,"/expert-options/strategies/").concat(y));d(e.data.recommendations||[])}catch(e){console.error("Error fetching expert recommendations:",e)}finally{m(!1)}},N=async()=>{try{const e=await pt.A.get("".concat(Xw,"/expert-options/learning/insights"));p(e.data.learning_insights||{})}catch(e){console.error("Error fetching learning insights:",e)}};(0,t.useEffect)((()=>{j(),N()}),[y]),(0,t.useEffect)((()=>{const e=e=>{v&&!e.target.closest(".relative")&&b(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[v]);const S=(e,t)=>{l((n=>(0,a.A)((0,a.A)({},n),{},{[e]:t})))},k=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"wheel":return"bg-blue-100 text-blue-700 border-blue-300";case"iron_condor":return"bg-purple-100 text-purple-700 border-purple-300";case"volatility_play":return"bg-green-100 text-green-700 border-green-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}};return(0,Uw.jsxs)("div",{className:"space-y-6",children:[(0,Uw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"\ud83e\udd16 Expert Auto Options Trading"}),(0,Uw.jsx)("p",{className:"text-gray-600",children:"AI-powered options trading with machine learning optimization"})]}),(0,Uw.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Uw.jsx)("div",{className:"text-sm text-gray-500",children:"AI Trading Status"}),(0,Uw.jsx)("div",{className:"text-lg font-semibold ".concat(i.enabled?"text-green-600":"text-gray-500"),children:i.enabled?"\ud83d\udfe2 LEARNING & ACTIVE":"\ud83d\udd34 INACTIVE"}),(0,Uw.jsxs)("div",{className:"relative",children:[(0,Uw.jsxs)("button",{onClick:()=>b(!v),className:"flex items-center space-x-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-2 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all duration-200 shadow-lg",children:[(0,Uw.jsx)(gw,{size:16}),(0,Uw.jsx)("span",{className:"font-medium",children:"Options"}),(0,Uw.jsx)(kw.A,{className:"w-4 h-4 transition-transform duration-200 ".concat(v?"rotate-180":"")})]}),v&&(0,Uw.jsxs)("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-xl border border-gray-200 z-50 overflow-hidden",children:[(0,Uw.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 px-4 py-3",children:[(0,Uw.jsx)("h3",{className:"text-white font-semibold",children:"Trading Options"}),(0,Uw.jsx)("p",{className:"text-purple-100 text-sm",children:"Configure your automated trading"})]}),(0,Uw.jsxs)("div",{className:"py-2",children:[(0,Uw.jsxs)("button",{className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center space-x-3 text-gray-700",children:[(0,Uw.jsx)(xw.A,{className:"w-4 h-4 text-yellow-500"}),(0,Uw.jsx)("span",{children:"Strategy Settings"})]}),(0,Uw.jsxs)("button",{className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center space-x-3 text-gray-700",children:[(0,Uw.jsx)(yw,{className:"w-4 h-4 text-blue-500"}),(0,Uw.jsx)("span",{children:"Risk Management"})]}),(0,Uw.jsxs)("button",{className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center space-x-3 text-gray-700",children:[(0,Uw.jsx)(fw.A,{className:"w-4 h-4 text-green-500"}),(0,Uw.jsx)("span",{children:"Performance Analytics"})]}),(0,Uw.jsxs)("button",{className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center space-x-3 text-gray-700",children:[(0,Uw.jsx)(jw,{className:"w-4 h-4 text-purple-500"}),(0,Uw.jsx)("span",{children:"AI Learning Config"})]}),(0,Uw.jsx)("hr",{className:"my-2"}),(0,Uw.jsxs)("button",{className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center space-x-3 text-gray-700",children:[(0,Uw.jsx)(Rw,{className:"w-4 h-4 text-gray-500"}),(0,Uw.jsx)("span",{children:"Help & Documentation"})]}),(0,Uw.jsxs)("button",{className:"w-full px-4 py-2 text-left hover:bg-red-50 flex items-center space-x-3 text-red-600",children:[(0,Uw.jsx)(Iw,{className:"w-4 h-4"}),(0,Uw.jsx)("span",{children:"Advanced Settings"})]})]})]})]})]})]}),(0,Uw.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Uw.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Uw.jsxs)("h3",{className:"text-xl font-semibold flex items-center",children:[(0,Uw.jsx)(yw,{className:"mr-2",size:20}),"AI Expert Recommendations"]}),(0,Uw.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Uw.jsxs)("select",{value:y,onChange:e=>g(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Uw.jsx)("option",{value:"SPY",children:"SPY"}),(0,Uw.jsx)("option",{value:"QQQ",children:"QQQ"}),(0,Uw.jsx)("option",{value:"AAPL",children:"AAPL"}),(0,Uw.jsx)("option",{value:"MSFT",children:"MSFT"})]}),(0,Uw.jsxs)("button",{onClick:j,disabled:h,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center disabled:opacity-50",children:[(0,Uw.jsx)(Ew.A,{className:"mr-2 ".concat(h?"animate-spin":""),size:16}),h?"Analyzing...":"Get AI Recommendations"]})]})]}),h?(0,Uw.jsxs)("div",{className:"text-center py-8",children:[(0,Uw.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,Uw.jsx)("p",{className:"mt-2 text-gray-600",children:"AI analyzing market conditions..."})]}):(0,Uw.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(((e,t)=>{var n;return(0,Uw.jsxs)("div",{className:"border-2 rounded-lg p-4 ".concat(k(e.strategy_type)),children:[(0,Uw.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Uw.jsx)("h4",{className:"font-semibold",children:e.strategy_name||e.strategy_type}),(0,Uw.jsx)("div",{className:"flex items-center",children:(0,Uw.jsxs)("div",{className:"text-xs bg-white px-2 py-1 rounded-full",children:["Confidence: ",(100*e.confidence_score).toFixed(0),"%"]})})]}),(0,Uw.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Uw.jsxs)("div",{className:"flex justify-between",children:[(0,Uw.jsx)("span",{children:"Max Profit:"}),(0,Uw.jsx)("span",{className:"font-medium text-green-600",children:"Unlimited"===e.max_profit?"Unlimited":"$".concat(e.max_profit)})]}),(0,Uw.jsxs)("div",{className:"flex justify-between",children:[(0,Uw.jsx)("span",{children:"Max Risk:"}),(0,Uw.jsxs)("span",{className:"font-medium text-red-600",children:["$",e.max_loss||e.total_cost||"N/A"]})]}),(0,Uw.jsxs)("div",{className:"flex justify-between",children:[(0,Uw.jsx)("span",{children:"Strategy Type:"}),(0,Uw.jsx)("span",{className:"font-medium capitalize",children:null===(n=e.strategy_type)||void 0===n?void 0:n.replace("_"," ")})]}),e.roi_potential&&(0,Uw.jsxs)("div",{className:"flex justify-between",children:[(0,Uw.jsx)("span",{children:"ROI Potential:"}),(0,Uw.jsxs)("span",{className:"font-medium text-blue-600",children:[e.roi_potential,"%"]})]})]}),(0,Uw.jsx)("button",{className:"w-full mt-3 bg-white/50 hover:bg-white/70 text-gray-800 py-2 px-3 rounded text-sm font-medium transition-colors",children:"Execute Strategy"})]},t)}))})]}),f&&(0,Uw.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Uw.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[(0,Uw.jsx)(fw.A,{className:"mr-2",size:20}),"AI Learning Insights"]}),(0,Uw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("h4",{className:"font-medium mb-2",children:"System Performance"}),(0,Uw.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,Uw.jsxs)("div",{children:["Total Trades: ",(0,Uw.jsx)("span",{className:"font-semibold",children:f.total_trades||0})]}),(0,Uw.jsxs)("div",{children:["Active Trades: ",(0,Uw.jsx)("span",{className:"font-semibold",children:f.active_trades||0})]}),(0,Uw.jsxs)("div",{children:["Learning Status: ",(0,Uw.jsx)("span",{className:"font-semibold text-green-600",children:"Active"})]})]})]}),(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("h4",{className:"font-medium mb-2",children:"Strategy Optimization"}),(0,Uw.jsx)("div",{className:"space-y-2",children:["wheel","iron_condor","volatility_play"].map((e=>(0,Uw.jsxs)("button",{onClick:()=>(async e=>{try{const t=await pt.A.post("".concat(Xw,"/expert-options/optimize/").concat(e));console.log("Optimization completed:",t.data),await N()}catch(t){console.error("Error optimizing strategy:",t)}})(e),className:"w-full text-left bg-gray-50 hover:bg-gray-100 p-2 rounded text-sm",children:["Optimize ",e.replace("_"," ")," \u26a1"]},e)))})]}),(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("h4",{className:"font-medium mb-2",children:"Market Insights"}),(0,Uw.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,Uw.jsxs)("div",{children:["Preferred Strategy: ",(0,Uw.jsx)("span",{className:"font-semibold capitalize",children:(null===(e=f.market_insights)||void 0===e?void 0:e.preferred_strategy)||"Learning"})]}),(0,Uw.jsxs)("div",{children:["Market Condition: ",(0,Uw.jsx)("span",{className:"font-semibold",children:(null===(n=f.market_insights)||void 0===n?void 0:n.current_conditions)||"Neutral"})]}),(0,Uw.jsxs)("div",{children:["IV Environment: ",(0,Uw.jsx)("span",{className:"font-semibold",children:(null===(r=f.market_insights)||void 0===r?void 0:r.iv_environment)||"Moderate"})]})]})]})]})]}),(0,Uw.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Uw.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Uw.jsx)("h3",{className:"text-xl font-semibold",children:"AI Trading Control"}),(0,Uw.jsx)("button",{onClick:()=>{l((e=>(0,a.A)((0,a.A)({},e),{},{enabled:!e.enabled})))},className:"px-6 py-3 rounded-lg font-semibold text-white transition-colors ".concat(i.enabled?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600"),children:i.enabled?"Stop AI Trading":"Start AI Trading"})]}),(0,Uw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Budget"}),(0,Uw.jsxs)("div",{className:"relative",children:[(0,Uw.jsx)("span",{className:"absolute left-3 top-3 text-gray-500",children:"$"}),(0,Uw.jsx)("input",{type:"number",value:i.budget,onChange:e=>S("budget",Number(e.target.value)),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:i.enabled})]})]}),(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"AI Max Daily Loss"}),(0,Uw.jsxs)("div",{className:"relative",children:[(0,Uw.jsx)("span",{className:"absolute left-3 top-3 text-gray-500",children:"$"}),(0,Uw.jsx)("input",{type:"number",value:i.maxDailyLoss,onChange:e=>S("maxDailyLoss",Number(e.target.value)),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:i.enabled})]})]}),(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"AI Risk Per Trade (%)"}),(0,Uw.jsxs)("div",{className:"relative",children:[(0,Uw.jsx)("input",{type:"number",value:i.riskPerTrade,onChange:e=>S("riskPerTrade",Number(e.target.value)),className:"w-full pr-8 pl-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:i.enabled,step:"0.1",min:"0.1",max:"10"}),(0,Uw.jsx)("span",{className:"absolute right-3 top-3 text-gray-500",children:"%"})]})]}),(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Position Size"}),(0,Uw.jsxs)("div",{className:"relative",children:[(0,Uw.jsx)("span",{className:"absolute left-3 top-3 text-gray-500",children:"$"}),(0,Uw.jsx)("input",{type:"number",value:i.maxPositionSize,onChange:e=>S("maxPositionSize",Number(e.target.value)),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:i.enabled})]})]})]})]}),(0,Uw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:[(0,Uw.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,Uw.jsx)("div",{className:"text-sm text-gray-500",children:"Total Value"}),(0,Uw.jsxs)("div",{className:"text-2xl font-bold text-gray-800",children:["$",s.totalValue.toLocaleString()]})]}),(0,Uw.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,Uw.jsx)("div",{className:"text-sm text-gray-500",children:"Available Cash"}),(0,Uw.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:["$",s.availableCash.toLocaleString()]})]}),(0,Uw.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,Uw.jsx)("div",{className:"text-sm text-gray-500",children:"Total P&L"}),(0,Uw.jsxs)("div",{className:"text-2xl font-bold ".concat(s.totalPnL>=0?"text-green-600":"text-red-600"),children:["$",s.totalPnL>=0?"+":"",s.totalPnL.toLocaleString()]})]}),(0,Uw.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,Uw.jsx)("div",{className:"text-sm text-gray-500",children:"Today's P&L"}),(0,Uw.jsxs)("div",{className:"text-2xl font-bold ".concat(s.todayPnL>=0?"text-green-600":"text-red-600"),children:["$",s.todayPnL>=0?"+":"",s.todayPnL.toLocaleString()]})]}),(0,Uw.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,Uw.jsx)("div",{className:"text-sm text-gray-500",children:"Active Positions"}),(0,Uw.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:s.activePositions})]}),(0,Uw.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,Uw.jsx)("div",{className:"text-sm text-gray-500",children:"Today's Trades"}),(0,Uw.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:s.todayTrades})]})]}),(0,Uw.jsxs)("div",{className:"bg-white rounded-lg shadow-md",children:[(0,Uw.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Uw.jsxs)("h3",{className:"text-lg font-semibold flex items-center",children:[(0,Uw.jsx)(pw,{className:"mr-2",size:20}),"AI-Managed Active Trades (",x.length,")"]})}),(0,Uw.jsx)("div",{className:"overflow-x-auto",children:(0,Uw.jsxs)("table",{className:"w-full",children:[(0,Uw.jsx)("thead",{className:"bg-gray-50",children:(0,Uw.jsxs)("tr",{children:[(0,Uw.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Symbol"}),(0,Uw.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"AI Strategy"}),(0,Uw.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Strike/Exp"}),(0,Uw.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Entry"}),(0,Uw.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Current"}),(0,Uw.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"P&L"}),(0,Uw.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"AI Confidence"}),(0,Uw.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,Uw.jsx)("tbody",{className:"divide-y divide-gray-200",children:x.map((e=>(0,Uw.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Uw.jsx)("td",{className:"px-6 py-4 font-semibold text-blue-600",children:e.symbol}),(0,Uw.jsxs)("td",{className:"px-6 py-4 text-sm",children:[(0,Uw.jsx)("div",{className:"font-medium",children:e.strategy}),(0,Uw.jsx)("div",{className:"text-xs text-gray-500",children:"AI Selected"})]}),(0,Uw.jsxs)("td",{className:"px-6 py-4 text-sm",children:[(0,Uw.jsxs)("div",{children:["$",e.strike]}),(0,Uw.jsx)("div",{className:"text-gray-500",children:e.expiration})]}),(0,Uw.jsxs)("td",{className:"px-6 py-4 text-sm",children:[(0,Uw.jsxs)("div",{children:["$",e.entry_price]}),(0,Uw.jsxs)("div",{className:"text-gray-500",children:["x",e.quantity]})]}),(0,Uw.jsxs)("td",{className:"px-6 py-4 text-sm font-medium",children:["$",e.current_price]}),(0,Uw.jsxs)("td",{className:"px-6 py-4",children:[(0,Uw.jsxs)("div",{className:"font-semibold ".concat(e.pnl>=0?"text-green-600":"text-red-600"),children:["$",e.pnl>=0?"+":"",e.pnl]}),(0,Uw.jsxs)("div",{className:"text-sm ".concat(e.pnl_percent>=0?"text-green-600":"text-red-600"),children:["(",e.pnl_percent>=0?"+":"",e.pnl_percent,"%)"]})]}),(0,Uw.jsx)("td",{className:"px-6 py-4",children:(0,Uw.jsxs)("div",{className:"flex items-center",children:[(0,Uw.jsxs)("div",{className:"text-sm font-medium ".concat(e.confidence_score>=.8?"text-green-600":e.confidence_score>=.6?"text-yellow-600":"text-red-600"),children:[(100*e.confidence_score).toFixed(0),"%"]}),(0,Uw.jsx)("div",{className:"ml-1 w-2 h-2 rounded-full ".concat(e.confidence_score>=.8?"bg-green-500":e.confidence_score>=.6?"bg-yellow-500":"bg-red-500")})]})}),(0,Uw.jsx)("td",{className:"px-6 py-4",children:(0,Uw.jsx)("button",{className:"text-red-600 hover:text-red-800 font-medium text-sm",children:"Close Position"})})]},e.id)))})]})})]}),(0,Uw.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"AI Expert Strategies"}),(0,Uw.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{id:"wheel",name:"Wheel Strategy",description:"AI-optimized cash-secured puts \u2192 covered calls",icon:"\u267b\ufe0f"},{id:"iron_condor",name:"Iron Condor",description:"AI delta-neutral income strategy",icon:"\ud83e\udd85"},{id:"volatility_play",name:"Volatility Play",description:"AI volatility expansion/contraction plays",icon:"\u26a1"}].map((e=>(0,Uw.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,Uw.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Uw.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Uw.jsx)("span",{className:"text-lg",children:e.icon}),(0,Uw.jsx)("div",{className:"font-medium",children:e.name})]}),(0,Uw.jsx)("input",{type:"checkbox",checked:i.strategies.includes(e.id),onChange:t=>{t.target.checked?S("strategies",[...i.strategies,e.id]):S("strategies",i.strategies.filter((t=>t!==e.id)))},disabled:i.enabled,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),(0,Uw.jsx)("div",{className:"text-sm text-gray-600",children:e.description}),(0,Uw.jsx)("div",{className:"mt-2 text-xs text-blue-600",children:"AI-Powered with Machine Learning"})]},e.id)))})]})]})},fj=()=>{const{isDarkMode:e}=Gw(),[n,r]=(0,t.useState)([{id:1,date:"2024-08-14",symbol:"SPY",strategy:"Long Call",entry_price:2.5,exit_price:3.2,quantity:5,pnl:350,pnl_percent:28,status:"Closed",entry_time:"09:30:00",exit_time:"15:45:00",expiration:"2024-08-21",strike:645},{id:2,date:"2024-08-13",symbol:"QQQ",strategy:"Bull Call Spread",entry_price:1.8,exit_price:1.65,quantity:3,pnl:-45,pnl_percent:-8.3,status:"Closed",entry_time:"10:15:00",exit_time:"14:30:00",expiration:"2024-08-16",strike:"580/585"},{id:3,date:"2024-08-12",symbol:"AAPL",strategy:"Long Put",entry_price:3.1,exit_price:4.25,quantity:2,pnl:230,pnl_percent:37.1,status:"Closed",entry_time:"11:00:00",exit_time:"13:20:00",expiration:"2024-08-19",strike:220}]),[a,o]=(0,t.useState)("all"),[i,l]=(0,t.useState)("7d"),s=n.filter((e=>"all"===a||("profitable"===a?e.pnl>0:"losses"!==a||e.pnl<0))),c=n.reduce(((e,t)=>e+t.pnl),0),u=n.filter((e=>e.pnl>0)).length/n.length*100,d=n.filter((e=>e.pnl>0)).reduce(((e,t)=>e+t.pnl),0)/n.filter((e=>e.pnl>0)).length,f=Math.abs(n.filter((e=>e.pnl<0)).reduce(((e,t)=>e+t.pnl),0)/n.filter((e=>e.pnl<0)).length);return(0,Uw.jsxs)("div",{className:"space-y-6",children:[(0,Uw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"\ud83d\udcca Trading History"}),(0,Uw.jsx)("p",{className:"text-gray-600",children:"Complete record of automated trading activity"})]}),(0,Uw.jsx)("div",{className:"flex items-center space-x-4",children:(0,Uw.jsxs)("select",{value:i,onChange:e=>l(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,Uw.jsx)("option",{value:"7d",children:"Last 7 Days"}),(0,Uw.jsx)("option",{value:"30d",children:"Last 30 Days"}),(0,Uw.jsx)("option",{value:"90d",children:"Last 90 Days"}),(0,Uw.jsx)("option",{value:"1y",children:"Last Year"})]})})]}),(0,Uw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Uw.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,Uw.jsx)("div",{className:"text-sm text-gray-500",children:"Total P&L"}),(0,Uw.jsxs)("div",{className:"text-2xl font-bold ".concat(c>=0?"text-green-600":"text-red-600"),children:["$",c>=0?"+":"",c.toFixed(0)]})]}),(0,Uw.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,Uw.jsx)("div",{className:"text-sm text-gray-500",children:"Win Rate"}),(0,Uw.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[u.toFixed(1),"%"]})]}),(0,Uw.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,Uw.jsx)("div",{className:"text-sm text-gray-500",children:"Avg Win"}),(0,Uw.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["$",d.toFixed(0)]})]}),(0,Uw.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,Uw.jsx)("div",{className:"text-sm text-gray-500",children:"Avg Loss"}),(0,Uw.jsxs)("div",{className:"text-2xl font-bold text-red-600",children:["$",f.toFixed(0)]})]})]}),(0,Uw.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4",children:(0,Uw.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Uw.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Filter:"}),(0,Uw.jsx)("div",{className:"flex space-x-2",children:[{id:"all",label:"All Trades"},{id:"profitable",label:"Profitable"},{id:"losses",label:"Losses"}].map((e=>(0,Uw.jsx)("button",{onClick:()=>o(e.id),className:"px-3 py-1 rounded-lg text-sm font-medium transition-colors ".concat(a===e.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e.label},e.id)))})]})}),(0,Uw.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,Uw.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Uw.jsxs)("h3",{className:"text-lg font-semibold",children:["Trade History (",s.length," trades)"]})}),(0,Uw.jsx)("div",{className:"overflow-x-auto",children:(0,Uw.jsxs)("table",{className:"w-full",children:[(0,Uw.jsx)("thead",{className:"bg-gray-50",children:(0,Uw.jsxs)("tr",{children:[(0,Uw.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),(0,Uw.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Symbol"}),(0,Uw.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Strategy"}),(0,Uw.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Entry/Exit"}),(0,Uw.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Quantity"}),(0,Uw.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"P&L"}),(0,Uw.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Time"})]})}),(0,Uw.jsx)("tbody",{className:"divide-y divide-gray-200",children:s.map((e=>(0,Uw.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Uw.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.date}),(0,Uw.jsx)("td",{className:"px-6 py-4 font-semibold text-blue-600",children:e.symbol}),(0,Uw.jsx)("td",{className:"px-6 py-4 text-sm",children:e.strategy}),(0,Uw.jsxs)("td",{className:"px-6 py-4 text-sm",children:[(0,Uw.jsxs)("div",{children:["$",e.entry_price," \u2192 $",e.exit_price]}),(0,Uw.jsxs)("div",{className:"text-gray-500",children:["$",e.strike," ",e.expiration]})]}),(0,Uw.jsx)("td",{className:"px-6 py-4 text-sm",children:e.quantity}),(0,Uw.jsxs)("td",{className:"px-6 py-4",children:[(0,Uw.jsxs)("div",{className:"font-semibold ".concat(e.pnl>=0?"text-green-600":"text-red-600"),children:["$",e.pnl>=0?"+":"",e.pnl]}),(0,Uw.jsxs)("div",{className:"text-sm ".concat(e.pnl_percent>=0?"text-green-600":"text-red-600"),children:["(",e.pnl_percent>=0?"+":"",e.pnl_percent,"%)"]})]}),(0,Uw.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:(0,Uw.jsxs)("div",{children:[e.entry_time," - ",e.exit_time]})})]},e.id)))})]})})]})]})},pj=()=>{const{isDarkMode:e}=Gw(),[n,r]=(0,t.useState)("30d"),a=8.5,o=1.42,i=-2.1,l=64.3,s=1.85,c=156,u=-58,d=28,f=350,p=-120;return(0,Uw.jsxs)("div",{className:"space-y-6",children:[(0,Uw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"\ud83d\udcc8 Performance Analytics"}),(0,Uw.jsx)("p",{className:"text-gray-600",children:"Detailed analysis of trading performance and risk metrics"})]}),(0,Uw.jsx)("div",{className:"flex items-center space-x-4",children:(0,Uw.jsxs)("select",{value:n,onChange:e=>r(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,Uw.jsx)("option",{value:"7d",children:"Last 7 Days"}),(0,Uw.jsx)("option",{value:"30d",children:"Last 30 Days"}),(0,Uw.jsx)("option",{value:"90d",children:"Last 90 Days"}),(0,Uw.jsx)("option",{value:"1y",children:"Last Year"})]})})]}),(0,Uw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,Uw.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,Uw.jsx)("div",{className:"text-sm text-gray-500",children:"Total Return"}),(0,Uw.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["+",a,"%"]})]}),(0,Uw.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,Uw.jsx)("div",{className:"text-sm text-gray-500",children:"Sharpe Ratio"}),(0,Uw.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:o})]}),(0,Uw.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,Uw.jsx)("div",{className:"text-sm text-gray-500",children:"Max Drawdown"}),(0,Uw.jsxs)("div",{className:"text-2xl font-bold text-red-600",children:[i,"%"]})]}),(0,Uw.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,Uw.jsx)("div",{className:"text-sm text-gray-500",children:"Win Rate"}),(0,Uw.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[l,"%"]})]}),(0,Uw.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,Uw.jsx)("div",{className:"text-sm text-gray-500",children:"Profit Factor"}),(0,Uw.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:s})]})]}),(0,Uw.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Portfolio Value Over Time"}),(0,Uw.jsx)(Sn,{width:"100%",height:400,children:(0,Uw.jsxs)(Ux,{data:[{date:"2024-08-01",portfolio_value:1e4,pnl:0},{date:"2024-08-02",portfolio_value:10150,pnl:150},{date:"2024-08-03",portfolio_value:10080,pnl:-70},{date:"2024-08-04",portfolio_value:10320,pnl:240},{date:"2024-08-05",portfolio_value:10280,pnl:-40},{date:"2024-08-06",portfolio_value:10450,pnl:170},{date:"2024-08-07",portfolio_value:10380,pnl:-70},{date:"2024-08-08",portfolio_value:10520,pnl:140},{date:"2024-08-09",portfolio_value:10480,pnl:-40},{date:"2024-08-10",portfolio_value:10650,pnl:170},{date:"2024-08-11",portfolio_value:10590,pnl:-60},{date:"2024-08-12",portfolio_value:10720,pnl:130},{date:"2024-08-13",portfolio_value:10680,pnl:-40},{date:"2024-08-14",portfolio_value:10850,pnl:170}],children:[(0,Uw.jsx)(ow,{strokeDasharray:"3 3"}),(0,Uw.jsx)(Px,{dataKey:"date"}),(0,Uw.jsx)(Bx,{}),(0,Uw.jsx)(Or,{formatter:(e,t)=>["$".concat(e.toLocaleString()),"Portfolio Value"],labelFormatter:e=>"Date: ".concat(e)}),(0,Uw.jsx)(to,{}),(0,Uw.jsx)(Kb,{type:"monotone",dataKey:"portfolio_value",stroke:"#2563eb",strokeWidth:2,dot:!1,name:"Portfolio Value"})]})})]}),(0,Uw.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Uw.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Trade Statistics"}),(0,Uw.jsxs)("div",{className:"space-y-3",children:[(0,Uw.jsxs)("div",{className:"flex justify-between",children:[(0,Uw.jsx)("span",{className:"text-gray-600",children:"Total Trades"}),(0,Uw.jsx)("span",{className:"font-bold",children:d})]}),(0,Uw.jsxs)("div",{className:"flex justify-between",children:[(0,Uw.jsx)("span",{className:"text-gray-600",children:"Average Win"}),(0,Uw.jsxs)("span",{className:"font-bold text-green-600",children:["$",c]})]}),(0,Uw.jsxs)("div",{className:"flex justify-between",children:[(0,Uw.jsx)("span",{className:"text-gray-600",children:"Average Loss"}),(0,Uw.jsxs)("span",{className:"font-bold text-red-600",children:["$",u]})]}),(0,Uw.jsxs)("div",{className:"flex justify-between",children:[(0,Uw.jsx)("span",{className:"text-gray-600",children:"Best Trade"}),(0,Uw.jsxs)("span",{className:"font-bold text-green-600",children:["$",f]})]}),(0,Uw.jsxs)("div",{className:"flex justify-between",children:[(0,Uw.jsx)("span",{className:"text-gray-600",children:"Worst Trade"}),(0,Uw.jsxs)("span",{className:"font-bold text-red-600",children:["$",p]})]})]})]}),(0,Uw.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Risk Analysis"}),(0,Uw.jsxs)("div",{className:"space-y-3",children:[(0,Uw.jsxs)("div",{className:"flex justify-between",children:[(0,Uw.jsx)("span",{className:"text-gray-600",children:"Volatility (30d)"}),(0,Uw.jsx)("span",{className:"font-bold",children:"12.4%"})]}),(0,Uw.jsxs)("div",{className:"flex justify-between",children:[(0,Uw.jsx)("span",{className:"text-gray-600",children:"Beta"}),(0,Uw.jsx)("span",{className:"font-bold",children:"0.85"})]}),(0,Uw.jsxs)("div",{className:"flex justify-between",children:[(0,Uw.jsx)("span",{className:"text-gray-600",children:"VaR (95%)"}),(0,Uw.jsx)("span",{className:"font-bold text-red-600",children:"-$245"})]}),(0,Uw.jsxs)("div",{className:"flex justify-between",children:[(0,Uw.jsx)("span",{className:"text-gray-600",children:"Calmar Ratio"}),(0,Uw.jsx)("span",{className:"font-bold",children:"4.05"})]}),(0,Uw.jsxs)("div",{className:"flex justify-between",children:[(0,Uw.jsx)("span",{className:"text-gray-600",children:"Sortino Ratio"}),(0,Uw.jsx)("span",{className:"font-bold",children:"2.18"})]})]})]})]}),(0,Uw.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Monthly Performance"}),(0,Uw.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[{month:"Jan",return:2.1},{month:"Feb",return:-.8},{month:"Mar",return:3.4},{month:"Apr",return:1.9},{month:"May",return:-1.2},{month:"Jun",return:2.8},{month:"Jul",return:1.5},{month:"Aug",return:.8}].map((e=>(0,Uw.jsxs)("div",{className:"text-center p-3 border rounded-lg",children:[(0,Uw.jsx)("div",{className:"text-sm text-gray-600",children:e.month}),(0,Uw.jsxs)("div",{className:"font-bold ".concat(e.return>=0?"text-green-600":"text-red-600"),children:[e.return>=0?"+":"",e.return,"%"]})]},e.month)))})]})]})},hj=()=>(0,Uw.jsxs)("div",{className:"space-y-6",children:[(0,Uw.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Market News"}),(0,Uw.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,Uw.jsx)("p",{className:"text-gray-600",children:"Market news integration coming soon..."}),(0,Uw.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"This section will show latest financial news, earnings reports, and market updates."})]})]}),mj=()=>{var e,n,r,a,o,i,l,s;const[c,u]=(0,t.useState)(null),[d,f]=(0,t.useState)(!1),[p,h]=(0,t.useState)(null),[m,y]=(0,t.useState)(""),{isDarkMode:g}=Gw();(0,t.useEffect)((()=>{v()}),[]);const v=async()=>{try{f(!0);const e=await pt.A.get("".concat(Xw,"/auth/tradestation/status"));u(e.data),h(null)}catch(e){h("Failed to check authentication status"),console.error("Auth status error:",e)}finally{f(!1)}};return(0,Uw.jsxs)("div",{className:"space-y-6 ".concat(g?"text-white":"text-gray-800"),children:[(0,Uw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Uw.jsxs)("h2",{className:"text-3xl font-bold flex items-center gap-3",children:[(0,Uw.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:"\ud83c\udfdb\ufe0f"}),"TradeStation Authentication"]}),(0,Uw.jsxs)("button",{onClick:v,disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[(0,Uw.jsx)(Ew.A,{className:"w-4 h-4 ".concat(d?"animate-spin":"")}),"Refresh Status"]})]}),p&&(0,Uw.jsx)("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded-lg",children:(0,Uw.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uw.jsx)(Rw,{className:"w-5 h-5"}),p]})}),(0,Uw.jsxs)("div",{className:"".concat(g?"bg-gray-800 border-gray-700":"bg-white border-gray-200"," border rounded-xl p-6"),children:[(0,Uw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Uw.jsxs)("div",{className:"space-y-4",children:[(0,Uw.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Connection Status"}),(0,Uw.jsxs)("div",{className:"space-y-3",children:[(0,Uw.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Uw.jsx)("span",{className:"text-sm font-medium",children:"Status:"}),(0,Uw.jsx)("span",{className:"font-semibold ".concat((e=>{var t;return null!==e&&void 0!==e&&null!==(t=e.authentication)&&void 0!==t&&t.authenticated?"text-green-600":"text-red-600"})(c)),children:d?"Checking...":(e=>{var t;return null!==e&&void 0!==e&&null!==(t=e.authentication)&&void 0!==t&&t.authenticated?"Connected":"Not Connected"})(c)})]}),(0,Uw.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Uw.jsx)("span",{className:"text-sm font-medium",children:"Environment:"}),(0,Uw.jsx)("span",{className:"font-medium text-blue-600",children:(null===c||void 0===c||null===(e=c.api_configuration)||void 0===e?void 0:e.environment)||"LIVE"})]}),(0,Uw.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Uw.jsx)("span",{className:"text-sm font-medium",children:"Credentials:"}),(0,Uw.jsx)("span",{className:"font-medium ".concat(null!==c&&void 0!==c&&null!==(n=c.api_configuration)&&void 0!==n&&n.credentials_configured?"text-green-600":"text-red-600"),children:null!==c&&void 0!==c&&null!==(r=c.api_configuration)&&void 0!==r&&r.credentials_configured?"Configured":"Missing"})]}),(null===c||void 0===c||null===(a=c.authentication)||void 0===a?void 0:a.authenticated)&&(0,Uw.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Uw.jsx)("span",{className:"text-sm font-medium",children:"Expires In:"}),(0,Uw.jsxs)("span",{className:"font-medium text-amber-600",children:[c.authentication.expires_in_minutes," minutes"]})]})]})]}),(0,Uw.jsxs)("div",{className:"space-y-4",children:[(0,Uw.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Connection Details"}),(0,Uw.jsxs)("div",{className:"space-y-3",children:[(0,Uw.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Uw.jsx)("span",{className:"text-sm font-medium",children:"API URL:"}),(0,Uw.jsx)("span",{className:"text-xs font-mono bg-gray-100 px-2 py-1 rounded",children:(null===c||void 0===c||null===(o=c.api_configuration)||void 0===o?void 0:o.base_url)||"Not configured"})]}),(null===c||void 0===c?void 0:c.connection_test)&&(0,Uw.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Uw.jsx)("span",{className:"text-sm font-medium",children:"API Test:"}),(0,Uw.jsx)("span",{className:"font-medium ".concat("success"===c.connection_test.status?"text-green-600":"text-red-600"),children:"success"===c.connection_test.status?"Passed":"Failed"})]}),void 0!==(null===c||void 0===c||null===(i=c.connection_test)||void 0===i?void 0:i.accounts_found)&&(0,Uw.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Uw.jsx)("span",{className:"text-sm font-medium",children:"Accounts Found:"}),(0,Uw.jsx)("span",{className:"font-medium text-blue-600",children:c.connection_test.accounts_found})]})]})]})]}),(0,Uw.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-600",children:null!==c&&void 0!==c&&null!==(l=c.authentication)&&void 0!==l&&l.authenticated?(0,Uw.jsxs)("div",{className:"text-center",children:[(0,Uw.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-green-100 text-green-800 rounded-lg",children:[(0,Uw.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Successfully connected to TradeStation"]}),(0,Uw.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"You can now access portfolio data and place trades"})]}):(0,Uw.jsxs)("div",{className:"text-center",children:[(0,Uw.jsxs)("button",{onClick:async()=>{try{f(!0),h(null);const e=await pt.A.get("".concat(Xw,"/auth/tradestation/login"));if(!e.data.auth_url)throw new Error("Failed to generate authentication URL");{const t=window.open(e.data.auth_url,"tradestation-auth","width=800,height=600,scrollbars=yes,resizable=yes");if(!t)throw new Error("Popup window blocked. Please allow popups for this site.");const n=e=>{(e.origin.includes("localhost")||e.origin===window.location.origin)&&("TRADESTATION_AUTH_SUCCESS"===e.data.type?(f(!1),h(null),v(),window.removeEventListener("message",n)):"TRADESTATION_AUTH_ERROR"===e.data.type&&(f(!1),h(e.data.error||"Authentication failed"),window.removeEventListener("message",n)))};window.addEventListener("message",n);let r=0;const a=60,o=setInterval((async()=>{try{if(r++,t.closed)return clearInterval(o),window.removeEventListener("message",n),f(!1),void(r<3&&h("Authentication window was closed. Please try again."));r>=a&&(clearInterval(o),window.removeEventListener("message",n),f(!1),h("Authentication timeout. Please try again."),t.closed||t.close())}catch(e){console.error("Auth check error:",e)}}),3e3)}}catch(e){h(e.message||"Failed to initiate login"),console.error("Login error:",e),f(!1)}},disabled:d||!(null!==c&&void 0!==c&&null!==(s=c.api_configuration)&&void 0!==s&&s.credentials_configured),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 mx-auto",children:[(0,Uw.jsx)(gw,{className:"w-5 h-5"}),d?"Authenticating...":"Connect to TradeStation"]}),(0,Uw.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"This will open TradeStation's OAuth login in a new window"}),(0,Uw.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[(0,Uw.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Or enter authorization code manually:"}),(0,Uw.jsxs)("div",{className:"flex gap-2 max-w-md mx-auto",children:[(0,Uw.jsx)("input",{type:"text",placeholder:"Authorization code from TradeStation",value:m,onChange:e=>y(e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),(0,Uw.jsx)("button",{onClick:()=>(async e=>{if(e.trim())try{f(!0),h(null),(await pt.A.get("".concat(Xw,"/auth/tradestation/callback?code=").concat(e,"&state=manual"))).data&&(await v(),y(""),h(null))}catch(r){var t,n;h((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to exchange authorization code"),console.error("Code exchange error:",r)}finally{f(!1)}else h("Please enter an authorization code")})(m),disabled:!m.trim()||d,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 text-sm",children:"Connect"})]}),(0,Uw.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Get the code from TradeStation OAuth page manually"})]})]})})]}),(0,Uw.jsxs)("div",{className:"".concat(g?"bg-gray-800 border-gray-700":"bg-blue-50 border-blue-200"," border rounded-xl p-6"),children:[(0,Uw.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,Uw.jsx)(Rw,{className:"w-5 h-5 text-blue-600"}),"Authentication Instructions"]}),(0,Uw.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,Uw.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Uw.jsx)("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"1"}),(0,Uw.jsx)("p",{children:'Click "Connect to TradeStation" to initiate OAuth authentication'})]}),(0,Uw.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Uw.jsx)("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"2"}),(0,Uw.jsx)("p",{children:"Log in with your TradeStation credentials in the popup window"})]}),(0,Uw.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Uw.jsx)("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"3"}),(0,Uw.jsx)("p",{children:"Authorize FlowMind Analytics to access your account"})]}),(0,Uw.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Uw.jsx)("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"4"}),(0,Uw.jsx)("p",{children:"Connection status will update automatically once authenticated"})]})]})]})]})},yj=()=>{var e,n,r,a,o,i,l,s,c,u;const[d,f]=(0,t.useState)([]),[p,h]=(0,t.useState)(null),[m,y]=(0,t.useState)(null),[g,v]=(0,t.useState)(!1),[b,x]=(0,t.useState)(null),[w,j]=(0,t.useState)("all"),[N,S]=(0,t.useState)("none"),[k,O]=(0,t.useState)(new Set),[A,E]=(0,t.useState)(new Set),[P,_]=(0,t.useState)(!1),{isDarkMode:T}=Gw();(0,t.useEffect)((()=>{C()}),[]);const C=async()=>{try{var e;v(!0),console.log("\ud83d\udd0d DEBUG: Loading accounts...");const t=await pt.A.get("".concat(Xw,"/tradestation/accounts"));console.log("\ud83d\udd0d DEBUG: Accounts response status:",t.status);const n=t.data;console.log("\ud83d\udd0d DEBUG: Accounts data:",n),f(n.accounts||[]),(null===(e=n.accounts)||void 0===e?void 0:e.length)>0&&(console.log("\ud83d\udd0d DEBUG: Setting selected account to:",n.accounts[0].AccountID),h(n.accounts[0].AccountID)),x(null)}catch(t){console.error("\ud83d\udd0d DEBUG: Accounts error:",t),x("Failed to load accounts. Please ensure you are authenticated."),console.error("Accounts error:",t)}finally{v(!1)}},M=async e=>{if(e)try{var t,n;console.log("\ud83d\udd25 DEBUG: STARTING loadPortfolioData for account:",e),console.log("\ud83d\udd25 DEBUG: API base URL:",Xw),v(!0),console.log("\ud83d\udd25 DEBUG: Making API call immediately...");const r="".concat(Xw,"/tradestation/accounts/").concat(e,"/positions-simple");console.log("\ud83d\udd25 DEBUG: About to fetch:",r);const a=await fetch(r,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(console.log("\ud83d\udd0d DEBUG: Portfolio response status:",a.status),!a.ok)throw new Error("HTTP error! status: ".concat(a.status));const o=await a.json();if(console.log("\ud83d\udd0d DEBUG: Portfolio data received, positions:",(null===(t=o.data)||void 0===t||null===(n=t.positions)||void 0===n?void 0:n.length)||0),!o.data)throw new Error("Invalid data structure received");y(o.data),x(null),console.log("\ud83d\udd0d DEBUG: Real TradeStation data loaded successfully")}catch(r){console.error("\ud83d\udd0d DEBUG: Portfolio loading error:",r),x("Failed to load portfolio data: ".concat(r.message))}finally{v(!1)}};(0,t.useEffect)((()=>{p&&(console.log("\ud83d\udd25 DEBUG: useEffect triggered for selectedAccount:",p),M(p))}),[p]);const D=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e||0),L=e=>"".concat(e>=0?"+":"").concat((e||0).toFixed(2),"%"),R=e=>new Intl.NumberFormat("en-US").format(e||0),I=e=>e&&0!==e?e>0?"text-green-600":"text-red-600":"text-gray-600",z=e=>{if(!e)return[];switch(w){case"stocks":return e.filter((e=>"STOCK"===e.asset_type||"EQ"===e.asset_type||!e.asset_type));case"options":return e.filter((e=>"STOCKOPTION"===e.asset_type||"OPT"===e.asset_type));default:return e}},F=e=>e.reduce(((e,t)=>{const n=(t.average_price||0)*Math.abs(t.quantity||0);return{quantity:e.quantity+Math.abs(t.quantity||0),marketValue:e.marketValue+(t.market_value||0),totalCost:e.totalCost+n,unrealizedPnl:e.unrealizedPnl+(t.unrealized_pnl||0),positionCount:e.positionCount+1}}),{quantity:0,marketValue:0,totalCost:0,unrealizedPnl:0,positionCount:0}),B=e=>(e.average_price||0)*Math.abs(e.quantity||0),U=e=>{if(null===m||void 0===m||!m.positions)return;const t=(e=>{const t=z(e);if(console.log("\ud83d\udd0d DEBUG: Original positions count:",(null===e||void 0===e?void 0:e.length)||0),console.log("\ud83d\udd0d DEBUG: Asset filter:",w),console.log("\ud83d\udd0d DEBUG: Filtered positions count:",(null===t||void 0===t?void 0:t.length)||0),"none"===N)return{"All Positions":t};const n={};t.forEach((e=>{const t=((e,t)=>{switch(t){case"symbol":return e.symbol.charAt(0).toUpperCase();case"position_type":return e.quantity>0?"Long Positions":"Short Positions";default:return"All Positions"}})(e,N);n[t]||(n[t]=[]),n[t].push(e)}));const r={};return Object.keys(n).sort().forEach((e=>{r[e]=n[e]})),r})(m.positions),n=Object.keys(t);O(e?new Set(n):new Set)};return(0,Uw.jsxs)("div",{className:"space-y-6 ".concat(T?"text-white":"text-gray-800"),children:[(0,Uw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Uw.jsxs)("h2",{className:"text-3xl font-bold flex items-center gap-3",children:[(0,Uw.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-emerald-500 to-green-600 rounded-lg flex items-center justify-center",children:"\ud83d\udcca"}),"Live Portfolio"]}),(0,Uw.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Uw.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uw.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Show:"}),(0,Uw.jsxs)("select",{value:w,onChange:e=>{j(e.target.value),O(new Set)},className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Uw.jsx)("option",{value:"all",children:"All Positions"}),(0,Uw.jsx)("option",{value:"stocks",children:"Stocks Only"}),(0,Uw.jsx)("option",{value:"options",children:"Options Only"})]})]}),(0,Uw.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uw.jsx)("button",{onClick:()=>_(!P),className:"px-3 py-2 text-sm border rounded-lg transition-colors ".concat(P?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50"),children:"Group"}),P&&(0,Uw.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uw.jsxs)("select",{value:N,onChange:e=>{S(e.target.value),"none"!==e.target.value&&setTimeout((()=>U(!0)),100)},className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Uw.jsx)("option",{value:"none",children:"No Grouping"}),(0,Uw.jsx)("option",{value:"symbol",children:"By Symbol"}),(0,Uw.jsx)("option",{value:"position_type",children:"By Position Type"})]}),"none"!==N&&(0,Uw.jsxs)(Uw.Fragment,{children:[(0,Uw.jsx)("button",{onClick:()=>U(!0),className:"px-2 py-2 text-xs border border-gray-300 rounded hover:bg-gray-50",title:"Expand All",children:"\u229e"}),(0,Uw.jsx)("button",{onClick:()=>U(!1),className:"px-2 py-2 text-xs border border-gray-300 rounded hover:bg-gray-50",title:"Collapse All",children:"\u229f"})]})]})]}),d.length>0&&(0,Uw.jsx)("select",{value:p||"",onChange:e=>h(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:d.map((e=>(0,Uw.jsxs)("option",{value:e.AccountID,children:[e.AccountType," Account (",e.AccountID,")"]},e.AccountID)))}),(0,Uw.jsxs)("button",{onClick:()=>M(p),disabled:g||!p,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:opacity-50 flex items-center gap-2",children:[(0,Uw.jsx)(Ew.A,{className:"w-4 h-4 ".concat(g?"animate-spin":"")}),"Refresh"]})]})]}),b&&(0,Uw.jsx)("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded-lg",children:(0,Uw.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uw.jsx)(Rw,{className:"w-5 h-5"}),b]})}),g&&!m&&(0,Uw.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Uw.jsxs)("div",{className:"text-center",children:[(0,Uw.jsx)(Ew.A,{className:"w-8 h-8 animate-spin text-emerald-600 mx-auto mb-4"}),(0,Uw.jsx)("p",{children:"Loading portfolio data..."})]})}),m&&(0,Uw.jsxs)(Uw.Fragment,{children:[(0,Uw.jsx)("div",{className:"".concat(T?"bg-gray-800 border-gray-700":"bg-gradient-to-r from-blue-50 to-emerald-50 border-blue-200"," border rounded-lg p-6 shadow-lg"),children:(0,Uw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Uw.jsxs)("div",{className:"text-center",children:[(0,Uw.jsx)("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Portfolio Value"}),(0,Uw.jsx)("div",{className:"text-3xl font-bold text-blue-700",children:D((null===(e=m.portfolio_metrics)||void 0===e?void 0:e.total_market_value)||0)}),(0,Uw.jsxs)("div",{className:"flex items-center justify-center mt-1",children:[(0,Uw.jsx)(bw,{className:"w-4 h-4 text-blue-600 mr-1"}),(0,Uw.jsx)("span",{className:"text-xs text-gray-500",children:"Market Value"})]})]}),(0,Uw.jsxs)("div",{className:"text-center",children:[(0,Uw.jsx)("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Open P&L"}),(0,Uw.jsxs)("div",{className:"text-3xl font-bold ".concat(I(null===(n=m.portfolio_metrics)||void 0===n?void 0:n.total_unrealized_pnl)),children:[(null===(r=m.portfolio_metrics)||void 0===r?void 0:r.total_unrealized_pnl)>0?"+":"",D((null===(a=m.portfolio_metrics)||void 0===a?void 0:a.total_unrealized_pnl)||0)]}),(0,Uw.jsxs)("div",{className:"text-sm font-medium ".concat(I(null===(o=m.portfolio_metrics)||void 0===o?void 0:o.total_return_percent)),children:[(null===(i=m.portfolio_metrics)||void 0===i?void 0:i.total_return_percent)>0?"+":"",L((null===(l=m.portfolio_metrics)||void 0===l?void 0:l.total_return_percent)||0)]})]}),(0,Uw.jsxs)("div",{className:"text-center",children:[(0,Uw.jsx)("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Positions"}),(0,Uw.jsx)("div",{className:"text-3xl font-bold text-emerald-600",children:(null===(s=m.portfolio_metrics)||void 0===s?void 0:s.position_count)||0}),(0,Uw.jsxs)("div",{className:"flex items-center justify-center mt-1",children:[(0,Uw.jsx)(vw,{className:"w-4 h-4 text-emerald-600 mr-1"}),(0,Uw.jsx)("span",{className:"text-xs text-gray-500",children:"Active Holdings"})]})]}),(0,Uw.jsxs)("div",{className:"text-center",children:[(0,Uw.jsx)("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Account"}),(0,Uw.jsx)("div",{className:"text-2xl font-bold text-gray-700",children:p}),(0,Uw.jsxs)("div",{className:"flex items-center justify-center mt-1",children:[(0,Uw.jsx)(yw,{className:"w-4 h-4 text-gray-600 mr-1"}),(0,Uw.jsx)("span",{className:"text-xs text-gray-500",children:"Live Trading"})]})]})]})}),m.positions&&m.positions.length>0&&(0,Uw.jsxs)("div",{className:"text-sm text-gray-400 mb-2",children:["Positions: ",m.positions.length," | Scroll Container: Active"]}),m.positions&&m.positions.length>0&&(0,Uw.jsxs)("div",{className:"bg-gradient-to-b from-gray-800 to-gray-900 border-gray-700 border rounded-lg overflow-hidden shadow-lg w-full",children:[(0,Uw.jsx)("div",{className:"bg-gradient-to-r from-gray-700 to-gray-800 px-4 py-3 border-b border-gray-600",children:(0,Uw.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,Uw.jsx)(vw,{className:"w-5 h-5 text-emerald-600"}),"Positions (",m.positions.length,")"]})}),(0,Uw.jsx)("div",{className:"overflow-y-scroll border border-gray-600 rounded-lg bg-gray-900",style:{height:"70vh",minHeight:"500px",maxHeight:"70vh",scrollbarWidth:"thin",scrollbarColor:"#9ca3af #374151",overflowY:"scroll"},children:(0,Uw.jsxs)("table",{className:"w-full text-sm table-fixed",children:[(0,Uw.jsx)("thead",{children:(0,Uw.jsxs)("tr",{className:"bg-gradient-to-r from-gray-700 to-gray-800 text-gray-200 text-xs uppercase tracking-wider border-b border-gray-600",children:[(0,Uw.jsx)("th",{className:"px-3 py-3 text-left font-medium border-r border-gray-600 w-32 min-w-32",children:"Symbol"}),(0,Uw.jsx)("th",{className:"px-3 py-3 text-left font-medium border-r border-gray-600 w-48 min-w-48 truncate",children:"Description"}),(0,Uw.jsx)("th",{className:"px-3 py-3 text-center font-medium border-r border-gray-600 w-24 min-w-24",children:"Position"}),(0,Uw.jsx)("th",{className:"px-3 py-3 text-right font-medium border-r border-gray-600 w-28 min-w-28",children:"Open P/L"}),(0,Uw.jsx)("th",{className:"px-3 py-3 text-right font-medium border-r border-gray-600 w-24 min-w-24",children:"Avg Price"}),(0,Uw.jsx)("th",{className:"px-3 py-3 text-right font-medium border-r border-gray-600 w-32 min-w-32",children:"Today's P/L"}),(0,Uw.jsx)("th",{className:"px-3 py-3 text-right font-medium border-r border-gray-600 w-24 min-w-24",children:"P/L Qty"}),(0,Uw.jsx)("th",{className:"px-3 py-3 text-right font-medium border-r border-gray-600 w-24 min-w-24",children:"P/L %"}),(0,Uw.jsx)("th",{className:"px-3 py-3 text-right font-medium border-r border-gray-600 w-28 min-w-28",children:"Total Cost"}),(0,Uw.jsx)("th",{className:"px-3 py-3 text-right font-medium border-r border-gray-600 w-32 min-w-32",children:"Market Value"}),(0,Uw.jsx)("th",{className:"px-3 py-3 text-center font-medium w-20 min-w-20",children:"Qty"})]})}),(0,Uw.jsx)("tbody",{className:"".concat(T?"text-gray-200":"text-gray-800"),style:{minHeight:"600px"},children:(()=>{const e=(e=>{const t={};return e.forEach((e=>{const n=e.symbol.split(" ")[0].split(".")[0];t[n]||(t[n]={baseSymbol:n,positions:[],hasMultiplePositions:!1}),t[n].positions.push(e)})),Object.keys(t).forEach((e=>{t[e].hasMultiplePositions=t[e].positions.length>1})),t})(z(m.positions)),t=[];return Object.entries(e).forEach((e=>{let[n,r]=e;const a=A.has(n),{positions:o,hasMultiplePositions:i}=r;if(i){const e=o.reduce(((e,t)=>e+t.market_value),0),r=o.reduce(((e,t)=>e+t.unrealized_pnl),0);t.push((0,Uw.jsxs)("tr",{className:"bg-gradient-to-r from-blue-900 to-blue-800 hover:from-blue-850 hover:to-blue-750 transition-all duration-200 border-b-2 border-blue-600",children:[(0,Uw.jsx)("td",{className:"px-3 py-2 border-r border-gray-600 w-32 min-w-32",children:(0,Uw.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Uw.jsx)("button",{className:"text-gray-300 hover:text-white transition-colors flex-shrink-0",onClick:()=>{console.log("\ud83d\udd25 Toggle ".concat(n," - ").concat(o.length," positions")),(e=>{const t=new Set(A);t.has(e)?t.delete(e):t.add(e),E(t)})(n)},children:(0,Uw.jsx)("div",{className:"ts-double-arrow ".concat(a?"expanded":"")})}),(0,Uw.jsxs)("div",{className:"flex flex-col min-w-0 flex-1",children:[(0,Uw.jsx)("span",{className:"font-bold text-white text-base truncate",children:n}),(0,Uw.jsxs)("span",{className:"text-xs text-blue-200 truncate",children:[o.length," positions ",a?"\u25bc":"\u25b6"]})]})]})}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-left border-r border-gray-600 w-48 min-w-48",children:(0,Uw.jsxs)("div",{className:"text-sm text-blue-100 truncate",children:["GROUP: ",n]})}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-center border-r border-gray-600 w-24 min-w-24",children:(0,Uw.jsx)("div",{className:"text-sm font-medium text-blue-100",children:o.length})}),(0,Uw.jsxs)("td",{className:"px-3 py-2 text-right font-bold border-r border-gray-600 w-28 min-w-28 ".concat(I(r)," truncate"),children:[r>0?"+":"",D(r)]}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-right font-medium border-r border-gray-600 w-24 min-w-24 text-blue-100 truncate",children:"-"}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-right font-medium border-r border-gray-600 w-32 min-w-32 text-blue-100 truncate",children:"-"}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-right font-medium border-r border-gray-600 w-24 min-w-24 text-blue-100 truncate",children:"-"}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-right font-medium border-r border-gray-600 w-24 min-w-24 text-blue-100 truncate",children:"-"}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-right font-medium border-r border-gray-600 w-28 min-w-28 text-blue-100 truncate",children:"-"}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-right font-bold border-r border-gray-600 w-32 min-w-32 text-blue-100 truncate",children:D(e)}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-center font-medium w-20 min-w-20 text-blue-100 truncate",children:o.length})]},"ticker-".concat(n))),a&&o.forEach(((e,r)=>{t.push((0,Uw.jsxs)("tr",{className:"bg-gradient-to-r from-gray-750 to-gray-800 hover:from-gray-700 hover:to-gray-750 transition-all duration-200 border-b border-gray-600 border-l-4 border-l-cyan-400",children:[(0,Uw.jsx)("td",{className:"px-3 py-2 border-r border-gray-600 w-32 min-w-32",children:(0,Uw.jsx)("div",{className:"flex items-center gap-1 pl-8",children:(0,Uw.jsxs)("div",{className:"flex flex-col min-w-0 flex-1",children:[(0,Uw.jsx)("span",{className:"font-semibold text-cyan-300 text-sm truncate",children:e.symbol}),(0,Uw.jsx)("span",{className:"text-xs text-gray-500 uppercase truncate",children:e.asset_type||"POS"})]})})}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-left border-r border-gray-600 w-48 min-w-48",children:(0,Uw.jsx)("div",{className:"text-sm text-gray-300 truncate",children:e.description||"".concat(e.symbol," Position")})}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-center border-r border-gray-600 w-24 min-w-24",children:(0,Uw.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Uw.jsx)("span",{className:"text-xs font-medium px-1 py-0.5 rounded ".concat(e.quantity>0?"bg-green-700 text-green-200":"bg-red-700 text-red-200"),children:e.quantity>0?"LONG":"SHORT"}),(0,Uw.jsx)("span",{className:"text-sm font-medium text-gray-200",children:Math.abs(e.quantity)})]})}),(0,Uw.jsxs)("td",{className:"px-3 py-2 text-right font-semibold border-r border-gray-600 w-28 min-w-28 ".concat(I(e.unrealized_pnl)," truncate"),children:[e.unrealized_pnl>0?"+":"",D(e.unrealized_pnl)]}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-right font-medium border-r border-gray-600 w-24 min-w-24 text-gray-200 truncate",children:D(e.average_price)}),(0,Uw.jsxs)("td",{className:"px-3 py-2 text-right font-semibold border-r border-gray-600 w-32 min-w-32 ".concat(I(e.daily_pnl||0)," truncate"),children:[(e.daily_pnl||0)>0?"+":"",D(e.daily_pnl||0)]}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-right font-medium border-r border-gray-600 w-24 min-w-24 text-gray-200 truncate",children:R(Math.abs(e.quantity))}),(0,Uw.jsxs)("td",{className:"px-3 py-2 text-right font-semibold border-r border-gray-600 w-24 min-w-24 ".concat(I(e.unrealized_pnl_percent)," truncate"),children:[e.unrealized_pnl_percent>0?"+":"",L(e.unrealized_pnl_percent)]}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-right font-medium border-r border-gray-600 w-28 min-w-28 text-gray-200 truncate",children:D(B(e))}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-right font-semibold border-r border-gray-600 w-32 min-w-32 text-gray-200 truncate",children:D(e.market_value)}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-center font-medium w-20 min-w-20 text-gray-200 truncate",children:R(Math.abs(e.quantity))})]},"".concat(n,"-pos-").concat(r)))}))}else{const e=o[0];t.push((0,Uw.jsxs)("tr",{className:"bg-gradient-to-r from-gray-800 to-gray-900 hover:from-gray-750 hover:to-gray-850 transition-all duration-200 border-b border-gray-600",children:[(0,Uw.jsx)("td",{className:"px-3 py-2 border-r border-gray-600 w-32 min-w-32",children:(0,Uw.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Uw.jsx)("div",{className:"w-4 h-4 flex-shrink-0"}),(0,Uw.jsxs)("div",{className:"flex flex-col min-w-0 flex-1",children:[(0,Uw.jsx)("span",{className:"font-semibold text-blue-300 text-sm truncate",children:e.symbol}),(0,Uw.jsx)("span",{className:"text-xs text-gray-400 uppercase truncate",children:e.asset_type||"SINGLE"})]})]})}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-left border-r border-gray-600 w-48 min-w-48",children:(0,Uw.jsx)("div",{className:"text-sm text-gray-300 truncate",children:e.description||"".concat(e.symbol," Position")})}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-center border-r border-gray-600 w-24 min-w-24",children:(0,Uw.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Uw.jsx)("span",{className:"text-xs font-medium px-1 py-0.5 rounded ".concat(e.quantity>0?"bg-green-700 text-green-200":"bg-red-700 text-red-200"),children:e.quantity>0?"LONG":"SHORT"}),(0,Uw.jsx)("span",{className:"text-sm font-medium text-gray-200",children:Math.abs(e.quantity)})]})}),(0,Uw.jsxs)("td",{className:"px-3 py-2 text-right font-semibold border-r border-gray-600 w-28 min-w-28 ".concat(I(e.unrealized_pnl)," truncate"),children:[e.unrealized_pnl>0?"+":"",D(e.unrealized_pnl)]}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-right font-medium border-r border-gray-600 w-24 min-w-24 text-gray-200 truncate",children:D(e.average_price)}),(0,Uw.jsxs)("td",{className:"px-3 py-2 text-right font-semibold border-r border-gray-600 w-32 min-w-32 ".concat(I(e.daily_pnl||0)," truncate"),children:[(e.daily_pnl||0)>0?"+":"",D(e.daily_pnl||0)]}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-right font-medium border-r border-gray-600 w-24 min-w-24 text-gray-200 truncate",children:R(Math.abs(e.quantity))}),(0,Uw.jsxs)("td",{className:"px-3 py-2 text-right font-semibold border-r border-gray-600 w-24 min-w-24 ".concat(I(e.unrealized_pnl_percent)," truncate"),children:[e.unrealized_pnl_percent>0?"+":"",L(e.unrealized_pnl_percent)]}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-right font-medium border-r border-gray-600 w-28 min-w-28 text-gray-200 truncate",children:D(B(e))}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-right font-semibold border-r border-gray-600 w-32 min-w-32 text-gray-200 truncate",children:D(e.market_value)}),(0,Uw.jsx)("td",{className:"px-3 py-2 text-center font-medium w-20 min-w-20 text-gray-200 truncate",children:R(Math.abs(e.quantity))})]},"single-".concat(n)))}})),t})()}),(0,Uw.jsx)("tfoot",{className:"".concat(T?"bg-gray-800 border-gray-600":"bg-gray-100 border-gray-300"," border-t-2"),children:(0,Uw.jsx)("tr",{className:"font-semibold text-base",children:(()=>{const e=z(m.positions),t=F(e),n=t.totalCost>0?(t.marketValue-t.totalCost)/t.totalCost*100:0;return(0,Uw.jsxs)(Uw.Fragment,{children:[(0,Uw.jsx)("td",{className:"px-4 py-4 font-bold",children:"TOTALS"}),(0,Uw.jsx)("td",{className:"px-4 py-4 text-center font-bold",children:t.positionCount}),(0,Uw.jsx)("td",{className:"px-4 py-4 text-right",children:"-"}),(0,Uw.jsx)("td",{className:"px-4 py-4 text-right",children:"-"}),(0,Uw.jsx)("td",{className:"px-4 py-4 text-right font-bold",children:D(t.totalCost)}),(0,Uw.jsx)("td",{className:"px-4 py-4 text-right font-bold",children:D(t.marketValue)}),(0,Uw.jsxs)("td",{className:"px-4 py-4 text-right font-bold ".concat(I(t.unrealizedPnl)),children:[t.unrealizedPnl>0?"+":"",D(t.unrealizedPnl)]}),(0,Uw.jsxs)("td",{className:"px-4 py-4 text-right font-bold ".concat(I(n)),children:[n>0?"+":"",L(n)]}),(0,Uw.jsx)("td",{className:"px-4 py-4 text-center font-bold",children:"-"})]})})()})})]})}),(0,Uw.jsx)("div",{className:"".concat(T?"bg-gray-800 border-gray-700":"bg-blue-50 border-blue-200"," border-t px-4 py-3"),children:(0,Uw.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(()=>{const e=z(m.positions),t=F(e),n=t.totalCost>0?(t.marketValue-t.totalCost)/t.totalCost*100:0;return(0,Uw.jsxs)("div",{className:"flex gap-8",children:[(0,Uw.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uw.jsxs)("span",{className:"font-medium",children:["stocks"===w?"Stocks":"options"===w?"Options":"Total"," Portfolio Value:"]}),(0,Uw.jsx)("span",{className:"font-bold text-lg text-blue-600",children:D(t.marketValue)})]}),(0,Uw.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uw.jsx)("span",{className:"font-medium",children:"P&L:"}),(0,Uw.jsxs)("span",{className:"font-bold text-lg ".concat(I(t.unrealizedPnl)),children:[t.unrealizedPnl>0?"+":"",D(t.unrealizedPnl),(0,Uw.jsxs)("span",{className:"text-sm ml-1",children:["(",n>0?"+":"",L(n),")"]})]})]}),(0,Uw.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uw.jsx)("span",{className:"font-medium",children:"Positions:"}),(0,Uw.jsx)("span",{className:"font-bold text-lg text-emerald-600",children:t.positionCount})]})]})})(),(0,Uw.jsxs)("div",{className:"text-xs text-gray-500",children:["Last updated: ",(new Date).toLocaleTimeString()]})]})})]}),m.risk_analysis&&(0,Uw.jsxs)("div",{className:"".concat(T?"bg-gray-800 border-gray-700":"bg-white border-gray-200"," border rounded-xl p-6"),children:[(0,Uw.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,Uw.jsx)(yw,{className:"w-5 h-5 text-orange-500"}),"Risk Analysis"]}),(0,Uw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Uw.jsxs)("div",{className:"text-center",children:[(0,Uw.jsx)("div",{className:"text-2xl font-bold ".concat("LOW"===m.risk_analysis.risk_level?"text-green-600":"MEDIUM"===m.risk_analysis.risk_level?"text-yellow-600":"text-red-600"),children:m.risk_analysis.risk_level}),(0,Uw.jsx)("div",{className:"text-sm text-gray-500",children:"Risk Level"})]}),(0,Uw.jsxs)("div",{className:"text-center",children:[(0,Uw.jsxs)("div",{className:"text-2xl font-bold text-orange-600",children:[m.risk_analysis.risk_score||0,"/100"]}),(0,Uw.jsx)("div",{className:"text-sm text-gray-500",children:"Risk Score"})]}),(0,Uw.jsxs)("div",{className:"text-center",children:[(0,Uw.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[(null===(c=m.risk_analysis.concentration_analysis)||void 0===c||null===(u=c.max_position_weight)||void 0===u?void 0:u.toFixed(1))||0,"%"]}),(0,Uw.jsx)("div",{className:"text-sm text-gray-500",children:"Max Position"})]})]})]})]}),!g&&!b&&0===d.length&&(0,Uw.jsxs)("div",{className:"text-center py-12",children:[(0,Uw.jsx)(gw,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Uw.jsx)("h3",{className:"text-lg font-medium text-gray-500 mb-2",children:"No Accounts Found"}),(0,Uw.jsx)("p",{className:"text-gray-400",children:"Please authenticate with TradeStation first"})]})]})},gj=()=>{var e,n,r,a,o,i,l,s,c,u;const[d,f]=(0,t.useState)([]),[p,h]=(0,t.useState)(null),[m,y]=(0,t.useState)(null),[g,v]=(0,t.useState)(!1),[b,x]=(0,t.useState)(null),{isDarkMode:w}=Gw();(0,t.useEffect)((()=>{j()}),[]);const j=async()=>{try{var e;v(!0);const t=(await pt.A.get("".concat(Xw,"/tradestation/accounts"))).data;f(t.accounts||[]),(null===(e=t.accounts)||void 0===e?void 0:e.length)>0&&h(t.accounts[0].AccountID),x(null)}catch(t){x("Failed to load accounts. Please ensure you are authenticated."),console.error("Accounts error:",t)}finally{v(!1)}},N=async e=>{if(e)try{v(!0),console.log("\ud83d\udd0d DEBUG: Loading balance data for account:",e);const t="".concat(Xw,"/tradestation/accounts/").concat(e,"/balances");console.log("\ud83d\udd0d DEBUG: Balance API URL:",t);const n=(await pt.A.get(t)).data;if(console.log("\ud83d\udd0d DEBUG: Balance response:",n),!(n.balances&&n.balances.Balances&&n.balances.Balances.length>0))throw console.log("\ud83d\udd0d DEBUG: No balance data found, data structure:",n),new Error("No balance data found in response");console.log("\ud83d\udd0d DEBUG: Setting balance data:",n.balances.Balances[0]),y(n.balances.Balances[0]),x(null)}catch(t){console.error("\ud83d\udd0d DEBUG: Balance error:",t),x("Failed to load balance data: ".concat(t.message)),console.error("Balance error:",t)}finally{console.log("\ud83d\udd0d DEBUG: Setting loading to false"),v(!1)}};(0,t.useEffect)((()=>{p&&N(p)}),[p]);const S=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e||0);return(0,Uw.jsxs)("div",{className:"p-4 ".concat(w?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"," min-h-screen w-full max-w-none"),children:[(0,Uw.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Uw.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,Uw.jsx)(bw,{className:"w-6 h-6 text-green-500"}),"Account Balance"]}),(0,Uw.jsxs)("div",{className:"flex items-center gap-3",children:[d.length>0&&(0,Uw.jsx)("select",{value:p||"",onChange:e=>h(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:d.map((e=>(0,Uw.jsxs)("option",{value:e.AccountID,children:[e.AccountType," Account (",e.AccountID,")"]},e.AccountID)))}),(0,Uw.jsxs)("button",{onClick:()=>N(p),disabled:g,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400 flex items-center gap-2",children:[(0,Uw.jsx)(Ew.A,{className:"w-4 h-4 ".concat(g?"animate-spin":"")}),"Refresh"]})]})]}),b&&(0,Uw.jsx)("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:b}),g&&(0,Uw.jsxs)("div",{className:"text-center py-12",children:[(0,Uw.jsx)(Ew.A,{className:"w-8 h-8 text-green-500 animate-spin mx-auto mb-4"}),(0,Uw.jsx)("p",{children:"Loading balance data..."})]}),m&&!g&&(0,Uw.jsxs)("div",{className:"space-y-6",children:[(0,Uw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,Uw.jsx)("div",{className:"".concat(w?"bg-gray-800 border-gray-700":"bg-white border-gray-200"," border rounded-xl p-6 shadow-lg"),children:(0,Uw.jsxs)("div",{className:"text-center",children:[(0,Uw.jsx)("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Cash Balance"}),(0,Uw.jsx)("div",{className:"text-3xl font-bold text-green-600",children:S(m.CashBalance)}),(0,Uw.jsxs)("div",{className:"flex items-center justify-center mt-1",children:[(0,Uw.jsx)(bw,{className:"w-4 h-4 text-green-600 mr-1"}),(0,Uw.jsx)("span",{className:"text-xs text-gray-500",children:"Available Cash"})]})]})}),(0,Uw.jsx)("div",{className:"".concat(w?"bg-gray-800 border-gray-700":"bg-white border-gray-200"," border rounded-xl p-6 shadow-lg"),children:(0,Uw.jsxs)("div",{className:"text-center",children:[(0,Uw.jsx)("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Equity"}),(0,Uw.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:S(m.Equity)}),(0,Uw.jsxs)("div",{className:"flex items-center justify-center mt-1",children:[(0,Uw.jsx)(Pw.A,{className:"w-4 h-4 text-blue-600 mr-1"}),(0,Uw.jsx)("span",{className:"text-xs text-gray-500",children:"Net Worth"})]})]})}),(0,Uw.jsx)("div",{className:"".concat(w?"bg-gray-800 border-gray-700":"bg-white border-gray-200"," border rounded-xl p-6 shadow-lg"),children:(0,Uw.jsxs)("div",{className:"text-center",children:[(0,Uw.jsx)("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Market Value"}),(0,Uw.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:S(m.MarketValue)}),(0,Uw.jsxs)("div",{className:"flex items-center justify-center mt-1",children:[(0,Uw.jsx)(iw,{className:"w-4 h-4 text-purple-600 mr-1"}),(0,Uw.jsx)("span",{className:"text-xs text-gray-500",children:"Positions Value"})]})]})}),(0,Uw.jsx)("div",{className:"".concat(w?"bg-gray-800 border-gray-700":"bg-white border-gray-200"," border rounded-xl p-6 shadow-lg"),children:(0,Uw.jsxs)("div",{className:"text-center",children:[(0,Uw.jsx)("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Today's P&L"}),(0,Uw.jsxs)("div",{className:"text-3xl font-bold ".concat(m.TodaysProfitLoss>=0?"text-green-600":"text-red-600"),children:[m.TodaysProfitLoss>=0?"+":"",S(m.TodaysProfitLoss)]}),(0,Uw.jsxs)("div",{className:"flex items-center justify-center mt-1",children:[(0,Uw.jsx)(Pw.A,{className:"w-4 h-4 ".concat(m.TodaysProfitLoss>=0?"text-green-600":"text-red-600"," mr-1")}),(0,Uw.jsx)("span",{className:"text-xs text-gray-500",children:"Daily Change"})]})]})})]}),(0,Uw.jsxs)("div",{className:"".concat(w?"bg-gray-800 border-gray-700":"bg-white border-gray-200"," border rounded-xl p-6 shadow-lg"),children:[(0,Uw.jsxs)("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[(0,Uw.jsx)(zw,{className:"w-5 h-5 text-blue-500"}),"Buying Power"]}),(0,Uw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Uw.jsxs)("div",{className:"".concat(w?"bg-gray-700":"bg-blue-50"," rounded-lg p-6"),children:[(0,Uw.jsx)("h4",{className:"text-lg font-semibold text-blue-600 mb-4",children:"Stock Buying Power"}),(0,Uw.jsxs)("div",{className:"space-y-3",children:[(0,Uw.jsxs)("div",{className:"flex justify-between",children:[(0,Uw.jsx)("span",{className:"text-gray-300 font-medium",children:"Day Trading:"}),(0,Uw.jsx)("span",{className:"font-semibold",children:S(m.BuyingPower)})]}),(0,Uw.jsxs)("div",{className:"flex justify-between",children:[(0,Uw.jsx)("span",{className:"text-gray-300 font-medium",children:"Overnight:"}),(0,Uw.jsx)("span",{className:"font-semibold",children:S(null===(e=m.BalanceDetail)||void 0===e?void 0:e.OvernightBuyingPower)})]}),(0,Uw.jsxs)("div",{className:"flex justify-between border-t pt-2",children:[(0,Uw.jsx)("span",{className:"text-gray-200 font-semibold",children:"Total Available:"}),(0,Uw.jsx)("span",{className:"font-bold text-blue-600",children:S(m.BuyingPower)})]})]})]}),(0,Uw.jsxs)("div",{className:"".concat(w?"bg-gray-700":"bg-green-50"," rounded-lg p-6"),children:[(0,Uw.jsx)("h4",{className:"text-lg font-semibold text-green-600 mb-4",children:"Options Buying Power"}),(0,Uw.jsxs)("div",{className:"space-y-3",children:[(0,Uw.jsxs)("div",{className:"flex justify-between",children:[(0,Uw.jsx)("span",{className:"text-gray-300 font-medium",children:"Options BP:"}),(0,Uw.jsx)("span",{className:"font-semibold",children:S(null===(n=m.BalanceDetail)||void 0===n?void 0:n.OptionBuyingPower)})]}),(0,Uw.jsxs)("div",{className:"flex justify-between",children:[(0,Uw.jsx)("span",{className:"text-gray-300 font-medium",children:"Options Market Value:"}),(0,Uw.jsx)("span",{className:"font-semibold",children:S(null===(r=m.BalanceDetail)||void 0===r?void 0:r.OptionsMarketValue)})]}),(0,Uw.jsxs)("div",{className:"flex justify-between border-t pt-2",children:[(0,Uw.jsx)("span",{className:"text-gray-200 font-semibold",children:"Available for Options:"}),(0,Uw.jsx)("span",{className:"font-bold text-green-600",children:S(null===(a=m.BalanceDetail)||void 0===a?void 0:a.OptionBuyingPower)})]})]})]})]})]}),(0,Uw.jsxs)("div",{className:"".concat(w?"bg-gray-800 border-gray-700":"bg-white border-gray-200"," border rounded-xl p-6 shadow-lg"),children:[(0,Uw.jsxs)("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[(0,Uw.jsx)(gw,{className:"w-5 h-5 text-gray-500"}),"Account Details"]}),(0,Uw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("div",{className:"text-sm text-gray-300 font-medium mb-1",children:"Account Type"}),(0,Uw.jsx)("div",{className:"font-semibold",children:m.AccountType})]}),(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("div",{className:"text-sm text-gray-300 font-medium mb-1",children:"Day Trades"}),(0,Uw.jsx)("div",{className:"font-semibold",children:(null===(o=m.BalanceDetail)||void 0===o?void 0:o.DayTrades)||0})]}),(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("div",{className:"text-sm text-gray-300 font-medium mb-1",children:"Maintenance Rate"}),(0,Uw.jsxs)("div",{className:"font-semibold",children:[null===(i=m.BalanceDetail)||void 0===i?void 0:i.MaintenanceRate,"%"]})]}),(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("div",{className:"text-sm text-gray-300 font-medium mb-1",children:"Required Margin"}),(0,Uw.jsx)("div",{className:"font-semibold",children:S(null===(l=m.BalanceDetail)||void 0===l?void 0:l.RequiredMargin)})]}),(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("div",{className:"text-sm text-gray-300 font-medium mb-1",children:"Cost of Positions"}),(0,Uw.jsx)("div",{className:"font-semibold",children:S(null===(s=m.BalanceDetail)||void 0===s?void 0:s.CostOfPositions)})]}),(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("div",{className:"text-sm text-gray-300 font-medium mb-1",children:"Unrealized P&L"}),(0,Uw.jsx)("div",{className:"font-semibold ".concat((null===(c=m.BalanceDetail)||void 0===c?void 0:c.UnrealizedProfitLoss)>=0?"text-green-600":"text-red-600"),children:S(null===(u=m.BalanceDetail)||void 0===u?void 0:u.UnrealizedProfitLoss)})]})]})]})]}),!g&&!b&&0===d.length&&(0,Uw.jsxs)("div",{className:"text-center py-12",children:[(0,Uw.jsx)(gw,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Uw.jsx)("h3",{className:"text-lg font-medium text-gray-500 mb-2",children:"Authentication Required"}),(0,Uw.jsx)("p",{className:"text-gray-400 mb-4",children:"Please authenticate with TradeStation to view account balance"}),(0,Uw.jsxs)("button",{onClick:()=>window.location.href="#ts-auth",className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 mx-auto",children:[(0,Uw.jsx)(gw,{className:"w-4 h-4"}),"Go to Authentication"]})]})]})},vj=()=>{var e,n,r,o;const[i,l]=(0,t.useState)([]),[s,c]=(0,t.useState)(null),[u,d]=(0,t.useState)({symbol:"",quantity:"",side:"Buy",order_type:"Market",price:"",time_in_force:"DAY"}),[f,p]=(0,t.useState)(null),[h,m]=(0,t.useState)(!1),[y,g]=(0,t.useState)(null),[v,b]=(0,t.useState)(null),{isDarkMode:x}=Gw();(0,t.useEffect)((()=>{w()}),[]);const w=async()=>{try{var e;const t=await pt.A.get("".concat(Xw,"/tradestation/accounts"));l(t.data.accounts||[]),(null===(e=t.data.accounts)||void 0===e?void 0:e.length)>0&&c(t.data.accounts[0].AccountID)}catch(t){g("Failed to load accounts. Please ensure you are authenticated."),console.error("Accounts error:",t)}},j=async()=>{if(s&&u.symbol&&u.quantity)try{m(!0);const e=await pt.A.post("".concat(Xw,"/tradestation/accounts/").concat(s,"/orders/validate"),u);p(e.data.validation),g(null)}catch(e){g("Order validation failed"),console.error("Validation error:",e)}finally{m(!1)}else g("Please fill in all required fields")},N=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null!==f&&void 0!==f&&f.valid||e)try{m(!0);const t=await pt.A.post("".concat(Xw,"/tradestation/accounts/").concat(s,"/orders?force=").concat(e),u);"success"===t.data.status?(b("Order placed successfully!"),d({symbol:"",quantity:"",side:"Buy",order_type:"Market",price:"",time_in_force:"DAY"}),p(null)):g(t.data.message||"Failed to place order")}catch(t){g("Failed to place order"),console.error("Order error:",t)}finally{m(!1)}else await j()},S=(e,t)=>{d((n=>(0,a.A)((0,a.A)({},n),{},{[e]:t}))),p(null),g(null),b(null)};return(0,Uw.jsxs)("div",{className:"space-y-6 ".concat(x?"text-white":"text-gray-800"),children:[(0,Uw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Uw.jsxs)("h2",{className:"text-3xl font-bold flex items-center gap-3",children:[(0,Uw.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-red-500 to-pink-600 rounded-lg flex items-center justify-center",children:"\u26a1"}),"Live Trading"]}),i.length>0&&(0,Uw.jsx)("select",{value:s||"",onChange:e=>c(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:i.map((e=>(0,Uw.jsxs)("option",{value:e.AccountID,children:[e.AccountType," Account (",e.AccountID,")"]},e.AccountID)))})]}),y&&(0,Uw.jsx)("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded-lg",children:(0,Uw.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uw.jsx)(Rw,{className:"w-5 h-5"}),y]})}),v&&(0,Uw.jsx)("div",{className:"bg-green-100 border border-green-300 text-green-700 px-4 py-3 rounded-lg",children:(0,Uw.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uw.jsx)(Rw,{className:"w-5 h-5"}),v]})}),(0,Uw.jsxs)("div",{className:"".concat(x?"bg-gray-800 border-gray-700":"bg-white border-gray-200"," border rounded-xl p-6"),children:[(0,Uw.jsx)("h3",{className:"text-xl font-semibold mb-6",children:"Place Order"}),(0,Uw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Symbol"}),(0,Uw.jsx)("input",{type:"text",value:u.symbol,onChange:e=>S("symbol",e.target.value.toUpperCase()),placeholder:"e.g., AAPL",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Quantity"}),(0,Uw.jsx)("input",{type:"number",value:u.quantity,onChange:e=>S("quantity",e.target.value),placeholder:"Number of shares",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Side"}),(0,Uw.jsxs)("select",{value:u.side,onChange:e=>S("side",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[(0,Uw.jsx)("option",{value:"Buy",children:"Buy"}),(0,Uw.jsx)("option",{value:"Sell",children:"Sell"}),(0,Uw.jsx)("option",{value:"SellShort",children:"Sell Short"}),(0,Uw.jsx)("option",{value:"BuyToCover",children:"Buy to Cover"})]})]}),(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Order Type"}),(0,Uw.jsxs)("select",{value:u.order_type,onChange:e=>S("order_type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[(0,Uw.jsx)("option",{value:"Market",children:"Market"}),(0,Uw.jsx)("option",{value:"Limit",children:"Limit"}),(0,Uw.jsx)("option",{value:"StopMarket",children:"Stop Market"}),(0,Uw.jsx)("option",{value:"StopLimit",children:"Stop Limit"})]})]}),("Limit"===u.order_type||"StopLimit"===u.order_type)&&(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Price"}),(0,Uw.jsx)("input",{type:"number",step:"0.01",value:u.price,onChange:e=>S("price",e.target.value),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Time in Force"}),(0,Uw.jsxs)("select",{value:u.time_in_force,onChange:e=>S("time_in_force",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[(0,Uw.jsx)("option",{value:"DAY",children:"Day"}),(0,Uw.jsx)("option",{value:"GTC",children:"Good Till Canceled"}),(0,Uw.jsx)("option",{value:"IOC",children:"Immediate or Cancel"}),(0,Uw.jsx)("option",{value:"FOK",children:"Fill or Kill"})]})]})]}),(0,Uw.jsxs)("div",{className:"mt-6 flex gap-3",children:[(0,Uw.jsxs)("button",{onClick:j,disabled:h||!s||!u.symbol||!u.quantity,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[(0,Uw.jsx)(yw,{className:"w-4 h-4"}),"Validate Order"]}),(0,Uw.jsxs)("button",{onClick:()=>N(!1),disabled:h||!(null!==f&&void 0!==f&&f.valid),className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 flex items-center gap-2",children:[(0,Uw.jsx)(xw.A,{className:"w-4 h-4"}),h?"Placing...":"Place Order"]})]})]}),f&&(0,Uw.jsxs)("div",{className:"".concat(x?"bg-gray-800 border-gray-700":"bg-white border-gray-200"," border rounded-xl p-6"),children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Order Validation"}),(0,Uw.jsxs)("div",{className:"space-y-4",children:[(0,Uw.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uw.jsx)("span",{className:"text-sm font-medium",children:"Status:"}),(0,Uw.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat(f.valid?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:f.valid?"VALID":"INVALID"})]}),(0,Uw.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uw.jsx)("span",{className:"text-sm font-medium",children:"Risk Assessment:"}),(0,Uw.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("LOW"===f.risk_assessment?"bg-green-100 text-green-800":"MEDIUM"===f.risk_assessment?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:f.risk_assessment})]}),(0,Uw.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uw.jsx)("span",{className:"text-sm font-medium",children:"Estimated Cost:"}),(0,Uw.jsxs)("span",{className:"font-medium",children:["$",(null===(e=f.estimated_cost)||void 0===e?void 0:e.toFixed(2))||"0.00"]})]}),(null===(n=f.warnings)||void 0===n?void 0:n.length)>0&&(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("span",{className:"text-sm font-medium text-amber-600",children:"Warnings:"}),(0,Uw.jsx)("ul",{className:"mt-2 space-y-1",children:f.warnings.map(((e,t)=>(0,Uw.jsxs)("li",{className:"text-sm text-amber-600 flex items-start gap-2",children:[(0,Uw.jsx)(Rw,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),e]},t)))})]}),(null===(r=f.errors)||void 0===r?void 0:r.length)>0&&(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("span",{className:"text-sm font-medium text-red-600",children:"Errors:"}),(0,Uw.jsx)("ul",{className:"mt-2 space-y-1",children:f.errors.map(((e,t)=>(0,Uw.jsxs)("li",{className:"text-sm text-red-600 flex items-start gap-2",children:[(0,Uw.jsx)(Rw,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),e]},t)))})]}),(null===(o=f.warnings)||void 0===o?void 0:o.length)>0&&f.valid&&(0,Uw.jsxs)("button",{onClick:()=>N(!0),disabled:h,className:"mt-4 px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 disabled:opacity-50 flex items-center gap-2",children:[(0,Uw.jsx)(xw.A,{className:"w-4 h-4"}),"Force Place Order"]})]})]}),!s&&0===i.length&&(0,Uw.jsxs)("div",{className:"text-center py-12",children:[(0,Uw.jsx)(gw,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Uw.jsx)("h3",{className:"text-lg font-medium text-gray-500 mb-2",children:"No Trading Accounts"}),(0,Uw.jsx)("p",{className:"text-gray-400",children:"Please authenticate with TradeStation first"})]})]})},bj=()=>{const[e,n]=(0,t.useState)([]),[r,o]=(0,t.useState)(null),[i,l]=(0,t.useState)([]),[s,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(null),[f,p]=(0,t.useState)({status:"",symbol:"",days_back:7}),{isDarkMode:h}=Gw();(0,t.useEffect)((()=>{m()}),[]),(0,t.useEffect)((()=>{r&&y()}),[r,f]);const m=async()=>{try{var e;const t=await pt.A.get("".concat(Xw,"/tradestation/accounts"));n(t.data.accounts||[]),(null===(e=t.data.accounts)||void 0===e?void 0:e.length)>0&&o(t.data.accounts[0].AccountID)}catch(t){d("Failed to load accounts. Please ensure you are authenticated."),console.error("Accounts error:",t)}},y=async()=>{if(r)try{c(!0);const e=new URLSearchParams;f.status&&e.append("status",f.status),f.symbol&&e.append("symbol",f.symbol),e.append("days_back",f.days_back);const t=await pt.A.get("".concat(Xw,"/tradestation/accounts/").concat(r,"/orders?").concat(e));l(t.data.orders||[]),d(null)}catch(e){d("Failed to load orders"),console.error("Orders error:",e)}finally{c(!1)}},g=e=>{switch(e){case"FLL":return"bg-green-100 text-green-800";case"PND":return"bg-yellow-100 text-yellow-800";case"PFL":return"bg-blue-100 text-blue-800";case"CAN":default:return"bg-gray-100 text-gray-800";case"REJ":return"bg-red-100 text-red-800"}},v=e=>{switch(e){case"FLL":return"Filled";case"PND":return"Pending";case"PFL":return"Partially Filled";case"CAN":return"Cancelled";case"REJ":return"Rejected";default:return e}};return(0,Uw.jsxs)("div",{className:"space-y-6 ".concat(h?"text-white":"text-gray-800"),children:[(0,Uw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Uw.jsxs)("h2",{className:"text-3xl font-bold flex items-center gap-3",children:[(0,Uw.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-violet-600 rounded-lg flex items-center justify-center",children:"\ud83d\udccb"}),"Order Management"]}),(0,Uw.jsxs)("div",{className:"flex items-center gap-3",children:[e.length>0&&(0,Uw.jsx)("select",{value:r||"",onChange:e=>o(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:e.map((e=>(0,Uw.jsxs)("option",{value:e.AccountID,children:[e.AccountType," Account (",e.AccountID,")"]},e.AccountID)))}),(0,Uw.jsxs)("button",{onClick:y,disabled:s||!r,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 flex items-center gap-2",children:[(0,Uw.jsx)(Ew.A,{className:"w-4 h-4 ".concat(s?"animate-spin":"")}),"Refresh"]})]})]}),u&&(0,Uw.jsx)("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded-lg",children:(0,Uw.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uw.jsx)(Rw,{className:"w-5 h-5"}),u]})}),(0,Uw.jsxs)("div",{className:"".concat(h?"bg-gray-800 border-gray-700":"bg-white border-gray-200"," border rounded-xl p-6"),children:[(0,Uw.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Filters"}),(0,Uw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Status"}),(0,Uw.jsxs)("select",{value:f.status,onChange:e=>p((t=>(0,a.A)((0,a.A)({},t),{},{status:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[(0,Uw.jsx)("option",{value:"",children:"All Statuses"}),(0,Uw.jsx)("option",{value:"PND",children:"Pending"}),(0,Uw.jsx)("option",{value:"FLL",children:"Filled"}),(0,Uw.jsx)("option",{value:"PFL",children:"Partially Filled"}),(0,Uw.jsx)("option",{value:"CAN",children:"Cancelled"}),(0,Uw.jsx)("option",{value:"REJ",children:"Rejected"})]})]}),(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Symbol"}),(0,Uw.jsx)("input",{type:"text",value:f.symbol,onChange:e=>p((t=>(0,a.A)((0,a.A)({},t),{},{symbol:e.target.value.toUpperCase()}))),placeholder:"e.g., AAPL",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),(0,Uw.jsxs)("div",{children:[(0,Uw.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Days Back"}),(0,Uw.jsxs)("select",{value:f.days_back,onChange:e=>p((t=>(0,a.A)((0,a.A)({},t),{},{days_back:parseInt(e.target.value)}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[(0,Uw.jsx)("option",{value:1,children:"1 Day"}),(0,Uw.jsx)("option",{value:7,children:"7 Days"}),(0,Uw.jsx)("option",{value:14,children:"14 Days"}),(0,Uw.jsx)("option",{value:30,children:"30 Days"})]})]})]})]}),i.length>0?(0,Uw.jsxs)("div",{className:"".concat(h?"bg-gray-800 border-gray-700":"bg-white border-gray-200"," border rounded-xl overflow-hidden"),children:[(0,Uw.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-600",children:(0,Uw.jsxs)("h3",{className:"text-lg font-semibold",children:["Orders (",i.length,")"]})}),(0,Uw.jsx)("div",{className:"overflow-x-auto",children:(0,Uw.jsxs)("table",{className:"w-full",children:[(0,Uw.jsx)("thead",{className:"".concat(h?"bg-gray-700":"bg-gray-50"),children:(0,Uw.jsxs)("tr",{children:[(0,Uw.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),(0,Uw.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Symbol"}),(0,Uw.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),(0,Uw.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,Uw.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),(0,Uw.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Uw.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Filled"}),(0,Uw.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),(0,Uw.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Uw.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:i.map((e=>(0,Uw.jsxs)("tr",{className:"".concat(h?"hover:bg-gray-700":"hover:bg-gray-50"),children:[(0,Uw.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Uw.jsxs)("div",{className:"text-sm font-mono text-gray-500",children:[e.order_id.substring(0,8),"..."]})}),(0,Uw.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Uw.jsx)("div",{className:"font-medium text-blue-600",children:e.symbol}),(0,Uw.jsx)("div",{className:"text-xs text-gray-500",children:e.asset_type})]}),(0,Uw.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Uw.jsxs)("span",{className:"".concat(e.quantity>=0?"text-green-600":"text-red-600"),children:[e.quantity>=0?"+":"",e.quantity]})}),(0,Uw.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.order_type}),(0,Uw.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.price?"$".concat(e.price.toFixed(2)):"Market"}),(0,Uw.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Uw.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat(g(e.status)),children:v(e.status)})}),(0,Uw.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.filled_quantity,"/",Math.abs(e.quantity)]}),(0,Uw.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[new Date(e.timestamp).toLocaleDateString()," ",new Date(e.timestamp).toLocaleTimeString()]}),(0,Uw.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:("PND"===e.status||"PFL"===e.status)&&(0,Uw.jsx)("button",{onClick:()=>(async e=>{try{c(!0),await pt.A.delete("".concat(Xw,"/tradestation/accounts/").concat(r,"/orders/").concat(e)),await y(),d(null)}catch(t){d("Failed to cancel order"),console.error("Cancel error:",t)}finally{c(!1)}})(e.order_id),disabled:s,className:"text-red-600 hover:text-red-800 disabled:opacity-50",children:(0,Uw.jsx)(Lw,{className:"w-4 h-4"})})})]},e.order_id)))})]})})]}):(0,Uw.jsx)("div",{className:"text-center py-12",children:s?(0,Uw.jsxs)(Uw.Fragment,{children:[(0,Uw.jsx)(Ew.A,{className:"w-16 h-16 text-gray-400 mx-auto mb-4 animate-spin"}),(0,Uw.jsx)("h3",{className:"text-lg font-medium text-gray-500 mb-2",children:"Loading Orders..."})]}):(0,Uw.jsxs)(Uw.Fragment,{children:[(0,Uw.jsx)(ww,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Uw.jsx)("h3",{className:"text-lg font-medium text-gray-500 mb-2",children:"No Orders Found"}),(0,Uw.jsx)("p",{className:"text-gray-400",children:"No orders match the current filters"})]})})]})},xj=()=>{const[e,n]=(0,t.useState)("processing"),[r,a]=(0,t.useState)("Processing authentication...");return(0,t.useEffect)((()=>{(async()=>{try{const e=new URLSearchParams(window.location.search),t=e.get("code"),r=e.get("state"),o=e.get("error");if(o)return n("error"),void a("Authentication failed: ".concat(o));if(!t)return n("error"),void a("No authorization code received");const i=await pt.A.get("".concat(Xw,"/auth/tradestation/callback?code=").concat(t,"&state=").concat(r));"success"===i.data.status?(n("success"),a("Authentication successful! You can close this window."),window.opener&&(window.opener.postMessage({type:"TRADESTATION_AUTH_SUCCESS",data:i.data},"*"),setTimeout((()=>window.close()),2e3))):(n("error"),a("Authentication failed"))}catch(e){n("error"),a("Authentication error: ".concat(e.message))}})()}),[]),(0,Uw.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:(0,Uw.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[(0,Uw.jsxs)("div",{className:"mb-6",children:[(0,Uw.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full flex items-center justify-center",children:"\ud83c\udfdb\ufe0f"}),(0,Uw.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"TradeStation Authentication"})]}),(0,Uw.jsxs)("div",{className:"mb-6",children:["processing"===e&&(0,Uw.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,Uw.jsx)(Ew.A,{className:"w-6 h-6 animate-spin text-blue-600"}),(0,Uw.jsx)("span",{className:"text-gray-600",children:"Processing..."})]}),"success"===e&&(0,Uw.jsxs)("div",{className:"text-center",children:[(0,Uw.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,Uw.jsx)(Fw.A,{className:"w-8 h-8 text-green-600"})}),(0,Uw.jsx)("p",{className:"text-green-700 font-medium",children:"Success!"})]}),"error"===e&&(0,Uw.jsxs)("div",{className:"text-center",children:[(0,Uw.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,Uw.jsx)(Bw.A,{className:"w-8 h-8 text-red-600"})}),(0,Uw.jsx)("p",{className:"text-red-700 font-medium",children:"Error"})]})]}),(0,Uw.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:r}),"processing"!==e&&(0,Uw.jsx)("button",{onClick:()=>window.close(),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Close Window"})]})})};function wj(){const[e,n]=(0,t.useState)("ts-portfolio"),[r,a]=(0,t.useState)(!1),[o,i]=(0,t.useState)(new Set(["TradeStation \ud83c\udfdb\ufe0f"])),{isDarkMode:l}=Gw();if("/tradestation-callback"===window.location.pathname)return(0,Uw.jsx)(xj,{});return(0,Uw.jsx)(rt,{children:(0,Uw.jsxs)("div",{className:"min-h-screen flex transition-all duration-300 ".concat(l?"bg-gradient-to-br from-slate-900 via-gray-900 to-slate-800":"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50"),children:[(0,Uw.jsx)(Qw,{activeTab:e,setActiveTab:n}),(0,Uw.jsx)("main",{className:"flex-1 transition-all duration-300 ".concat("ml-16 md:ml-64"," p-4 md:p-8"),children:(0,Uw.jsx)("div",{className:"max-w-7xl mx-auto",children:(()=>{switch(e){case"dashboard":default:return(0,Uw.jsx)(Jw,{});case"portfolio":return(0,Uw.jsx)(nj,{});case"investments":return(0,Uw.jsx)(t.Suspense,{fallback:(0,Uw.jsx)(Yw,{componentName:"Investment Scoring"}),children:(0,Uw.jsx)(Ww,{})});case"screener":return(0,Uw.jsx)(t.Suspense,{fallback:(0,Uw.jsx)(Yw,{componentName:"Advanced Screener"}),children:(0,Uw.jsx)(qw,{})});case"simple-screener":return(0,Uw.jsx)(rj,{});case"watchlist":return(0,Uw.jsx)(oj,{});case"technical":return(0,Uw.jsx)(aj,{});case"options-flow":return(0,Uw.jsx)(ij,{});case"dark-pool":return(0,Uw.jsx)(lj,{});case"congressional":return(0,Uw.jsx)(sj,{});case"trading-strategies":return(0,Uw.jsx)(cj,{});case"ts-auth":return(0,Uw.jsx)(mj,{});case"ts-portfolio":return(0,Uw.jsx)(yj,{});case"ts-balance":return(0,Uw.jsx)(gj,{});case"ts-trading":return(0,Uw.jsx)(vj,{});case"ts-orders":return(0,Uw.jsx)(bj,{});case"auto-trading":return(0,Uw.jsx)(dj,{});case"trading-history":return(0,Uw.jsx)(fj,{});case"performance":return(0,Uw.jsx)(pj,{});case"news":return(0,Uw.jsx)(hj,{})}})()})})]})})}function jj(){return(0,Uw.jsx)(Hw,{children:(0,Uw.jsx)(Kw,{children:(0,Uw.jsx)(wj,{})})})}r.createRoot(document.getElementById("root")).render((0,Uw.jsx)(t.StrictMode,{children:(0,Uw.jsx)(jj,{})}))})()})();
//# sourceMappingURL=main.29e6a384.js.map