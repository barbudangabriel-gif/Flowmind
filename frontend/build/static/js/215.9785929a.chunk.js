"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[215],{2215:(e,s,t)=>{t.r(s),t.d(s,{default:()=>i});var l=t(9379),a=t(5043),r=t(6767),o=t(1360),n=t(9855),c=t(579);const i=()=>{const e=(0,r.Zp)(),s=(0,r.zy)(),{symbols:t=[]}=s.state||{},[i,d]=(0,a.useState)([]),[x,u]=(0,a.useState)(0),p=e=>({TSL:13,TSLA:245.8,AAPL:230.56,MSFT:415.23,GOOGL:162.84,AMZN:186.5,META:520.45,NVDA:138.92}[e.toUpperCase()]||100);(0,a.useEffect)((()=>{if(t.length>0){const e=(new Date).toISOString().split("T")[0].replace(/-/g,"/").replace(/(\d{4})\/(\d{2})\/(\d{2})/,"$2/$3/$1"),s=t.map((s=>({id:Math.random().toString(36).substr(2,9),symbol:s.symbol||s,shares:"",date:e,cost:p(s.symbol||s),lots:[{id:Math.random().toString(36).substr(2,9),shares:"",date:e,cost:p(s.symbol||s)}]})));d(s)}}),[t]);const m=(e,s,t,l)=>{d((a=>{const r=[...a];return void 0===s?r[e][t]=l:r[e].lots[s][t]=l,r}))};return 0===t.length?(0,c.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center p-4",children:(0,c.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl p-8 text-center",children:[(0,c.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"No Symbols Selected"}),(0,c.jsx)("p",{className:"text-gray-600 mb-6",children:"Please go back and select symbols first."}),(0,c.jsx)("button",{onClick:()=>e("/portfolios/create/manual"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Symbol Selection"})]})}):(0,c.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center p-4",children:[(0,c.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl relative max-h-[90vh] flex flex-col",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between p-8 pb-4 flex-shrink-0",children:[(0,c.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Add Lots"}),(0,c.jsx)("button",{onClick:()=>{const s=i.map((e=>(0,l.A)((0,l.A)({},e),{},{shares:0,totalValue:0})));e("/portfolios",{state:{newPortfolio:{name:"Portfolio 4",holdings:s,cashBalance:x||0,totalValue:x||0}}})},className:"text-2xl font-bold text-gray-600 hover:text-gray-800 transition-colors",children:"Skip"})]}),(0,c.jsx)("div",{className:"px-8 pb-6 flex-shrink-0",children:(0,c.jsx)("p",{className:"text-gray-600",children:'If you do not wish to enter shares click "Skip" and the below symbols will be added to your portfolio.'})}),(0,c.jsx)("div",{className:"px-8 flex-shrink-0",children:(0,c.jsxs)("div",{className:"grid grid-cols-12 gap-4 text-gray-600 font-medium text-lg mb-4",children:[(0,c.jsx)("div",{className:"col-span-2"}),(0,c.jsx)("div",{className:"col-span-2 text-center",children:"# of Shares"}),(0,c.jsx)("div",{className:"col-span-2 text-center",children:"Date"}),(0,c.jsx)("div",{className:"col-span-2 text-center",children:"Cost"}),(0,c.jsx)("div",{className:"col-span-2 text-center",children:"+ Lot"}),(0,c.jsx)("div",{className:"col-span-2 text-center",children:"Del"})]})}),(0,c.jsx)("div",{className:"px-8 flex-1 overflow-y-auto",children:(0,c.jsx)("div",{className:"space-y-6",children:i.map(((e,s)=>(0,c.jsxs)("div",{className:"space-y-3",children:[(0,c.jsxs)("div",{className:"grid grid-cols-12 gap-4 items-center",children:[(0,c.jsx)("div",{className:"col-span-2",children:(0,c.jsx)("div",{className:"text-2xl font-bold text-gray-800",children:e.symbol})}),(0,c.jsx)("div",{className:"col-span-2",children:(0,c.jsx)("input",{type:"number",value:e.lots[0].shares,onChange:e=>m(s,0,"shares",e.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none text-center text-lg",placeholder:"0"})}),(0,c.jsx)("div",{className:"col-span-2",children:(0,c.jsx)("input",{type:"text",value:e.lots[0].date,onChange:e=>m(s,0,"date",e.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none text-center text-lg"})}),(0,c.jsx)("div",{className:"col-span-2",children:(0,c.jsx)("input",{type:"number",value:e.lots[0].cost,onChange:e=>m(s,0,"cost",e.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none text-center text-lg",step:"0.01"})}),(0,c.jsx)("div",{className:"col-span-2 flex justify-center",children:(0,c.jsx)("button",{onClick:()=>(e=>{d((s=>{const t=[...s],l={id:Math.random().toString(36).substr(2,9),shares:"",date:(new Date).toISOString().split("T")[0].replace(/-/g,"/").replace(/(\d{4})\/(\d{2})\/(\d{2})/,"$2/$3/$1"),cost:t[e].cost};return t[e].lots.push(l),t}))})(s),className:"p-3 text-gray-600 hover:text-blue-600 transition-colors",children:(0,c.jsx)(o.A,{size:24})})}),(0,c.jsx)("div",{className:"col-span-2 flex justify-center",children:(0,c.jsx)("button",{onClick:()=>(e=>{d((s=>s.filter(((s,t)=>t!==e))))})(s),className:"p-3 text-gray-600 hover:text-red-600 transition-colors",children:(0,c.jsx)(n.A,{size:24})})})]}),e.lots.slice(1).map(((e,t)=>(0,c.jsxs)("div",{className:"grid grid-cols-12 gap-4 items-center ml-8",children:[(0,c.jsx)("div",{className:"col-span-2"}),(0,c.jsx)("div",{className:"col-span-2",children:(0,c.jsx)("input",{type:"number",value:e.shares,onChange:e=>m(s,t+1,"shares",e.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none text-center",placeholder:"0"})}),(0,c.jsx)("div",{className:"col-span-2",children:(0,c.jsx)("input",{type:"text",value:e.date,onChange:e=>m(s,t+1,"date",e.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none text-center"})}),(0,c.jsx)("div",{className:"col-span-2",children:(0,c.jsx)("input",{type:"number",value:e.cost,onChange:e=>m(s,t+1,"cost",e.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none text-center",step:"0.01"})}),(0,c.jsx)("div",{className:"col-span-2"}),(0,c.jsx)("div",{className:"col-span-2 flex justify-center",children:(0,c.jsx)("button",{onClick:()=>((e,s)=>{d((t=>{const l=[...t];return l[e].lots.length>1&&l[e].lots.splice(s,1),l}))})(s,t+1),className:"p-3 text-gray-600 hover:text-red-600 transition-colors",children:(0,c.jsx)(n.A,{size:20})})})]},e.id)))]},e.id)))})}),(0,c.jsxs)("div",{className:"px-8 py-6 flex-shrink-0 border-t border-gray-200 mt-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,c.jsx)("div",{className:"text-xl font-medium text-gray-700",children:"Cash Balance In Portfolio"}),(0,c.jsx)("div",{className:"w-64",children:(0,c.jsx)("input",{type:"number",value:x,onChange:e=>u(e.target.value),className:"w-full px-6 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none text-center text-lg",placeholder:"0",step:"0.01"})})]}),(0,c.jsx)("button",{onClick:()=>{const s=i.reduce(((e,s)=>e+s.lots.reduce(((e,s)=>e+(parseFloat(s.shares)||0)*(parseFloat(s.cost)||0)),0)),0),t={name:"Portfolio 4",holdings:i.map((e=>({symbol:e.symbol,totalShares:e.lots.reduce(((e,s)=>e+(parseFloat(s.shares)||0)),0),averageCost:e.lots.reduce(((e,s)=>e+(parseFloat(s.cost)||0)),0)/e.lots.length,totalValue:e.lots.reduce(((e,s)=>e+(parseFloat(s.shares)||0)*(parseFloat(s.cost)||0)),0),lots:e.lots}))),cashBalance:parseFloat(x)||0,totalValue:s+(parseFloat(x)||0)};e("/portfolios",{state:{newPortfolio:t,message:'Portfolio "'.concat(t.name,'" created successfully!')}})},className:"w-full py-4 bg-gray-600 text-white text-xl font-semibold rounded-xl hover:bg-gray-700 transition-colors",children:"Save"})]})]}),(0,c.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 -z-10"})]})}}}]);
//# sourceMappingURL=215.9785929a.chunk.js.map