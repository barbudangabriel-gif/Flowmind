/*! For license information please see 152.1c6d3b66.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[152],{1152:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var a=s(5043),r=s(6767),l=s(4919),c=s(516),n=s(4537),i=s(3944),d=s(9292),o=s(8298);const x=(0,s(7784).A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var m=s(579);const h=()=>{const e=(0,r.Zp)(),[t,s]=(0,a.useState)(null),[h,g]=(0,a.useState)([]),[u,p]=(0,a.useState)(!1),[j,b]=(0,a.useState)(!1),[v,y]=(0,a.useState)(""),[N,f]=(0,a.useState)(50),[w,k]=(0,a.useState)(null),S="https://tradesmartview.preview.emergentagent.com",A=async()=>{try{const e=await fetch("".concat(S,"/api/scanner/status")),t=await e.json();s(t)}catch(e){console.error("Error fetching scanner status:",e),k("Eroare la ob\u021binerea statusului scanner-ului")}},_=async()=>{p(!0);try{const e=await fetch("".concat(S,"/api/scanner/top-stocks?limit=").concat(N)),t=await e.json();g(t.top_stocks||[]),k(null)}catch(e){console.error("Error fetching top stocks:",e),k("Eroare la ob\u021binerea ac\u021biunilor top")}finally{p(!1)}},C=async()=>{b(!0);try{const e=await fetch("".concat(S,"/api/scanner/start-scan"),{method:"POST"}),t=await e.json();e.ok?(k(null),setTimeout((()=>{A(),_()}),2e3)):k(t.detail||"Eroare la pornirea scan\u0103rii")}catch(e){console.error("Error starting scan:",e),k("Eroare la pornirea scan\u0103rii")}finally{b(!1)}};(0,a.useEffect)((()=>{A(),_()}),[N]),(0,a.useEffect)((()=>{const e=setInterval((()=>{A(),j||_()}),3e4);return()=>clearInterval(e)}),[j]);const E=h.filter((e=>{var t,s;return(null===(t=e.ticker)||void 0===t?void 0:t.toLowerCase().includes(v.toLowerCase()))||(null===(s=e.sector)||void 0===s?void 0:s.toLowerCase().includes(v.toLowerCase()))})),L=e=>e>=70?"text-green-400":e>=60?"text-yellow-400":e>=50?"text-orange-400":"text-red-400";return(0,m.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-6",children:(0,m.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,m.jsxs)("div",{className:"mb-8",children:[(0,m.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,m.jsx)("div",{className:"bg-blue-600 p-3 rounded-lg",children:(0,m.jsx)(l.A,{className:"w-8 h-8 text-white"})}),(0,m.jsxs)("div",{children:[(0,m.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Investment Scoring"}),(0,m.jsx)("p",{className:"text-gray-400",children:"Scanner pentru cele mai bune oportunit\u0103\u021bi de investi\u021bii"})]})]}),t&&(0,m.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,m.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,m.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Status Scanner"}),(0,m.jsxs)("div",{className:"flex gap-2",children:[(0,m.jsxs)("button",{onClick:()=>{A(),_()},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,m.jsx)(c.A,{className:"w-4 h-4"}),"Refresh"]}),(0,m.jsxs)("button",{onClick:C,disabled:j,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,m.jsx)(n.A,{className:"w-4 h-4"}),j?"Scanez...":"Start Scan"]})]})]}),(0,m.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,m.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4",children:[(0,m.jsx)("div",{className:"text-sm text-gray-400",children:"Status"}),(0,m.jsx)("div",{className:"font-semibold ".concat("completed"===t.status?"text-green-400":"text-yellow-400"),children:"completed"===t.status?"Completat":"no_scans"===t.status?"F\u0103r\u0103 scan\u0103ri":t.status})]}),(0,m.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4",children:[(0,m.jsx)("div",{className:"text-sm text-gray-400",children:"Total Ac\u021biuni"}),(0,m.jsx)("div",{className:"text-2xl font-bold text-white",children:t.total_stocks_scanned||0})]}),(0,m.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4",children:[(0,m.jsx)("div",{className:"text-sm text-gray-400",children:"Ultima Scanare"}),(0,m.jsx)("div",{className:"text-white",children:t.last_scan_date?new Date(t.last_scan_date).toLocaleDateString("ro-RO"):"N/A"})]}),(0,m.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4",children:[(0,m.jsx)("div",{className:"text-sm text-gray-400",children:"Database"}),(0,m.jsx)("div",{className:"font-semibold ".concat("active"===t.database_status?"text-green-400":"text-red-400"),children:"active"===t.database_status?"Activ":"Inactiv"})]})]}),t.top_5_stocks&&t.top_5_stocks.length>0&&(0,m.jsxs)("div",{className:"mt-4",children:[(0,m.jsx)("div",{className:"text-sm text-gray-400 mb-2",children:"Top 5 Ac\u021biuni:"}),(0,m.jsx)("div",{className:"flex flex-wrap gap-2",children:t.top_5_stocks.map(((e,t)=>(0,m.jsxs)("div",{className:"bg-gray-700 rounded-lg px-3 py-2 flex items-center gap-2",children:[(0,m.jsx)(i.A,{className:"w-4 h-4 text-yellow-400"}),(0,m.jsx)("span",{className:"text-white font-medium",children:e.ticker}),(0,m.jsx)("span",{className:"text-sm ".concat(L(e.score)),children:e.score})]},t)))})]})]})]}),(0,m.jsx)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700 mb-6",children:(0,m.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[(0,m.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,m.jsxs)("div",{className:"relative",children:[(0,m.jsx)(d.A,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),(0,m.jsx)("input",{type:"text",placeholder:"Caut\u0103 ticker sau sector...",value:v,onChange:e=>y(e.target.value),className:"bg-gray-700 text-white pl-10 pr-4 py-2 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none w-64"})]}),(0,m.jsxs)("div",{className:"flex items-center gap-2",children:[(0,m.jsx)(o.A,{className:"w-5 h-5 text-gray-400"}),(0,m.jsxs)("select",{value:N,onChange:e=>f(parseInt(e.target.value)),className:"bg-gray-700 text-white px-3 py-2 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none",children:[(0,m.jsx)("option",{value:25,children:"25 rezultate"}),(0,m.jsx)("option",{value:50,children:"50 rezultate"}),(0,m.jsx)("option",{value:100,children:"100 rezultate"})]})]})]}),(0,m.jsxs)("div",{className:"text-gray-400 text-sm",children:[E.length," din ",h.length," ac\u021biuni"]})]})}),w&&(0,m.jsx)("div",{className:"bg-red-900/50 border border-red-500 rounded-lg p-4 mb-6",children:(0,m.jsx)("div",{className:"text-red-400",children:w})}),u?(0,m.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,m.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full"}),(0,m.jsx)("span",{className:"ml-3 text-gray-400",children:"Se \xeencarc\u0103 datele..."})]}):E.length>0?(0,m.jsx)("div",{className:"bg-gray-800 rounded-xl border border-gray-700 overflow-hidden",children:(0,m.jsx)("div",{className:"overflow-x-auto",children:(0,m.jsxs)("table",{className:"w-full",children:[(0,m.jsx)("thead",{className:"bg-gray-700",children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{className:"text-left px-6 py-4 text-gray-300 font-semibold",children:"Rank"}),(0,m.jsx)("th",{className:"text-left px-6 py-4 text-gray-300 font-semibold",children:"Ticker"}),(0,m.jsx)("th",{className:"text-left px-6 py-4 text-gray-300 font-semibold",children:"Scor"}),(0,m.jsx)("th",{className:"text-left px-6 py-4 text-gray-300 font-semibold",children:"Rating"}),(0,m.jsx)("th",{className:"text-left px-6 py-4 text-gray-300 font-semibold",children:"Pre\u021b"}),(0,m.jsx)("th",{className:"text-left px-6 py-4 text-gray-300 font-semibold",children:"Sector"}),(0,m.jsx)("th",{className:"text-left px-6 py-4 text-gray-300 font-semibold",children:"Explica\u021bie"})]})}),(0,m.jsx)("tbody",{className:"divide-y divide-gray-700",children:E.map(((t,s)=>{return(0,m.jsxs)("tr",{className:"hover:bg-gray-700 transition-colors group",children:[(0,m.jsx)("td",{className:"px-6 py-4",children:(0,m.jsx)("div",{className:"flex items-center gap-2",children:(0,m.jsxs)("span",{className:"bg-blue-600 text-white px-2 py-1 rounded text-sm font-medium",children:["#",s+1]})})}),(0,m.jsx)("td",{className:"px-6 py-4",children:(0,m.jsxs)("button",{onClick:()=>{return s=t.ticker,void e("/stock-analysis/".concat(s));var s},className:"font-semibold text-blue-400 hover:text-blue-300 text-lg transition-colors duration-200 flex items-center gap-2 group-hover:gap-3",title:"Analizeaz\u0103 ".concat(t.ticker," \xeen detaliu"),children:[t.ticker,(0,m.jsx)(x,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 transition-all duration-200"})]})}),(0,m.jsx)("td",{className:"px-6 py-4",children:(0,m.jsx)("div",{className:"text-xl font-bold ".concat(L(t.score)),children:t.score})}),(0,m.jsx)("td",{className:"px-6 py-4",children:(0,m.jsx)("div",{className:"font-medium ".concat((a=t.rating,null!==a&&void 0!==a&&a.includes("BUY")?"text-green-400":null!==a&&void 0!==a&&a.includes("HOLD")?"text-yellow-400":null!==a&&void 0!==a&&a.includes("SELL")?"text-red-400":"text-gray-400")),children:t.rating})}),(0,m.jsx)("td",{className:"px-6 py-4",children:(0,m.jsx)("div",{className:"text-white",children:"N/A"!==t.price?"$".concat(t.price):"N/A"})}),(0,m.jsx)("td",{className:"px-6 py-4",children:(0,m.jsx)("div",{className:"text-gray-300",children:t.sector})}),(0,m.jsx)("td",{className:"px-6 py-4",children:(0,m.jsx)("div",{className:"text-gray-400 text-sm max-w-xs truncate",children:t.explanation})})]},s);var a}))})]})})}):(0,m.jsxs)("div",{className:"bg-gray-800 rounded-xl p-12 text-center border border-gray-700",children:[(0,m.jsx)(l.A,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),(0,m.jsx)("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:"Nu exist\u0103 date"}),(0,m.jsx)("p",{className:"text-gray-500 mb-6",children:"no_scans"===(null===t||void 0===t?void 0:t.status)?'Nu s-au efectuat scan\u0103ri \xeenc\u0103. Apas\u0103 "Start Scan" pentru a \xeencepe.':"Nu s-au g\u0103sit ac\u021biuni conform criteriilor de c\u0103utare."}),"no_scans"===(null===t||void 0===t?void 0:t.status)&&(0,m.jsxs)("button",{onClick:C,disabled:j,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white px-6 py-3 rounded-lg flex items-center gap-2 mx-auto transition-colors",children:[(0,m.jsx)(n.A,{className:"w-5 h-5"}),j?"Se scaneaz\u0103...":"Porne\u0219te Scanarea"]})]}),h.length>0&&(0,m.jsx)("div",{className:"mt-6 bg-gray-800 rounded-xl p-6 border border-gray-700",children:(0,m.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"text-2xl font-bold text-green-400",children:h.filter((e=>e.score>=70)).length}),(0,m.jsx)("div",{className:"text-gray-400",children:"Scor \u2265 70 (Excelent)"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:h.filter((e=>e.score>=60&&e.score<70)).length}),(0,m.jsx)("div",{className:"text-gray-400",children:"Scor 60-69 (Bun)"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"text-2xl font-bold text-orange-400",children:h.filter((e=>e.score<60)).length}),(0,m.jsx)("div",{className:"text-gray-400",children:"Scor < 60 (Moderat)"})]})]})})]})})}},8298:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])}}]);
//# sourceMappingURL=152.1c6d3b66.chunk.js.map