/*! For license information please see 491.de58cdac.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[491],{491:(e,s,t)=>{t.r(s),t.d(s,{default:()=>j});var a=t(5043),l=t(9722),i=t(2489);const c=(0,t(7784).A)("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);var n=t(2054),r=t(6245),d=t(516),o=t(5347),x=t(9292),m=t(3033),g=t(73),h=t(7033),p=t(579);const u="".concat("https://flowmind-analytics-2.preview.emergentagent.com","/api"),j=a.memo((()=>{const[e,s]=(0,a.useState)([]),[t,j]=(0,a.useState)(null),[b,v]=(0,a.useState)([]),[y,N]=(0,a.useState)("Technology"),[f,w]=(0,a.useState)(""),[k,A]=(0,a.useState)(null),[S,E]=(0,a.useState)("top-picks"),[C,D]=(0,a.useState)(!1),z=(0,a.useCallback)((async()=>{D(!0);try{console.log("Loading top picks from:","".concat(u,"/investments/top-picks?limit=10"));const e=await l.A.get("".concat(u,"/investments/top-picks?limit=10"));console.log("Top picks response:",e.data);const t=e.data.recommendations||[];console.log("Setting topPicks to:",t.length,"items"),s(t)}catch(e){console.error("Error loading top picks:",e),s([])}finally{D(!1)}}),[]),O=(0,a.useCallback)((async()=>{try{console.log("Loading risk analysis...");const e=await l.A.get("".concat(u,"/investments/risk-analysis"));console.log("Risk analysis response:",e.data),j(e.data)}catch(e){console.error("Error loading risk analysis:",e),j(null)}}),[]),R=(0,a.useCallback)((async()=>{try{console.log("Loading sector leaders for: ".concat(y));const e=await l.A.get("".concat(u,"/investments/sector-leaders?sector=").concat(y));console.log("Sector leaders response:",e.data),v(e.data.leaders||[])}catch(e){console.error("Error loading sector leaders:",e),v([])}}),[y]),L=(0,a.useCallback)((async()=>{if(f){D(!0);try{console.log("Analyzing stock: ".concat(f));const e=await l.A.get("".concat(u,"/investments/score/").concat(f));console.log("Stock analysis response:",e.data),A(e.data)}catch(e){console.error("Error analyzing stock:",e),A(null)}finally{D(!1)}}}),[f]);(0,a.useEffect)((()=>{z(),O()}),[]),(0,a.useEffect)((()=>{y&&R()}),[y,R]);const T=e=>{switch(e){case"BUY STRONG":return"text-green-700 bg-green-100";case"BUY":return"text-green-600 bg-green-50";case"HOLD +":return"text-blue-600 bg-blue-50";case"HOLD":default:return"text-gray-600 bg-gray-50";case"HOLD -":return"text-yellow-600 bg-yellow-50";case"AVOID":return"text-red-600 bg-red-50"}},_=e=>{switch(e){case"LOW":return"text-green-700 bg-green-100";case"MODERATE":return"text-yellow-600 bg-yellow-100";case"HIGH":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},I=e=>e>=85?"text-green-700":e>=75?"text-green-600":e>=65?"text-blue-600":e>=55?"text-yellow-600":"text-red-600",M=e=>{var s,t;let{investment:a,showDetails:l=!1}=e;return a?(0,p.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow",children:[(0,p.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:a.symbol||"N/A"}),(0,p.jsx)("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium ".concat(T(a.rating||"HOLD")),children:a.rating||"HOLD"})]}),(0,p.jsxs)("div",{className:"text-right",children:[(0,p.jsx)("div",{className:"text-2xl font-bold ".concat(I(a.total_score||50)),children:a.total_score||"N/A"}),(0,p.jsx)("div",{className:"text-xs text-gray-500",children:"Score"})]})]}),(0,p.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(i.A,{className:"w-4 h-4 ".concat(_(a.risk_level||"MODERATE").split(" ")[0])}),(0,p.jsxs)("span",{className:"text-xs px-2 py-1 rounded ".concat(_(a.risk_level||"MODERATE")),children:[a.risk_level||"MODERATE"," RISK"]})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,p.jsx)(c,{className:"w-4 h-4 text-gray-500"}),(0,p.jsx)("span",{className:"text-xs text-gray-600",children:a.investment_horizon||"MEDIUM-TERM"})]})]}),(0,p.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:a.explanation||"Investment analysis pending..."}),l&&(0,p.jsxs)("div",{className:"space-y-3",children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("h4",{className:"text-sm font-semibold text-green-600 mb-1 flex items-center",children:[(0,p.jsx)(n.A,{className:"w-4 h-4 mr-1"}),"Key Strengths"]}),(0,p.jsx)("div",{className:"flex flex-wrap gap-1",children:(a.key_strengths||[]).map(((e,s)=>(0,p.jsx)("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded",children:e},s)))})]}),(a.key_risks||[]).length>0&&(0,p.jsxs)("div",{children:[(0,p.jsxs)("h4",{className:"text-sm font-semibold text-red-600 mb-1 flex items-center",children:[(0,p.jsx)(r.A,{className:"w-4 h-4 mr-1"}),"Key Risks"]}),(0,p.jsx)("div",{className:"flex flex-wrap gap-1",children:(a.key_risks||[]).map(((e,s)=>(0,p.jsx)("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded",children:e},s)))})]}),(0,p.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"text-xs text-gray-500",children:"Valuation Score"}),(0,p.jsx)("div",{className:"font-medium",children:(null===(s=a.individual_scores)||void 0===s?void 0:s.pe)||"N/A"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"text-xs text-gray-500",children:"Momentum Score"}),(0,p.jsx)("div",{className:"font-medium",children:(null===(t=a.individual_scores)||void 0===t?void 0:t.momentum)||"N/A"})]})]})]})]}):(0,p.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-md",children:"Loading..."})};return(0,p.jsxs)("div",{className:"space-y-6",children:[(0,p.jsxs)("div",{className:"flex justify-between items-center",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83c\udfaf Investment Scoring"}),(0,p.jsx)("p",{className:"text-gray-600",children:"AI-powered investment analysis and recommendations"})]}),(0,p.jsx)("div",{className:"flex space-x-3",children:(0,p.jsxs)("button",{onClick:z,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[(0,p.jsx)(d.A,{size:20}),(0,p.jsx)("span",{children:"Refresh"})]})})]}),(0,p.jsx)("div",{className:"bg-white p-1 rounded-lg shadow-sm",children:(0,p.jsx)("div",{className:"flex space-x-1",children:[{id:"top-picks",label:"Top Picks",icon:o.A},{id:"search",label:"Stock Analysis",icon:x.A},{id:"sectors",label:"Sector Leaders",icon:m.A},{id:"risk",label:"Risk Analysis",icon:i.A}].map((e=>{const s=e.icon;return(0,p.jsxs)("button",{onClick:()=>E(e.id),className:"flex items-center space-x-2 px-4 py-2 rounded-md transition-colors ".concat(S===e.id?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"),children:[(0,p.jsx)(s,{size:16}),(0,p.jsx)("span",{children:e.label})]},e.id)}))})}),"top-picks"===S&&(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,p.jsxs)("h3",{className:"text-lg font-semibold text-blue-800 mb-2 flex items-center",children:[(0,p.jsx)(o.A,{className:"mr-2",size:20}),"Top Investment Picks"]}),(0,p.jsx)("p",{className:"text-blue-600 text-sm",children:"Stocks ranked by comprehensive scoring algorithm considering valuation, momentum, growth, and risk factors."}),(0,p.jsxs)("div",{className:"text-xs text-blue-500 mt-2",children:["Debug: Found ",(null===e||void 0===e?void 0:e.length)||0," top picks"]})]}),e&&0!==e.length?(0,p.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.slice(0,9).map(((e,s)=>(0,p.jsxs)("div",{className:"relative",children:[s<3&&(0,p.jsxs)("div",{className:"absolute -top-2 -right-2 bg-yellow-400 text-yellow-900 text-xs font-bold px-2 py-1 rounded-full z-10",children:["#",s+1]}),(0,p.jsx)(M,{investment:e})]},(null===e||void 0===e?void 0:e.symbol)||s)))}):(0,p.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[(0,p.jsx)("div",{className:"text-gray-500",children:C?"Loading investment recommendations...":"No investment picks available. Try refreshing."}),(0,p.jsx)("button",{onClick:z,className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Refresh Data"})]})]}),"search"===S&&(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,p.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[(0,p.jsx)(x.A,{className:"mr-2",size:20}),"Stock Analysis"]}),(0,p.jsxs)("div",{className:"flex space-x-4",children:[(0,p.jsx)("input",{type:"text",value:f,onChange:e=>w(e.target.value.toUpperCase()),placeholder:"Enter stock symbol (e.g., AAPL)",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,p.jsxs)("button",{onClick:L,disabled:C,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2 disabled:opacity-50",children:[C?(0,p.jsx)(d.A,{className:"animate-spin",size:20}):(0,p.jsx)(g.A,{size:20}),(0,p.jsx)("span",{children:"Analyze"})]})]})]}),k&&(0,p.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,p.jsx)("div",{className:"lg:col-span-2",children:(0,p.jsx)(M,{investment:k,showDetails:!0})}),(0,p.jsx)("div",{className:"space-y-4",children:(0,p.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[(0,p.jsxs)("h4",{className:"font-semibold mb-3 flex items-center",children:[(0,p.jsx)(h.A,{className:"mr-2",size:16}),"Score Breakdown"]}),(0,p.jsx)("div",{className:"space-y-2",children:Object.entries(k.individual_scores||{}).map((e=>{let[s,t]=e;return(0,p.jsxs)("div",{className:"flex justify-between items-center",children:[(0,p.jsx)("span",{className:"text-sm text-gray-600 capitalize",children:s.replace("_"," ")}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:(0,p.jsx)("div",{className:"h-2 rounded-full ".concat(I(t).replace("text-","bg-")),style:{width:"".concat(Math.max(0,Math.min(100,t)),"%")}})}),(0,p.jsx)("span",{className:"text-sm font-medium w-8",children:t})]})]},s)}))})]})})]})]}),"sectors"===S&&(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-md",children:(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("h3",{className:"text-lg font-semibold flex items-center",children:[(0,p.jsx)(m.A,{className:"mr-2",size:20}),"Sector Leaders"]}),(0,p.jsx)("select",{value:y,onChange:e=>N(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:["Technology","Healthcare","Financial Services","Consumer Cyclical","Communication Services","Industrials","Consumer Defensive","Energy","Utilities","Real Estate","Basic Materials"].map((e=>(0,p.jsx)("option",{value:e,children:e},e)))})]})}),(0,p.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map((e=>(0,p.jsx)(M,{investment:e},e.symbol)))})]}),"risk"===S&&t&&(0,p.jsxs)("div",{className:"space-y-6",children:[(0,p.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[(0,p.jsxs)("h3",{className:"text-lg font-semibold mb-2 flex items-center",children:[(0,p.jsx)(i.A,{className:"mr-2",size:20}),"Risk-Based Investment Categories"]}),(0,p.jsx)("p",{className:"text-gray-600 text-sm",children:t.methodology})]}),(0,p.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:Object.entries(t.risk_categories).map((e=>{let[s,t]=e;return(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{className:"p-3 rounded-lg ".concat(_(s)),children:[(0,p.jsxs)("h4",{className:"font-semibold flex items-center",children:[(0,p.jsx)(i.A,{className:"mr-2",size:16}),s," RISK"]}),(0,p.jsxs)("p",{className:"text-xs mt-1",children:["LOW"===s&&"Stable, established companies with predictable returns","MODERATE"===s&&"Balanced risk-reward profile for steady growth","HIGH"===s&&"Higher volatility with potential for significant returns"]})]}),(0,p.jsx)("div",{className:"space-y-3",children:t.map((e=>(0,p.jsx)(M,{investment:e},e.symbol)))})]},s)}))})]})]})}))}}]);
//# sourceMappingURL=491.de58cdac.chunk.js.map