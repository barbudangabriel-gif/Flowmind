"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[879],{879:(e,s,t)=>{t.r(s),t.d(s,{default:()=>n});var r=t(5043),a=t(1547),l=t(579);const i=e=>{let{symbol:s="META",interval:t="1D",height:i=500}=e;const n=(0,r.useRef)(),o=(0,r.useRef)(),[c,d]=(0,r.useState)(!0),[h,m]=(0,r.useState)(null),[x,g]=(0,r.useState)([]);return(0,r.useEffect)((()=>{if(!n.current||!o.current)return;const e=setTimeout((async()=>{try{if(d(!0),m(null),console.log("\ud83d\ude80 Initializing Lightweight Charts v5.0.8 TEST for",s),console.log("\ud83d\udcca createChart function type:",typeof a.R9),"function"!==typeof a.R9)throw new Error("createChart is not available - lightweight-charts import failed");const e="META"===s?785.23:"AAPL"===s?229.2:100;console.log("\ud83d\udcb0 Mock price for ".concat(s,": $").concat(e));const t=e=>{const s=[],t=Date.now();for(let r=60;r>=0;r--){const a=Math.floor((t-864e5*r)/1e3),l=.015*e,i=e*(1+.03*Math.sin(r/10)+(Math.random()-.5)*l*(r/60)),n=.012*i,o=i+(Math.random()-.5)*n,c=0===r?e:i+(Math.random()-.5)*n,d=Math.max(o,c)+Math.random()*n*.4,h=Math.min(o,c)-Math.random()*n*.4,m=8e5+3e6*Math.abs((c-o)/o),x=Math.floor(m*(.3+1.4*Math.random()));s.push({time:a,open:parseFloat(o.toFixed(2)),high:parseFloat(d.toFixed(2)),low:parseFloat(h.toFixed(2)),close:parseFloat(c.toFixed(2)),volume:x})}return s.sort(((e,s)=>e.time-s.time))},r=t(e);g(r),console.log("\ud83d\udcc8 Generated ".concat(r.length," realistic data points")),n.current.innerHTML="",o.current.innerHTML="",console.log("\ud83c\udfa8 Creating main price chart...");const l=(0,a.R9)(n.current,{width:n.current.clientWidth||800,height:.7*i,layout:{background:{color:"#0a0a0a"},textColor:"#d1d5db"},grid:{vertLines:{color:"#1f1f1f"},horzLines:{color:"#1f1f1f"}},crosshair:{mode:1,vertLine:{color:"#6b7280",width:1,style:3},horzLine:{color:"#6b7280",width:1,style:3}},timeScale:{timeVisible:!0,secondsVisible:!1,borderColor:"#374151"},rightPriceScale:{borderColor:"#374151",textColor:"#d1d5db"}});console.log("\u2705 Main chart created successfully");l.addCandlestickSeries({upColor:"#00d4aa",downColor:"#ff6b6b",borderVisible:!1,wickUpColor:"#00d4aa",wickDownColor:"#ff6b6b",priceFormat:{type:"price",precision:2,minMove:.01}}).setData(r),console.log("\ud83d\udcca Candlestick data set successfully"),console.log("\ud83d\udcca Creating volume chart...");const c=(0,a.R9)(o.current,{width:o.current.clientWidth||800,height:.3*i,layout:{background:{color:"#0a0a0a"},textColor:"#d1d5db"},grid:{vertLines:{color:"#1f1f1f"},horzLines:{color:"#1f1f1f"}},timeScale:{timeVisible:!0,secondsVisible:!1,borderColor:"#374151"},rightPriceScale:{borderColor:"#374151",textColor:"#d1d5db"}});console.log("\u2705 Volume chart created successfully");const h=r.map((e=>({time:e.time,value:e.volume,color:e.close>=e.open?"#00d4aa":"#ff6b6b"})));c.addHistogramSeries({color:"#26a69a",priceFormat:{type:"volume"}}).setData(h),console.log("\ud83d\udcca Volume data set successfully"),l.timeScale().subscribeVisibleTimeRangeChange((e=>{e&&c.timeScale().setVisibleRange(e)})),c.timeScale().subscribeVisibleTimeRangeChange((e=>{e&&l.timeScale().setVisibleRange(e)})),console.log("\ud83d\udd17 Charts synchronized successfully"),console.log("\ud83c\udf89 LIGHTWEIGHT CHARTS v5.0.8 TEST SUCCESSFUL!"),d(!1);const x=()=>{var e;const s=(null===(e=n.current)||void 0===e?void 0:e.clientWidth)||800;l.applyOptions({width:s}),c.applyOptions({width:s})};return window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x);try{l.remove(),c.remove(),console.log("\ud83e\uddf9 Charts cleanup completed")}catch(e){console.warn("\u26a0\ufe0f Error during charts cleanup:",e)}}}catch(e){console.error("\ud83d\udca5 Chart initialization error:",e),m("Chart Error: ".concat(e.message)),d(!1)}}),100);return()=>clearTimeout(e)}),[s,i]),c?(0,l.jsx)("div",{className:"bg-gray-900 rounded-lg border border-green-500",style:{height:i},children:(0,l.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin w-10 h-10 border-4 border-green-500 border-t-transparent rounded-full mx-auto mb-4"}),(0,l.jsx)("div",{className:"text-green-400 font-semibold text-lg",children:"\ud83e\uddea Testing Lightweight Charts v5.0.8"}),(0,l.jsxs)("div",{className:"text-gray-400 text-sm mt-2",children:["Mock data test for ",s]}),(0,l.jsx)("div",{className:"text-gray-500 text-xs mt-1",children:"Static import \u2022 Mock data \u2022 Dual charts"})]})})}):h?(0,l.jsx)("div",{className:"bg-gray-900 rounded-lg border-2 border-red-500",style:{height:i},children:(0,l.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,l.jsxs)("div",{className:"text-center p-6",children:[(0,l.jsx)("div",{className:"text-red-400 text-2xl font-bold mb-3",children:"\ud83d\udca5 Test Chart Error"}),(0,l.jsx)("div",{className:"text-gray-200 text-sm mb-4 max-w-md bg-gray-800 p-3 rounded-lg border border-gray-600",children:h})]})})}):(0,l.jsxs)("div",{className:"bg-gray-900 rounded-lg overflow-hidden border border-green-500 shadow-2xl",children:[(0,l.jsx)("div",{className:"bg-green-800 p-4 border-b border-gray-700",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("span",{className:"text-white text-lg font-bold",children:"\ud83e\uddea LIGHTWEIGHT CHARTS v5.0.8 TEST - SUCCESS!"}),(0,l.jsxs)("div",{className:"text-green-200 text-sm mt-1",children:["Chart rendering verified \u2022 ",s," \u2022 ",x.length," data points"]})]})}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{ref:n,className:"w-full border-b border-gray-600",style:{height:.7*i}}),(0,l.jsx)("div",{ref:o,className:"w-full",style:{height:.3*i}})]}),(0,l.jsx)("div",{className:"bg-green-800 p-3 border-t border-gray-700",children:(0,l.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,l.jsxs)("div",{className:"text-gray-200",children:["\u2705 ",(0,l.jsx)("span",{className:"text-white font-bold",children:"Chart Integration: WORKING"}),(0,l.jsx)("span",{className:"text-gray-300 mx-1",children:"\u2022"}),(0,l.jsx)("span",{className:"text-green-200 font-medium",children:"Mock data test"}),(0,l.jsx)("span",{className:"text-gray-300 mx-1",children:"\u2022"}),(0,l.jsxs)("span",{className:"text-white font-medium",children:[x.length," bars"]})]}),(0,l.jsxs)("div",{className:"text-gray-300",children:["\u26a1 ",(0,l.jsx)("span",{className:"text-green-200 font-bold",children:"Lightweight Charts v5.0.8"}),(0,l.jsx)("span",{className:"text-gray-300 mx-1",children:"\u2022"}),(0,l.jsx)("span",{className:"text-gray-200",children:"Test Mode"})]})]})})]})},n=()=>(0,l.jsx)("div",{className:"min-h-screen bg-gray-900 p-6",children:(0,l.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"\ud83d\udcc8 Lightweight Charts v5.0.8 Integration Test"}),(0,l.jsx)("p",{className:"text-gray-400",children:"Testing chart functionality with mock data to verify the library integration"})]}),(0,l.jsxs)("div",{className:"space-y-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"META Test Chart"}),(0,l.jsx)(i,{symbol:"META",height:500})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"AAPL Test Chart"}),(0,l.jsx)(i,{symbol:"AAPL",height:400})]}),(0,l.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg border border-gray-700",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"Test Status"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("span",{className:"w-4 h-4 bg-green-500 rounded-full mr-3"}),(0,l.jsx)("span",{className:"text-gray-300",children:"Lightweight Charts v5.0.8 imported successfully"})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("span",{className:"w-4 h-4 bg-green-500 rounded-full mr-3"}),(0,l.jsx)("span",{className:"text-gray-300",children:"Static import working"})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("span",{className:"w-4 h-4 bg-green-500 rounded-full mr-3"}),(0,l.jsx)("span",{className:"text-gray-300",children:"Dual charts (price + volume) rendering"})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("span",{className:"w-4 h-4 bg-green-500 rounded-full mr-3"}),(0,l.jsx)("span",{className:"text-gray-300",children:"Chart synchronization working"})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("span",{className:"w-4 h-4 bg-yellow-500 rounded-full mr-3"}),(0,l.jsx)("span",{className:"text-gray-300",children:"API integration needs CORS fix for production"})]})]})]})]})]})})}}]);
//# sourceMappingURL=879.d7e6c3ef.chunk.js.map